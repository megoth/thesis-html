<!DOCTYPE HTML>
<html>
<head>
    <meta name="GENERATOR" content="TtH 4.01">
    <title> A JavaScript API for accessing Semantic Web</title>
    <link rel="stylesheet" type="text/css" href="style/stylesheets/screen.css"/>
</head>
<body>

<div id="Header">
    <h1 class="center">A JavaScript API for accessing Semantic Web</h1>
    <h2 class="center">Arne Hassel</h2>
    <h3 class="center">Spring 2012</h3>
</div>

<div id="Preface">
    <h2>Acknowledgments</h2>
    <p>
        I want to thank Kjetil Kjernsmo and Martin Giese, my supervisors who are both part of the research group Logic and Intelligent Data. They have contributed with invaluable advice along my study, and with great enthusiasm for the research field.
    </p>
    <p>
        I also want to thank my family, especially my parents, who have supported me all my life, and patiently allowed me to take my time. I hope I make you proud.
    </p>
    <p>
        And finally, I owe a great deal to my beloved Veronika, with whom I share love eternal.
    </p>

    <h2>Abstract</h2>
    <p>
        The thesis describes and discusses the development of the framework Graphite, an implementation of a JS <abbr title="Application Programming Interface">API</abbr> for accessing SW. It outlines the necessary background in terms of technology, standards and tools, and how this becomes a part of the framework. SDPs are a central tool to help its design, and emphasis is put on splitting the functionality into separate modules that can be reused by other works within JS. I conclude that modularization is a necessary feature to support in works that try to take on SW, as it requires a lot of components that need to collaborate in a multitude of ways. As such, the prospect of a singular framework being the de facto tool for JS developers wanting to access SW seems dim. A better approach is to create modules that can be reused by several frameworks, the result being that developers may pick and choose from a variety of approaches.
    </p>
</div>

<h2>Contents</h2>

<ul id="TOC">
    <li><a href="#tth_chAp1">1 Introduction</a></li>
    <li>
        I Foundations
        <ul>
            <li>
                <a href="#tth_chAp2">2 Background</a>
                <ul>
                    <li>
                        <a href="#tth_sEc2.1">2.1 SW</a>
                        <ul>
                            <li><a href="#tth_sEc2.1.1">2.1.1 RDF</a></li>
                            <li><a href="#tth_sEc2.1.2">2.1.2 RDFS</a></li>
                            <li><a href="#tth_sEc2.1.3">2.1.3 OWL</a></li>
                            <li>
                                <a href="#tth_sEc2.1.4">2.1.4 LD</a>
                                <ul>
                                    <li><a href="#tth_sEc2.1.4.1">2.1.4.1 LOD</a></li>
                                    <li><a href="#tth_sEc2.1.4.2">2.1.4.2 URL vs. URI vs. IRI</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="#tth_sEc2.1.5">2.1.5 Serializations</a>
                                <ul>
                                    <li><a href="#tth_sEc2.1.5.1">2.1.5.1 RDF/XML</a></li>
                                    <li><a href="#tth_sEc2.1.5.2">2.1.5.2 Turtle</a></li>
                                    <li><a href="#tth_sEc2.1.5.3">2.1.5.3 N3</a></li>
                                    <li><a href="#tth_sEc2.1.5.4">2.1.5.4 N-Triples</a></li>
                                    <li><a href="#tth_sEc2.1.5.5">2.1.5.5 RDF JSON</a></li>
                                    <li><a href="#tth_sEc2.1.5.6">2.1.5.6 JSON-LD</a></li>
                                    <li><a href="#tth_sEc2.1.5.7">2.1.5.7 RDFa</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="#tth_sEc2.1.6">2.1.6 Querying</a>
                                <ul>
                                    <li><a href="#tth_sEc2.1.6.1">2.1.6.1 SPARQL</a></li>
                                    <li><a href="#tth_sEc2.1.6.2">2.1.6.2 SPARQL Update Language</a></li>
                                </ul>
                            </li>
                            <li><a href="#tth_sEc2.1.7">2.1.7 Entailment</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#tth_sEc2.2">2.2 JS</a>
                        <ul>
                            <li>
                                <a href="#tth_sEc2.2.1">2.2.1 Object-Oriented</a>
                                <ul>
                                    <li><a href="#tth_sEc2.2.1.1">2.2.1.1 Prototypical Inheritance</a></li>
                                    <li><a href="#tth_sEc2.2.1.2">2.2.1.2 Dynamic Properties</a></li>
                                    <li><a href="#tth_sEc2.2.1.3">2.2.1.3 Functional Features</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="#tth_sEc2.2.2">2.2.2 Scope</a>
                                <ul>
                                    <li><a href="#tth_sEc2.2.2.1">2.2.2.1 Closure</a></li>
                                </ul>
                            </li>
                            <li><a href="#tth_sEc2.2.3">2.2.3 Static functions</a></li>
                            <li><a href="#tth_sEc2.2.4">2.2.4 JSON</a></li>
                            <li>
                                <a href="#tth_sEc2.2.5">2.2.5 Asynchronous Loading of Resources</a>
                                <ul>
                                    <li><a href="#tth_sEc2.2.5.1">2.2.5.1 SOP</a></li>
                                    <li><a href="#tth_sEc2.2.5.2">2.2.5.2 CSP</a></li>
                                    <li><a href="#tth_sEc2.2.5.3">2.2.5.3 XHR</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="#tth_sEc2.2.6">2.2.6 CJS</a>
                                <ul>
                                    <li><a href="#tth_sEc2.2.6.1">2.2.6.1 Promise Pattern</a></li>
                                </ul>
                            </li>
                            <li><a href="#tth_sEc2.2.7">2.2.7 Server-side implementations</a></li>
                            <li>
                                <a href="#tth_sEc2.2.8">2.2.8 Module Patterns</a>
                                <ul>
                                    <li><a href="#tth_sEc2.2.8.1">2.2.8.1 Contained Module</a></li>
                                    <li><a href="#tth_sEc2.2.8.2">2.2.8.2 Namespaces</a></li>
                                    <li><a href="#tth_sEc2.2.8.3">2.2.8.3 AMD</a></li>
                                    <li><a href="#tth_sEc2.2.8.4">2.2.8.4 CommonJS Module</a></li>
                                    <li><a href="#tth_sEc2.2.8.5">2.2.8.5 Harmony</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#tth_sEc2.3">2.3 SDP</a>
                        <ul>
                            <li><a href="#tth_sEc2.3.1">2.3.1 Adapter</a></li>
                            <li><a href="#tth_sEc2.3.2">2.3.2 Bridge</a></li>
                            <li><a href="#tth_sEc2.3.3">2.3.3 Builder</a></li>
                            <li><a href="#tth_sEc2.3.4">2.3.4 Composite</a></li>
                            <li><a href="#tth_sEc2.3.5">2.3.5 Decorator</a></li>
                            <li><a href="#tth_sEc2.3.6">2.3.6 Facade</a></li>
                            <li><a href="#tth_sEc2.3.7">2.3.7 Interpreter</a></li>
                            <li><a href="#tth_sEc2.3.8">2.3.8 Observer</a></li>
                            <li><a href="#tth_sEc2.3.9">2.3.9 Prototype</a></li>
                            <li><a href="#tth_sEc2.3.10">2.3.10 Proxy</a></li>
                            <li><a href="#tth_sEc2.3.11">2.3.11 Strategy</a></li>
                        </ul>
                    </li>
                    <li><a href="#tth_sEc2.4">2.4 TDD</a></li>
                </ul>
            </li>
            <li>
                <a href="#tth_chAp3">3 Problem Description and Requirements</a>
                <ul>
                    <li><a href="#tth_sEc3.1">3.1 Problem</a></li>
                    <li><a href="#tth_sEc3.2">3.2 What are the components required for the framework?</a></li>
                    <li><a href="#tth_sEc3.3">3.3 Which SDPs are applicable for the components?</a></li>
                    <li><a href="#tth_sEc3.4">3.4 Which features in JS are of use for the framework?</a></li>
                    <li><a href="#tth_sEc3.5">3.5 How should the API be designed?</a></li>
                </ul>
            </li>
        </ul>
    </li>
    <li>
        II Implementation
        <ul>
            <li>
                <a href="#tth_chAp4">4 Tools</a>
                <ul>
                    <li>
                        <a href="#tth_sEc4.1">4.1 Buster</a>
                        <ul>
                            <li><a href="#tth_sEc4.1.1">4.1.1 Browsers</a></li>
                            <li><a href="#tth_sEc4.1.2">4.1.2 Node</a></li>
                        </ul>
                    </li>
                    <li><a href="#tth_sEc4.2">4.2 RequireJS</a></li>
                    <li>
                        <a href="#tth_sEc4.3">4.3 Git</a>
                        <ul>
                            <li><a href="#tth_sEc4.3.1">4.3.1 GH</a></li>
                        </ul>
                    </li>
                    <li><a href="#tth_sEc4.4">4.4 WS</a></li>
                </ul>
            </li>
            <li>
                <a href="#tth_chAp5">5 Used Libraries</a>
                <ul>
                    <li><a href="#tth_sEc5.1">5.1 Branches</a></li>
                    <li><a href="#tth_sEc5.2">5.2 rdfQuery</a></li>
                    <li><a href="#tth_sEc5.3">5.3 RDFStore</a></li>
                    <li><a href="#tth_sEc5.4">5.4 Underscore.JS</a></li>
                    <li><a href="#tth_sEc5.5">5.5 when.js</a></li>
                </ul>
            </li>
            <li>
                <a href="#tth_chAp6">6 The Graphite Framework</a>
                <ul>
                    <li><a href="#tth_sEc6.1">6.1 API</a></li>
                    <li><a href="#tth_sEc6.2">6.2 CURIE</a></li>
                    <li><a href="#tth_sEc6.3">6.3 Data-type</a></li>
                    <li>
                        <a href="#tth_sEc6.4">6.4 Engine</a>
                        <ul>
                            <li><a href="#tth_sEc6.4.1">6.4.1 Abstract Query Tree</a></li>
                            <li><a href="#tth_sEc6.4.2">6.4.2 Callbacks</a></li>
                            <li><a href="#tth_sEc6.4.3">6.4.3 Query Filters</a></li>
                            <li><a href="#tth_sEc6.4.4">6.4.4 Query Plan</a></li>
                            <li><a href="#tth_sEc6.4.5">6.4.5 RDF JS Interface</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#tth_sEc6.5">6.5 Graph</a>
                        <ul>
                            <li><a href="#tth_sEc6.5.1">6.5.1 Backend</a></li>
                            <li><a href="#tth_sEc6.5.2">6.5.2 Lexicon</a></li>
                        </ul>
                    </li>
                    <li><a href="#tth_sEc6.6">6.6 Graphite</a></li>
                    <li>
                        <a href="#tth_sEc6.7">6.7 Loader</a>
                        <ul>
                            <li><a href="#tth_sEc6.7.1">6.7.1 Proxy</a></li>
                            <li><a href="#tth_sEc6.7.2">6.7.2 XHR</a></li>
                        </ul>
                    </li>
                    <li><a href="#tth_sEc6.8">6.8 Promise</a></li>
                    <li><a href="#tth_sEc6.9">6.9 Query</a></li>
                    <li>
                        <a href="#tth_sEc6.10">6.10 Query Parser</a>
                        <ul>
                            <li><a href="#tth_sEc6.10.1">6.10.1 SPARQL</a></li>
                            <li><a href="#tth_sEc6.10.2">6.10.2 SPARQL Full</a></li>
                        </ul>
                    </li>
                    <li><a href="#tth_sEc6.11">6.11 RDF</a></li>
                    <li><a href="#tth_sEc6.12">6.12 RDF Loader</a></li>
                    <li>
                        <a href="#tth_sEc6.13">6.13 RDF Parser</a>
                        <ul>
                            <li><a href="#tth_sEc6.13.1">6.13.1 JSON-LD</a></li>
                            <li><a href="#tth_sEc6.13.2">6.13.2 RDF/XML</a></li>
                            <li><a href="#tth_sEc6.13.3">6.13.3 Turtle</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#tth_sEc6.14">6.14 Tree Utils</a>
                        <ul>
                            <li><a href="#tth_sEc6.14.1">6.14.1 B-Tree</a></li>
                        </ul>
                    </li>
                    <li><a href="#tth_sEc6.15">6.15 URI</a></li>
                    <li><a href="#tth_sEc6.16">6.16 Utils</a></li>
                </ul>
            </li>
            <li>
                <a href="#tth_chAp7">7 The Demo</a>
                <ul>
                    <li><a href="#tth_sEc7.1">7.1 Structure</a></li>
                </ul>
            </li>
        </ul>
    </li>
    <li>
        III Discussion and Conclusion
        <ul>
            <li>
                <a href="#tth_chAp8">8 Discussion</a>
                <ul>
                    <li>
                        <a href="#tth_sEc8.1">8.1 SW and JS</a>
                        <ul>
                            <li>
                                <a href="#tth_sEc8.1.1">8.1.1 Representation of Data</a>
                                <ul>
                                    <li><a href="#tth_sEc8.1.1.1">8.1.1.1 RDF</a></li>
                                    <li><a href="#tth_sEc8.1.1.2">8.1.1.2 SPARQL</a></li>
                                </ul>
                            </li>
                            <li><a href="#tth_sEc8.1.2">8.1.2 Modularity</a></li>
                            <li>
                                <a href="#tth_sEc8.1.3">8.1.3 The Engine</a>
                                <ul>
                                    <li><a href="#tth_sEc8.1.3.1">8.1.3.1 Entailment</a></li>
                                    <li><a href="#tth_sEc8.1.3.2">8.1.3.2 External Service</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="#tth_sEc8.1.4">8.1.4 Asynchronous Functionality</a>
                                <ul>
                                    <li><a href="#tth_sEc8.1.4.1">8.1.4.1 XDR</a></li>
                                </ul>
                            </li>
                            <li><a href="#tth_sEc8.1.5">8.1.5 Server-side implementation</a></li>
                            <li><a href="#tth_sEc8.1.6">8.1.6 Marketing of SW in JS communities</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#tth_sEc8.2">8.2 JS and SDP</a>
                        <ul>
                            <li>
                                <a href="#tth_sEc8.2.1">8.2.1 Third party libraries</a>
                                <ul>
                                    <li><a href="#tth_sEc8.2.1.1">8.2.1.1 Absence of the Adapter pattern</a></li>
                                </ul>
                            </li>
                            <li><a href="#tth_sEc8.2.2">8.2.2 Additional SDPs</a></li>
                            <li><a href="#tth_sEc8.2.3">8.2.3 Architectural Styles</a></li>
                            <li><a href="#tth_sEc8.2.4">8.2.4 REST</a></li>
                        </ul>
                    </li>
                    <li><a href="#tth_sEc8.3">8.3 JS and TDD</a></li>
                    <li><a href="#tth_sEc8.4">8.4 SDP and TDD</a></li>
                    <li><a href="#tth_sEc8.5">8.5 SW and SDP</a></li>
                    <li><a href="#tth_sEc8.6">8.6 SW and TDD</a></li>
                    <li>
                        <a href="#tth_sEc8.7">8.7 Related Work</a>
                        <ul>
                            <li><a href="#tth_sEc8.7.1">8.7.1 Backplane</a></li>
                            <li><a href="#tth_sEc8.7.2">8.7.2 Javascript RDF/Turtle Parser</a></li>
                            <li><a href="#tth_sEc8.7.3">8.7.3 JS3</a></li>
                            <li><a href="#tth_sEc8.7.4">8.7.4 jsonld.js</a></li>
                            <li><a href="#tth_sEc8.7.5">8.7.5 Jstle</a></li>
                            <li><a href="#tth_sEc8.7.6">8.7.6 rdflib.js</a></li>
                            <li><a href="#tth_sEc8.7.7">8.7.7 RDFStore</a></li>
                            <li><a href="#tth_sEc8.7.8">8.7.8 rdfQuery</a></li>
                            <li><a href="#tth_sEc8.7.9">8.7.9 Sgvizler</a></li>
                            <li><a href="#tth_sEc8.7.10">8.7.10 Simple JavaScript RDF parser and query thingy</a></li>
                            <li><a href="#tth_sEc8.7.11">8.7.11 SPARQL JavaScript Library</a></li>
                            <li><a href="#tth_sEc8.7.12">8.7.12 Tabulator</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
                <a href="#tth_chAp9">9 Conclusion</a>
                <ul>
                    <li><a href="#tth_sEc9.1">9.1 Further Work</a></li>
                </ul>
            </li>
        </ul>
    </li>
    <li>
        IV Appendices
        <ul>
            <li><a href="#tth_chApA">A Code Base</a></li>
            <li><a href="#tth_chApB">B Test Results</a></li>
            <li><a href="#tth_chApC">C Findings of Related Work</a><br />
        </ul>
    </li>
</ul>

<h2>List of Figures</h2>

<ul class="list-of-figures">
    <li><a href="#tth_fIg2.1">2.1  A simple directed graph</a></li>
    <li><a href="#tth_fIg2.2">2.2  A simple directed graph, with IRIs</a></li>
    <li><a href="#tth_fIg2.3">2.3  A graph containing a BN.</a></li>
    <li><a href="#tth_fIg2.4">2.4  Linking Open Data cloud diagram</a></li>
    <li><a href="#tth_fIg2.5">2.5  Serialization of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> into RDF/XML.</a></li>
    <li><a href="#tth_fIg2.6">2.6  XML and Semantic Web W3C Standards Timeline.</a></li>
    <li><a href="#tth_fIg2.7">2.7  Serialization of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> into Turtle.</a></li>
    <li><a href="#tth_fIg2.8">2.8  Serialization of figure <a href="#fig:DirectedGraphBlankNode">2.3</a> into Turtle.</a></li>
    <li><a href="#tth_fIg2.9">2.9  Serialization of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> into N3.</a></li>
    <li><a href="#tth_fIg2.10">2.10  Serialization of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> into N-Triples.</a></li>
    <li><a href="#tth_fIg2.11">2.11  Serialization of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> into RDF JSON.</a></li>
    <li><a href="#tth_fIg2.12">2.12  Serialization of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> into JSON-LD.</a></li>
    <li><a href="#tth_fIg2.13">2.13  Serialization of figure <a href="#fig:DirectedGraphBlankNode">2.3</a> into JSON-LD.</a></li>
    <li><a href="#tth_fIg2.14">2.14  Framing in JSON-LD.</a></li>
    <li><a href="#tth_fIg2.15">2.15  Serialization of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> in RDFa.</a></li>
    <li><a href="#tth_fIg2.16">2.16  An example of the <span class="teletype">SELECT</span> form in SPARQL</a></li>
    <li><a href="#tth_fIg2.17">2.17  An example of the <span class="teletype">ASK</span> form in SPARQL</a></li>
    <li><a href="#tth_fIg2.18">2.18  An example of the <span class="teletype">CONSTRUCT</span> form in SPARQL</a></li>
    <li><a href="#tth_fIg2.19">2.19  An example of the <span class="teletype">DESCRIBE</span> form in SPARQL</a></li>
    <li><a href="#tth_fIg2.20">2.20  A possible serialization of the result from the query in listing <a href="#lst:BackgroundSPARQLDESCRIBE">2.19</a></a></li>
    <li><a href="#tth_fIg2.21">2.21  Use of literals in JS</a></li>
    <li><a href="#tth_fIg2.22">2.22  Emulation of classes in JS</a></li>
    <li><a href="#tth_fIg2.23">2.23  Usage of prototype in JS</a></li>
    <li><a href="#tth_fIg2.24">2.24  Object inheritance in JS</a></li>
    <li><a href="#tth_fIg2.25">2.25  Instantiating functions in JS</a></li>
    <li><a href="#tth_fIg2.26">2.26  A simple object in JS</a></li>
    <li><a href="#tth_fIg2.27">2.27  Examples of scope in JS</a></li>
    <li><a href="#tth_fIg2.28">2.28  A simple example of closure in JS</a></li>
    <li><a href="#tth_fIg2.29">2.29  An example of code gone wrong because of faulty handling of closure</a></li>
    <li><a href="#tth_fIg2.30">2.30  An example of static functions in JS</a></li>
    <li><a href="#tth_fIg2.31">2.31  Examples of structures in JS that are valid and invalid JSON-objects</a></li>
    <li><a href="#tth_fIg2.32">2.32  Examples of the Promise API</a></li>
    <li><a href="#tth_fIg2.33">2.33  Use of contained modules in JS</a></li>
    <li><a href="#tth_fIg2.34">2.34  Use of namespaces in JS</a></li>
    <li><a href="#tth_fIg2.35">2.35  Use of AMD in JS</a></li>
    <li><a href="#tth_fIg2.36">2.36  Use of CommonJS Module in JS</a></li>
    <li><a href="#tth_fIg2.37">2.37  Use of modules in Harmony</a></li>
    <li><a href="#tth_fIg2.38">2.38  Structure of Adapter</a></li>
    <li><a href="#tth_fIg2.39">2.39  An example of implementation of Adapter in JS</a></li>
    <li><a href="#tth_fIg2.40">2.40  Structure of Bridge</a></li>
    <li><a href="#tth_fIg2.41">2.41  An example of implementation of Bridge in JS</a></li>
    <li><a href="#tth_fIg2.42">2.42  Examples of the Builder pattern in jQuery</a></li>
    <li><a href="#tth_fIg2.43">2.43  Structure of Builder</a></li>
    <li><a href="#tth_fIg2.44">2.44  An example of implementation of Builder in JS</a></li>
    <li><a href="#tth_fIg2.45">2.45  Structure of Composite</a></li>
    <li><a href="#tth_fIg2.46">2.46  An example of implementation of Composite in JS</a></li>
    <li><a href="#tth_fIg2.47">2.47  Structure of Decorator</a></li>
    <li><a href="#tth_fIg2.48">2.48  An example of implementation of Decorator in JS</a></li>
    <li><a href="#tth_fIg2.49">2.49  Structure of Facade</a></li>
    <li><a href="#tth_fIg2.50">2.50  An example of implementation of Facade in JS</a></li>
    <li><a href="#tth_fIg2.51">2.51  A tree-structure representing the equation "1+2-3".</a></li>
    <li><a href="#tth_fIg2.52">2.52  Structure of Interpreter</a></li>
    <li><a href="#tth_fIg2.53">2.53  An example of implementation of Interpreter in JS</a></li>
    <li><a href="#tth_fIg2.54">2.54  Structure of Observer</a></li>
    <li><a href="#tth_fIg2.55">2.55  An example of implementation of Observer in JS</a></li>
    <li><a href="#tth_fIg2.56">2.56  Altering a functions behavior by extending its configuration with the parameter named option</a></li>
    <li><a href="#tth_fIg2.57">2.57  Structure of Prototype</a></li>
    <li><a href="#tth_fIg2.58">2.58  An example of implementation of Prototype in JS</a></li>
    <li><a href="#tth_fIg2.59">2.59  Structure of Proxy</a></li>
    <li><a href="#tth_fIg2.60">2.60  An example of implementation of Proxy in JS</a></li>
    <li><a href="#tth_fIg2.61">2.61  Structure of Strategy</a></li>
    <li><a href="#tth_fIg2.62">2.62  An example of implementation of Strategy in JS</a></li>
    <li><a href="#tth_fIg2.63">2.63  An illustration of the TDD-process.</a></li>
</ul>
<ul class="list-of-figures">
    <li><a href="#tth_fIg6.1">6.1  Dependencies between the main modules of Graphite.</a></li>
    <li><a href="#tth_fIg6.2">6.2  Dependencies in the submodules of the Engine module</a></li>
    <li><a href="#tth_fIg6.3">6.3  Dependencies in the submodules of the Graph module</a></li>
    <li><a href="#tth_fIg6.4">6.4  Dependencies in the submodules of the Loader module</a></li>
    <li><a href="#tth_fIg6.5">6.5  Dependencies in the submodules of the Query Parser module</a></li>
    <li><a href="#tth_fIg6.6">6.6  Dependencies in the submodules of the RDF Parser module</a></li>
</ul>
<ul class="list-of-figures">
    <li><a href="#tth_fIg8.1">8.1  Intersections of the pillars of this thesis</a></li>
    <li><a href="#tth_fIg8.2">8.2  Testing for properties in JS</a></li>
</ul>

<h2 id="LOT">List of Tables</h2>

<ul class="list-of-tables">
    <li><a href="#tth_tAb2.1">2.1  Result from a <span class="teletype">SELECT</span> query</a></li>
    <li><a href="#tth_tAb2.2">2.2  Result from a <span class="teletype">SELECT</span> query</a></li>
    <li><a href="#tth_tAb2.3">2.3  Categorization of SDPs</a></li>
    <li><a href="#tth_tAb5.1">5.1  Overview of branches and their modules.</a></li>
    <li><a href="#tth_tAbB.1">B.1  Test results for tests part of Graphite.</a></li>
    <li><a href="#tth_tAbC.1">C.1  List of projects examined as part of this thesis.</a></li>
</ul>

<div id="MainContent">
    <h2 id="tth_chAp1"><a class="bookmark" href="#tth_chAp1">Chapter 1<br />Introduction</a></h2>
    <p>
        <abbr title="Semantic Web">SW</abbr> is a many-faced entity, a colossal structure of standards and resources. It is also an idea shared by a multitude of communities, a concept of structured information, and an abstraction of knowledge. It is a mixture of technologies, created over a decade of work by professionals. Academia researches it, businesses try to create common ground with it, and visionaries preach of its promises; A richer world, where computer-driven agents find, process, and act upon information tailored for our need.
    </p>
    <p>
        At the center of the SW we have the <abbr title="World Wide Web Consortium">W3C</abbr>, led by Tim Berners-Lee. Berners-Lee is perhaps more famous for his invention, the <abbr title="World Wide Web">WWW</abbr>, and he is also the one who coined the phrase SW. It is in his writings of Design Issues we find the essence of SW, namely the sentence "The Semantic Web is a web of data, in some ways like a global database" [<a href="#DesignIssueSemanticWebRoadMap:1998:Misc" data-name="CITEDesignIssueSemanticWebRoadMap:1998:Misc">5</a>].
    </p>
    <p>
        The web of data has been in the making since the late 1990s, but in terms of traction there is still much to be done. Some complain it is still very much an academic affair, while others complain of the lack of interest from the developing community.
    </p>
    <p>
        This master thesis has taken the approach to look at the gap between SW and the developing community by trying to construct a framework that offers tools to access SW. It has been written in and for <abbr title="JavaScript">JS</abbr>, as it is a programming language of the web, and the timing seems right.
    </p>
    <p>
        JS can relate to SWs struggles for traction. For long time it was ridiculed by developers, saying it was a silly language that merely created fancy effects on web pages, but not doing anything useful. Douglas Crockford, an evangelist of JS, has called JS the world's most misunderstood language [<a href="#JavascriptMisunderstood:2001:Misc" data-name="CITEJavascriptMisunderstood:2001:Misc">15</a>]. And if the name and its syntax was not confusing enough, the browsers with their differing implementations were not making it any easier.
    </p>
    <p>
        There were, and still are, many reasons to why people get confused by JS. But in the mid-2000s, efforts were made to make JS more accessible to developers. Prototype, MooTools, and jQuery are all frameworks that promises APIs for easier, cross-browser access to the power within JS. And it worked! Readily manipulation of the <abbr title="Document Object Model">DOM</abbr>, asynchronous fetching of resources with AJAX, and the increasing efforts of making JS into a full-fledged server-side programming language, are making JS a powerful and fun tool for developers to work with.
    </p>
    <p>
        It is this fertile ground the work of this master thesis is trying to tap into. This work presents Graphite, which is the authors main contribution. It is an <abbr title="Asynchronous Module Definition">AMD</abbr>-based framework (described in section <a href="#sec:JavascriptAMD">2.2.8.3</a>) written in JS that sports a modularized API to fetch resources in the SW, process it and output in useful way for JS-developers. Frameworks typically serve to implement (larger-scale) components, and are implemented using (smaller-scale) classes [<a href="#Riehle:2000:PHD" data-name="CITERiehle:2000:PHD">31</a>]. This description of frameworks suits my implementation well, as the work in large part will consist of defining smaller components and have them collaborate effectively for a higher-level purpose.
    </p>
    <p>
        This master thesis will describe the work and choices made during the implementation of Graphite. It is divided into three parts. The first consists of the underlying theory and constraints in technology (chapter <a href="#chap:Background">2</a>), and how this fits into the scope of this thesis (chapter <a href="#chap:ProblemDescriptionsAndRequirements">3</a>). The second part describes the implementation, and starts by explaining which tools and third party libraries I made use of (chapter <a href="#chap:Tools">4</a> and <a href="#chap:UsedLibraries">5</a> respectively). It continues with an extensive presentation of the framework itself (chapter <a href="#chap:Framework">6</a>) and a demo I constructed to demonstrate some of the frameworks' capabilities (chapter <a href="#chap:Demo">7</a>). Finally, in the third part I offer a discussion of the work (chapter <a href="#chap:Discussion">8</a>), and a conclusion of the matter (chapter <a href="#chap:Conclusion">9</a>).
    </p>
    <p>
        I hope to contribute to the developing community of SW and JS in two ways; through the thesis, to showcase what is already available and present some research and thoughts of my own, and through the framework, in the hopes that it contributes to the evolution of handling SW in JS.
    </p>

    <h2>Part 1<br />Foundations</h2>

    <h2 id="tth_chAp2"><a class="bookmark" href="#tth_chAp2">Chapter 2<br />Background</a></h2>
    <p id="chap:Background">
        This chapter will describe the technologies, standards, and theories that Graphite has been build upon.
    </p>
    <h3 id="tth_sEc2.1"><a class="bookmark" href="#tth_sEc2.1">2.1 SW</a></h3>
    <p id="sec:BackgroundSemanticWeb">
        SW represents a multitude of standards and technologies, and seeing the whole picture may not be so easy to grasp. A perhaps fitting metaphor is the story of the elephant and the blind men. It is a story made famous by the poet John Godfrey Saxe, and tells the story of how six men tried to describe an elephant. Depending on which part they touched, each described the elephant differently. One approached its side, and called it a wall. Another touched the tusk, and surely it had to be a spear. The third took hold of the trunk, and spoke of how it resembled a snake. The fourth reached out for its knee, and stated it had to be like a tree. The fifth touched the ear, and meant it had to be like a fan. Finally, the last one had grabbed its tail, and stated how it had to be like a rope [<a href="#PoemsJohnGodfreySaxe:1881:Book" data-name="CITEPoemsJohnGodfreySaxe:1881:Book">34</a>].
    </p>
    <p>
        In comparison, here are some of the descriptions we have of SW:
    </p>

    <ul>
        <li>A web of data [<a href="#DesignIssueSemanticWebRoadMap:1998:Misc" data-name="CITEDesignIssueSemanticWebRoadMap:1998:Misc">5</a>].</li>
        <li>An extension of WWW [<a href="#Foundations:2010:Book" data-name="CITEFoundations:2010:Book">25</a>].</li>
        <li>A <span class="teletype">killer</span> app [<a href="#SemanticWeb:2001:Article" data-name="CITESemanticWeb:2001:Article">9</a>].</li>
        <li>W3C's vision of the Web of linked data [<a href="#SemanticWebW3C:2012:Misc" data-name="CITESemanticWebW3C:2012:Misc">50</a>].</li>
    </ul>
    <p>
        The list above are some of the descriptions in literature, and they are all true. Other aspects of SW is the set of standards it sports (e.g. <abbr title="Resource Description Framework">RDF</abbr>, <abbr title="Resource Description Framework Scheme">RDFS</abbr>, <abbr title="Web Ontology Language">OWL</abbr>, and <abbr title="SPARQL Protocol and RDF Query Language">SPARQL</abbr>), technological foundations (e.g. <abbr title="Linked Data">LD</abbr>), applicabilities (e.g. use of <abbr title="Linked Open Data">LOD</abbr> amongst governments), social consequences (democratizing data), limitations (e.g. <abbr title="Anyone can say Anything about Anything">AAA</abbr>), and more.
    </p>
    <h4 id="tth_sEc2.1.1"><a class="bookmark" href="#tth_sEc2.1.1">2.1.1 RDF</a></h4>
    <p>
        At the heart of SW lies RDF. It is a formalized data model that asserts information with statements that together naturally form a directed graph. Each statement consists of one subject, one predicate, and one object, and are hence often called a triple. The three elements have meanings that are analogous to their meaning in normal English grammar[<a href="#SemanticWebProgramming:2009:Book" data-name="CITESemanticWebProgramming:2009:Book">24</a>,p. 68-69], i.e. the subject in a statement is the entity which that statement states something about.
    </p>
    <p>
        As an example of statements, take the following:
    </p>
    <ul>
        <li>Arne knows Kjetil.</li>
        <li>Arne has last name Hassel.</li>
    </ul>
    <p>
        These statements are represented as a graph in figure <a href="#fig:DirectedGraphSimple">2.1</a>. It illustrates that the subject <span class="teletype">"Arne"</span> is related to the object <span class="teletype">"Kjetil"</span> by the predicate <span class="teletype">"knows"</span>, and to the object <span class="teletype">"Hassel"</span> by the predicate <span class="teletype">"familyName"</span>.
    </p>


    <div class="figure" id="tth_fIg2.1">
        <img src="png/DirectedGraph.png" />
        <div class="caption" id="fig:DirectedGraphSimple">Figure 2.1: A directed graph.</div>
    </div>
    <p>
        You might have noticed that the two objects have different shapes, one being a circle (like the subject), and the other being a rectangle. That is to show that <span class="teletype">"Hassel"</span> is a literal. Literals are concrete data values, like numbers and strings, and cannot be the subjects of statements, only the objects[<a href="#SemanticWebProgramming:2009:Book" data-name="CITESemanticWebProgramming:2009:Book">24</a>,p. 69].
    </p>
    <p>
        The circles on the other hand, are known as resources, and can represent anything that can be named. As RDF is optimized for distribution of data on WWW, the resources are represented with <abbr title="Internationalized Resource Identififier">IRI</abbr>s (IRI is an extension of <abbr title="Unified Resource Identifier">URI</abbr>, and is explained in section <a href="#sec:URLvsURIvsIRI">2.1.4.2</a>).
    </p>
    <p>
        IRIs are usually declared into namespaces, to make terms more human-readable (e.g. resources in the namespace <a href="http://example.org/"><span class="teletype">http://example.org/</span></a> could be prefixed <span class="teletype">ex</span>). If we look at figure <a href="#fig:DirectedGraphSimple">2.1</a>, we have two resources, namely <span class="teletype">Arne</span> and <span class="teletype">Kjetil</span>. To make these available as LD, we could assign them into the namespace <span class="teletype">ex</span>, writing them respectively as <span class="teletype">ex:Arne</span> and <span class="teletype">ex:Kjetil</span>.
    </p>
    <p>
        The basic syntax in RDF has a relatively minimal set of terms. It enables typing, reification, various types of containers (bags, sequences, and alternatives), and assigning of language or data type to a literal [<a href="#RdfSyntaxGrammar:2004:Misc" data-name="CITERdfSyntaxGrammar:2004:Misc">2</a>]. Its power lies in its extensibility by URI-based vocabularies [<a href="#RdfConcepts:2004:Misc" data-name="CITERdfConcepts:2004:Misc">26</a>]. By sharing vocabularies as standards between software applications, you can easier exchange data.
    </p>
    <p>
        With this in mind, we see that figure <a href="#fig:DirectedGraphSimple">2.1</a> is faulty, and we turn to figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> to see a correct representation (using the vocabulary <abbr title="Friend of a Friend">FOAF</abbr>, prefixed <span class="teletype">foaf</span>, for the properties).
    </p>


    <div class="figure" id="tth_fIg2.2">
        <img src="png/DirectedGraphWithIRI.png" />
        <div class="caption" id="fig:DirectedGraphSimpleCorrect">
            Figure 2.2: Statements from figure <a href="#fig:DirectedGraphSimple">2.1</a> correctly represented with IRIs.
        </div>
    </div>
    <p>
        Not all resources are given IRIs though. The exception to the rule are <abbr title="Blank Node">BN</abbr>s, which represent resources that have no separate form of identification [<a href="#RdfConcepts:2004:Misc" data-name="CITERdfConcepts:2004:Misc">26</a>], either because they cannot be named, or it is neither possible nor necessary at the time of modeling. These resources are not designed to link data, but to model relations of resources that are given IRIs.
    </p>
    <p>
        An example of modeling BN is given in figure <a href="#fig:DirectedGraphBlankNode">2.3</a>, where I have modeled that <span class="teletype">ex:Arne</span> has a friend, who we do not know anything about except his nicknames, <span class="teletype">Bjarne</span> and <span class="teletype">Buddy</span>.
    </p>


    <div class="figure" id="tth_fIg2.3">
        <img src="png/DirectedGraphWithBNandIRI.png" />
        <div class="caption" id="fig:DirectedGraphBlankNode">
            Figure 2.3: A graph containing a BN.
        </div>
    </div>
    <p>
        The figures <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> and <a href="#fig:DirectedGraphBlankNode">2.3</a> are examples of the form of visualization we will have of graphs in RDF.
    </p>
    <h4 id="tth_sEc2.1.2"><a class="bookmark" href="#tth_sEc2.1.2">2.1.2 RDFS</a></h4>
    <p>
        RDFS is an extension in form of vocabulary that extends the semantic expressiveness of RDF. But RDFS is not a vocabulary in the traditional sense that it covers any topic-specific domain [<a href="#Foundations:2010:Book" data-name="CITEFoundations:2010:Book">25</a>,p. 46]. It is designed to extend the semantic capabilities of RDF, and in that sense it can be regarded as a meta-vocabulary.
    </p>
    <p>
        The perhaps most important feature of RDFS is its ability to support taxonomies. It empowers the use of <span class="teletype">rdf:type</span> by introducing <span class="teletype">rdfs:Class</span>, in effect enabling classification. The properties <span class="teletype">rdfs:range</span>, <span class="teletype">rdfs:domain</span>, <span class="teletype">rdfs:subClassOf</span>, and <span class="teletype">rdfs:subPropertyOf</span> further extends this feature.
    </p>
    <p>
        It also builds on the reification-properties of RDF, by instantiating <span class="teletype">rdf:Statement</span> as a <span class="teletype">rdfs:Class</span>. It continues by clarifying the semantics of <span class="teletype">rdf:subject</span>, <span class="teletype">rdf:predicate</span>, and <span class="teletype">rdf:object</span> by instantiating them as <span class="teletype">rdf:Property</span>, and in terms of entailment (explained in section <a href="#sec:RDFEntailment">2.1.7</a>) ties together with <span class="teletype">rdfs:range</span> and <span class="teletype">rdfs:domain</span>.
    </p>
    <p>
        Another extension is the clarification of containers by introducing the class <span class="teletype">rdfs:Container</span> and the property <span class="teletype">rdfs:containerMembershipProperty</span>, which is an <span class="teletype">rdfs:subPropertyOf</span> of the <span class="teletype">rdfs:member</span> [<a href="#RdfSchema:2004:Misc" data-name="CITERdfSchema:2004:Misc">13</a>].
    </p>
    <p>
        Finally, it introduces the utility properties <span class="teletype">rdfs:seeAlso</span> and <span class="teletype">rdfs:isDefinedBy</span>. The former represents resources that might provide additional information about the subject resource, while the latter gives the resource which defines a given subject. It also clarifies the use of rdf:value, to encourage its use in common idioms [<a href="#RdfSchema:2004:Misc" data-name="CITERdfSchema:2004:Misc">13</a>].
    </p>
    <h4 id="tth_sEc2.1.3"><a class="bookmark" href="#tth_sEc2.1.3">2.1.3 OWL</a></h4>
    <p>
        In the same way RDFS is an extension to RDF in order to express richer semantics, OWL is an extension to RDFS to express even richer semantics. It does so by introducing vocabularies that are based on formal logic, and aims to describe relations between classes (e.g. disjointness), cardinality (e.g. "exactly one"), equality, richer type of properties, characteristics of properties (e.g. symmetry), and enumerated classes [<a href="#OwlFeatures:2004:Manual" data-name="CITEOwlFeatures:2004:Manual">44</a>,sec. 1.2].
    </p>
    <p>
        As of this writing, OWL exists in two versions: The version recommended by W3C in 2004 (often known as OWL 1), and <abbr title="The OWL 2 Web Ontology Language">OWL 2</abbr>, which became recommended in 2009. OWL 2 is an extension and revision of OWL 1, and is backward compatible for all intents and purposes [<a href="#Owl2Overview:2009:Manual" data-name="CITEOwl2Overview:2009:Manual">46</a>].
    </p>
    <p>
        OWL 1 features three sublanguages/profiles<a href="#tthFtNtAAB" name="tthFrefAAB"><sup>1</sup></a>. These are, with complexity in increasing order (all quoted from OWL Features [<a href="#OwlFeatures:2004:Manual" data-name="CITEOwlFeatures:2004:Manual">44</a>]):
    </p>
    <ol type="1">
        <li>OWL Lite: Supports classification hierarchy and  simple constraints (e.g. only cardinality values of 0 and 1).</li>
        <li><abbr title="OWL Description Logics">OWL DL</abbr>: Maximum expressiveness while retaining computational completeness and decidability.</li>
        <li>OWL Full: Maximum expressiveness and the full syntactic freedom of RDF, but with no computational guarantees.</li>
    </ol>
    <p>
        OWL 2 also make a distinction with DL and Full. It does not list a Lite profile, but all OWL Lite ontologies are OWL 2 ontologies, so OWL Lite can be viewed as a profile of OWL 2 [<a href="#OWL2Profiles:2009:Manual" data-name="CITEOWL2Profiles:2009:Manual">47</a>]. In addition, DL has three sublanguages that are not disjunct, and also does not cover the complete OWL 2 DL. These sublanguages are (all quoted from OWL 2 Profiles[<a href="#OWL2Profiles:2009:Manual" data-name="CITEOWL2Profiles:2009:Manual">47</a>]):
    </p>
    <ol type="1">
        <li><abbr title="OWL Existential Language">OWL EL</abbr>: Designed to be used with ontologies that contain very large numbers of either properties or classes.</li>
        <li><abbr title="OWL Query Language">OWL QL</abbr>: Aimed at applications that use very large volumes of instance data, and where query answering is the most important reasoning task.</li>
        <li><abbr title="OWL Rule Language">OWL RL</abbr>: Aimed at applications that require scalable reasoning without sacrificing too much expressive power.</li>
    </ol>
    <p>
        To go through all differences between OWL 1 and OWL 2 would be beyond the scope of this thesis, but suffice to say is that OWL 2 is designed to be backward compatible with OWL 1, and the sublanguages OWL provides as a whole increases the reasoning capabilities of SW.
    </p>
    <h4 id="tth_sEc2.1.4"><a class="bookmark" href="#tth_sEc2.1.4">2.1.4 LD</a></h4>
    <p>
        A cornerstone of RDF is that all identifications (that is, except BNs) are IRIs. In this way, machines can browse the web for relevant resources, much like you browse the web through hyperlinks. This design feature makes RDF adhere to LD, which is a term that refers to a set of best practices for publishing and connecting structured data on the web [<a href="#LinkedDataStorySoFar:2009:Misc" data-name="CITELinkedDataStorySoFar:2009:Misc">12</a>].
    </p>
    <p>
        Tim Berners-Lee have in his article about LD<a href="#tthFtNtAAC" name="tthFrefAAC"><sup>2</sup></a> outlined four "rules" for publishing data on WWW [<a href="#DesignIssueLinkedData:2009:Misc" data-name="CITEDesignIssueLinkedData:2009:Misc">7</a>]:
    </p>
    <ol type="1">
        <li>Use URIs as names for things.</li>
        <li>Use <abbr title="Hypertext Transfer Protocol">HTTP</abbr> URIs so that people can look up those names.</li>
        <li>When someone looks up a URI, provide useful information, using the standards (RDF, SPARQL).</li>
        <li>Include links to other URIs, so that they can discover more things.</li>
    </ol>
    <p>
        These have become known as the "Linked Data principles", and provide a basic recipe for publishing and connecting data using the infrastructure of the WWW while adhering to its architecture and standards [<a href="#LinkedDataStorySoFar:2009:Misc" data-name="CITELinkedDataStorySoFar:2009:Misc">12</a>].
    </p>
    <p>
        LD are reliant on two web-technologies, namely IRIs and HTTP. Using the two of them you can fetch any resource addressed by an IRI that uses the HTTP-scheme. When combining this with RDF, LD builds on the general architecture of the Web [<a href="#ArchitectureWeb:2004:Misc" data-name="CITEArchitectureWeb:2004:Misc">43</a>].
    </p>
    <p>
        The Web of Data can therefore be seen as an additional layer that is tightly interwoven with the classic document Web and has many of the same properties [<a href="#LinkedDataStorySoFar:2009:Misc" data-name="CITELinkedDataStorySoFar:2009:Misc">12</a>]:
    </p>
    <ul>
        <li>The Web of Data is generic and can contain any type of data.</li>
        <li>Anyone can publish data to the Web of Data.</li>
        <li>Data publishers are not constrained in choice of vocabularies with which to represent data.</li>
        <li>Entities are connected by RDF links, creating a global data graph that spans data sources and enables the discovery of new data sources.</li>
    </ul>
    <h5 id="tth_sEc2.1.4.1"><a class="bookmark" href="#tth_sEc2.1.4.1">2.1.4.1 LOD</a></h5>
    <p>
        Based on the notion of LD, there is a movement to publish data on WWW as LOD. Especially toward governmental institutions there is now an increasing trend of opening data<a href="#tthFtNtAAD" name="tthFrefAAD"><sup>3</sup></a>.
    </p>
    <p>
        To encourage this trend, Tim Berners-Lee published a star rating system. On a scale from one to five stars, it rates how well the given dataset is in becoming open. It is incremental, meaning that the dataset needs to be have one star before it can be given two. One star is given if your data is available on WWW with an open license. Two stars means that your data is available in machine-readable structure, and is valid for another star if the structure is a non-proprietary format (e.g. <abbr title="Comma-Separated Values">CSV</abbr> instead of Excel). Four stars are given if your the data is identified by using open standards from W3C (e.g. RDF and SPARQL). The last star means that your data also link to other people's data, in order to provide context [<a href="#DesignIssueLinkedData:2009:Misc" data-name="CITEDesignIssueLinkedData:2009:Misc">7</a>].
    </p>
    <p>
        Figure <a href="#fig:LODDatasets">2.4</a> shows the linking open data cloud diagram. It illustrates to some extent the magnitude of data that are linked as of yet<a href="#tthFtNtAAE" name="tthFrefAAE"><sup>4</sup></a>.
    </p>


    <div class="figure" id="tth_fIg2.4">
        <img src="png/lod-datasets_2011-09-19.png" />
        <div class="caption" id="fig:LODDatasets">
            Figure 2.4: Linking Open Data cloud diagram, by Richard Cyganiak and Anja Jentzsch. <a href="http://lod-cloud.net/"><span class="teletype">http://lod-cloud.net/</span></a>
        </div>
    </div>
    <p>

    <h5 id="tth_sEc2.1.4.2"><a class="bookmark" href="#tth_sEc2.1.4.2">2.1.4.2 <abbr title="Unified Resource Locator">URL</abbr> vs. URI vs. IRI</a></h5>
    <p id="sec:URLvsURIvsIRI">
        Throughout this thesis you will read the terms URLs, URIs, and IRIs being used interchangeably. I strive to use IRI as it is the term fronted in the newest specs by W3C, but in some cases it is more appropriate to use the others because of the texts they reference.
    </p>
    <p>
        URLs and URIs are the most commonly used terms. The former denotes dereferenceable resources on WWW, while the latter is a generalization that can denote anything that can be identified, even resources not on WWW. But URIs are limited to the character-encoding scheme <abbr title="American Standard Code for Information Interchange">ASCII</abbr>, and as such IRI has been introduced to solve this problem<a href="#tthFtNtAAF" name="tthFrefAAF"><sup>5</sup></a>.
    </p>
    <p>
        URI have the form <span class="teletype">scheme:[//authority]path[?query][#fragment]</span>, where the parts in brackets are optional. The list below explains the different terms (shortened versions of the ones offered by Hitzler et.al. [<a href="#Foundations:2010:Book" data-name="CITEFoundations:2010:Book">25</a>,p. 23]. The explanations are equally valid for URL and IRI.
    </p>
    <ul>
        <li><span class="teletype">scheme</span>: The scheme classify the type of URI, and may also provide additional information on how to handle URIs in applications.</li>
        <li><span class="teletype">authority</span>: An authority is the provider of content, and may provide user and port details (e.g. arne@semanticweb.com, semanticweb.com:80).</li>
        <li><span class="teletype">path</span>: The path is the main part of many URIs, though it is possible to use empty paths, e.g., in email addresses. Paths can be organized hierarchically using <span class="teletype">/</span> as separator.</li>
        <li><span class="teletype">query</span>: The query can be recognized with the preceding <span class="teletype">?</span>, and are typically used for providing parameters.</li>
        <li><span class="teletype">fragment</span>: Fragments provide an additional level of identifying resources, and are recognized by the preceding <span class="teletype">#</span>.</li>
    </ul>
    <h4 id="tth_sEc2.1.5"><a class="bookmark" href="#tth_sEc2.1.5">2.1.5 Serializations</a></h4>
    <p id="sec:SemanticWebSerialization">
        RDF in itself offers no serialization of the graph it represents. But there are many serializations available, and more are coming as of this writing.
    </p>
    <p>
        There are some considerations to take when choosing a serialization for a given project. One consideration is the ease for humans to read the syntax, which is very useful if you want to verify how your data is related. Another is the availability of tools to process the serialization. RDF/XML, for example, is based on <abbr title="Extensible Markup Language">XML</abbr>, and as such there are many tools that can deserialize it. Turtle on the other hand is specific for RDF, and may not be as easy to deserialize. But most will agree that the latter is much easier to read and understand than the former.
    </p>
    <h5 id="tth_sEc2.1.5.1"><a class="bookmark" href="#tth_sEc2.1.5.1">2.1.5.1 RDF/XML</a></h5>
    <p id="sec:SemanticWebSerializationRDFXML">
        RDF/XML has been recommended by W3C to represent RDF since the beginning of SW [<a href="#RdfConcepts:2004:Misc" data-name="CITERdfConcepts:2004:Misc">26</a>,sec. 2.2.4]. As the name suggests, RDF/XML is based on the markup language XML. XML may not be as humanly accessible as some of the other serializations, but it is the most commonly used, probably because of the readily available software to process XML-documents.
    </p>
    <p>
        XML is tree-based, which means some considerations need to be taken when we serialize graphs. Each statement will have the subject as the root, followed by the predicate, and then the object. As an example of this we have listing <a href="#lst:XMLSerialization">2.5</a>, which shows a serialization of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a>.
    </p>


    <div class="figure" id="tth_fIg2.5">
        <pre>&#60;?xml version="1.0" encoding="utf-8"?&#62;
&#60;rdf:RDF xmlns:rdf ="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:foaf="http://xmlns.com/foaf/0.1/"&#62;
    &#60;rdf:Description rdf:about="http://example.org/Arne"&#62;
        &#60;foaf:knows&#62;
            &#60;rdf:Description rdf:about="http://example.org/Kjetil"&#62;
            &#60;/rdf:Description&#62;
        &#60;/foaf:knows&#62;
        &#60;foaf:familyName&#62;Hassel&#60;/foaf:familyName&#62;
    &#60;/rdf:Description&#62;
&#60;/rdf:RDF&#62;</pre>
        <div class="caption" id="lst:XMLSerialization">
            Figure 2.5: Serialization of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> into RDF/XML.
        </div>
    </div>
    <p>
        Another reason for XML being chosen as the default serialization was that it was readily available at the time RDF was being standardized. Figure <a href="#fig:XMLandSWTimeline">2.6</a> shows a timeline of the development of XML and SW.
    </p>


    <div class="figure" id="tth_fIg2.6">
        <img src="png/XMLandSWW3CStandardsTimelineHistory.png" />
        <div class="caption" id="fig:XMLandSWTimeline">
            Figure 2.6: XML and Semantic Web W3C Standards Timeline.
        </div>
    </div>
    <p>
        Listing <a href="#lst:XMLSerialization">2.5</a> shows that we have namespaces in XML through the attribute rdf:xmlns. But we cannot use namespaces in values given to attributes (i.e. we have to write <span class="teletype">rdf:about="<a href="http://example.org/Arne"><span class="teletype">http://example.org/Arne</span></a>"</span> instead of <span class="teletype">rdf:about="Arne"</span>). This adds to the notion that XML-documents are bigger than what we need to serialize RDF.
    </p>
    <h5 id="tth_sEc2.1.5.2"><a class="bookmark" href="#tth_sEc2.1.5.2">2.1.5.2 Turtle</a></h5>
    <p id="sec:SemanticWebSerializationTurtle">
        Turtle defines a textual syntax for RDF that allows RDF graphs to be completely written in compact and natural text form [<a href="#Turtle:2011:Misc" data-name="CITETurtle:2011:Misc">3</a>]. The latest version was submitted as a W3C Team Submission 28th of March 2011. Listing <a href="#lst:TurtleSerialization">2.7</a> shows the serialized form of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a>.
    </p>


    <div class="figure" id="tth_fIg2.7">
        <pre>@prefix ex: &#60;http://example.org/&#62; .
@prefix foaf: &#60;http://xmlns.com/foaf/0.1/&#62; .

ex:Arne foaf:knows ex:Kjetil ;
        foaf:familyName "Hassel" .</pre>
        <div class="caption" id="lst:TurtleSerialization">
            Figure 2.7: Serialization of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> into Turtle.
        </div>
    </div>
    <p>
        We see from the example that IRIs are written with angular brackets, literals with quotation marks, and statements ends with either a semicolon or a period. The usage of semicolon is a syntactic sugar, and enables writing the following triples without their subject, as they reuse the subject in the first statement. We can also reuse the subject and the predicate in a statement by using the comma, in essence writing a list.
    </p>
    <p>
        The syntax <span class="teletype">@prefix</span> is also used in the listing. This allows us to introduce namespaces, and abbreviate IRIs by prefixing them (e.g. &#60;"http://example.org/Arne"&#62; &#8594; <span class="teletype">ex:Arne</span>). We also have the term <span class="teletype">@base</span>, which also enables us to abbreviate IRIs, by writing the suffix in angular brackets (e.g. <span class="teletype">@base &#60;http://example.org/&#62;</span> &#8594; <span class="teletype">&lt;Arne&#62;</span>).
    </p>
    <p>
        Turtle also supports BNs by wrapping the statements in square brackets. Listing <a href="#lst:N3SerializationBlankNode">2.8</a> shows all of these syntaxes in use by serializing figure <a href="#fig:DirectedGraphBlankNode">2.3</a>.
    </p>


    <div class="figure" id="tth_fIg2.8">
        <pre>@base &#60;http://example.org/&#62; .
@prefix foaf: &#60;http://xmlns.com/foaf/0.1/&#62; .

&#60;Arne&#62; foaf:knows [
    foaf:nick "Bjarne" , "Buddy" .
]</pre>
        <div class="caption" id="lst:N3SerializationBlankNode">
            Figure 2.8: Serialization of figure <a href="#fig:DirectedGraphBlankNode">2.3</a> into Turtle.
        </div>
    </div>
    <p>
        There is also syntactic sugar for writing collections. This is done by enveloping the resources as a comma-separated list in parentheses. Lastly, Turtle abbreviates common data types, e.g. the number forty two can be written <span class="teletype">42</span>, instead of <span class="teletype">"42"&lt;<a href="http://www.w3.org/2001/XMLSchema#integer"><span class="teletype">http://www.w3.org/2001/XMLSchema\#integer</span></a>&#62;</span>, and the boolean true can be written <span class="teletype">true</span> instead of <span class="teletype">"true"&lt;<a href="http://www.w3.org/2001/XMLSchema#boolean"><span class="teletype">http://www.w3.org/2001/XMLSchema\#boolean</span></a>&#62;</span>.
    </p>
    <p>
        Turtle has become popular amongst the academic circles of SW, as it is a valuable educational tool because of its simplicity and readability.
    </p>
    <h5 id="tth_sEc2.1.5.3"><a class="bookmark" href="#tth_sEc2.1.5.3">2.1.5.3 <abbr title="Notation3">N3</abbr></a></h5>
    <p id="sec:SemanticWebSerializationN3">
        N3 is often presented as a compact and readable alternative to RDF/XML [<a href="#Notation3:2011:Misc" data-name="CITENotation3:2011:Misc">8</a>], but the syntax supports greater flexibility than the confinements of RDF (e.g. support for calculated entailment with "built-in" functions [<a href="#N3Logic:2005:Misc" data-name="CITEN3Logic:2005:Misc">6</a>]).
    </p>
    <p>
        It dates back to 1998 [<a href="#Foundations:2010:Book" data-name="CITEFoundations:2010:Book">25</a>,p. 25], and currently holds status as a Team Submission at W3C, last updated 28th of March 2011. Figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> is serialized as N3 in listing <a href="#lst:N3Serialization">2.9</a>.
    </p>


    <div class="figure" id="tth_fIg2.9">
        <pre>@prefix ex: &#60;http://example.org/&#62; .
@prefix foaf: &#60;http://xmlns.com/foaf/0.1/&#62; .

ex:Arne foaf:knows ex:Kjetil ;
        foaf:familyName "Hassel" .</pre>
        <div class="caption" id="lst:N3Serialization">
            Figure 2.9: Serialization of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> into N3.
        </div>
    </div>
    <p>
        N3 shares a lot of the syntax of Turtle, but is an extension in the regard that it has extra syntax (e.g. <span class="teletype">@keywords</span>, <span class="teletype">@forAll</span>, <span class="teletype">@forSome</span>) [<a href="#Turtle:2011:Misc" data-name="CITETurtle:2011:Misc">3</a>,sec. 9].
    </p>
    <h5 id="tth_sEc2.1.5.4"><a class="bookmark" href="#tth_sEc2.1.5.4">2.1.5.4 N-Triples</a></h5>
    <p id="sec:SemanticWebSerializationNTriples">
        N-Triples was designed to be a fixed subset of N3 [<a href="#RdfTestCases:2004:Misc" data-name="CITERdfTestCases:2004:Misc">45</a>,sec. 3]. It is also a subset of Turtle, in that Turtle adds syntax to N-Triples [<a href="#Turtle:2011:Misc" data-name="CITETurtle:2011:Misc">3</a>,sec. 8]. Serialization of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> is given in listing <a href="#lst:NTriplesSerialization">2.10</a>.
    </p>


    <div class="figure" id="tth_fIg2.10">
        <pre>&#60;http://example.org/Arne&#62; &#60;http://xmlns.com/foaf/0.1/knows&#62; &#60;http://example.org/Kjetil&#62; .
&#60;http://example.org/Arne&#62; &#60;http://xmlns.com/foaf/0.1/familyName&#62; "Hassel" .</pre>
        <div class="caption" id="lst:NTriplesSerialization">
            Figure 2.10: Serialization of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> into N-Triples.
        </div>
    </div>
    <p>
        One way of looking at N-Triples is to see it as Turtle without the syntactic sugar.
    </p>
    <h5 id="tth_sEc2.1.5.5"><a class="bookmark" href="#tth_sEc2.1.5.5">2.1.5.5 RDF JSON</a></h5>
    <p id="sec:SemanticWebSerializationRDFJSON">
        RDF JSON was one of the earliest attempts to make a serialization of RDF in <abbr title="JavaScript Object Notation">JSON</abbr>. It is designed as part of the Talis Platform<a href="#tthFtNtAAG" name="tthFrefAAG"><sup>6</sup></a>, and is a simple serialization of RDF into JSON. Figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> is serialized into RDF JSON in listing <a href="#lst:RDFJSONSerialization">2.11</a>.
    </p>


    <div class="figure" id="tth_fIg2.11">
        <pre>{
    "http://example.org/Arne": {
        "http://xmlns.com/foaf/0.1/knows": [ {
            "value": "http://example.org/Kjetil",
            "type": "uri"
        } ],
        "http://xmlns.com/foaf/0.1/familyName": [ {
            "value": "Hassel",
            "type": "literal"
        } ]
    }
}</pre>
        <div class="caption" id="lst:RDFJSONSerialization">
            Figure 2.11: Serialization of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> into RDF JSON.
        </div>
    </div>
    <p>
        RDF JSON uses the syntax provided by JSON (explained in section <a href="#sec:JavascriptJSON">2.2.4</a>). All triples have the form <span class="teletype">{ "S": { "P": [ O ] } }</span>, where <span class="teletype">"S"</span> is the subject, <span class="teletype">"P"</span> is the predicate, and <span class="teletype">O</span> is a JSON object with the following keys:
    </p>
    <ul>
        <li><span class="teletype">type</span>, required: either <span class="teletype">&#252;ri"</span>, <span class="teletype">"literal"</span> or <span class="teletype">"bnode"</span>.</li>
        <li><span class="teletype">value</span>, required: the lexical value of the object.</li>
        <li><span class="teletype">lang</span>, optional: the language of the literal.</li>
        <li><span class="teletype">datatype</span>, optional: the data type of the literal.</li>
    </ul>
    <h5 id="tth_sEc2.1.5.6"><a class="bookmark" href="#tth_sEc2.1.5.6">2.1.5.6 <abbr title="JavaScript Object Notation for Linked Data">JSON-LD</abbr></a></h5>
    <p id="sec:SemanticWebSerializationJSONLD">
        JSON-LD is another JSON based serialization of RDF, and is the newest serialization to be included by W3C. It became a working draft on 12th of July 2012<a href="#tthFtNtAAH" name="tthFrefAAH"><sup>7</sup></a>, after being in the works for about a year by the <abbr title="JSON for Linking Data Community Group">JSON-LD CG</abbr><a href="#tthFtNtAAI" name="tthFrefAAI"><sup>8</sup></a>. It has been included in the work of the <abbr title="RDF Working Group">RDF WG</abbr> in hope that it will become a W3C Recommendation that will be useful to the broader developer community<a href="#tthFtNtAAJ" name="tthFrefAAJ"><sup>9</sup></a>.
    </p>
    <p>
        JSON-LD CG has from the start worked with the concern that RDF may be to complex for the JSON-community<a href="#tthFtNtABA" name="tthFrefABA"><sup>10</sup></a>, and as such has embraced LD rather than RDF. That being said, it is a goal that JSON-LD will serialize a RDF graph, <em>if</em> that is what the developer want to do. This is reflected in the current working draft, in that subjects, predicates and objects "<em>SHOULD</em> be labeled with an IRI". This does introduce the problem that valid JSON-LD documents may not be valid RDF serializations.
    </p>
    <p>
        Another design goal of JSON-LD is simplicity, meaning that developers only need to know JSON and two keywords (i.e. <span class="teletype">@context</span> and <span class="teletype">@id</span>) to use the basic functionality of JSON-LD[<a href="#JSONLDSyntax:2012:Manual" data-name="CITEJSONLDSyntax:2012:Manual">49</a>,sec. 2]. So how do we use these keywords? Lets look at two examples in listings <a href="#lst:JSONLDSerialization">2.12</a> and <a href="#lst:JSONLDSerializationBlankNode">2.13</a>, which serialize figures <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> and <a href="#fig:DirectedGraphBlankNode">2.3</a> respectively.
    </p>


    <div class="figure" id="tth_fIg2.12">
        <pre>{
    "@context": {
        "ex": "http://example.org/",
        "foaf": "http://xmlns.com/foaf/0.1/"
    },
    "@id": "ex:Arne",
    "foaf:knows": "ex:Kjetil",
    "foaf:familyName": "Hassel"
}</pre>
        <div class="caption" id="lst:JSONLDSerialization">
            Figure 12: Serialization of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> into JSON-LD.
        </div>
    </div>


    <div class="figure" id="tth_fIg2.13">
        <pre>{
    "@context": {
        "ex": "http://example.org/",
        "foaf": "http://xmlns.com/foaf/0.1/"
    },
    "@id": "ex:Arne",
    "foaf:knows": {
        "foaf:nick": [ "Bjarne", "Buddy" ]
    }
}</pre>
        <div class="caption" id="lst:JSONLDSerializationBlankNode">
            Figure 2.13: Serialization of figure <a href="#fig:DirectedGraphBlankNode">2.3</a> into JSON-LD.
        </div>
    </div>
    <p>
        In listing <a href="#lst:JSONLDSerialization">2.12</a> we see that prefixing namespaces are featured in line 3 and 4. We also see that the subject are defined by using the proprety <span class="teletype">@id</span>. The absence of <span class="teletype">@id</span> creates a blank node, as shown in listing <a href="#lst:JSONLDSerializationBlankNode">2.13</a>.
    </p>
    <p>
        Another design goal of JSON-LD is to provide a mechanism that allow developers to specify context in a way that is out-of-band. The rationale behind this is to allow organizations that already have deployed large JSON-based infrastructure to add meaning to their JSON documents that is not disruptive to their day-to-day operations[<a href="#JSONLDSyntax:2012:Manual" data-name="CITEJSONLDSyntax:2012:Manual">49</a>]. In practice this will work by having two JSON documents, one being the original JSON document, which is not linked, and another that provide rules as to how terms should be transformed into IRIs. Listing <a href="#lst:JSONLDFraming">2.14</a> shows how a serialization of figure <a href="#fig:DirectedGraphSimple">2.1</a> could be transformed into the serialization of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a>.
    </p>


    <div class="figure" id="tth_fIg2.14">
        <pre>// A non-LD JSON object
{
    "Arne": {
        "knows": "Kjetil",
        "lastname": "Hassel"
    }
}
// A JSON-LD object designed to transform the object above into a JSON-LD compliant object
{
    "@context": {
        "ex": "http://example.org/",
        "foaf": "http://xmlns.com/foaf/0.1/",
        "Arne": {
            "@id": "ex:Arne"
        },
        "Kjetil": {
            "@id": "ex:Kjetil"
        },
        "knows": "foaf:knows",
        "lastname": "foaf:familyName"
    }
}</pre>
        <div class="caption" id="lst:JSONLDFraming">
            Figure 2.14: Framing in JSON-LD.
        </div>
    </div>
    <h5 id="tth_sEc2.1.5.7"><a class="bookmark" href="#tth_sEc2.1.5.7">2.1.5.7 <abbr title="Resource Description Framework in Attributes">RDFa</abbr></a></h5>
    <p id="sec:SemanticWebSerializationRDFa">
        RDFa is another serialization that recently got promoted in the W3C-system. As of 7th of June 2012 it is a W3C Recommendation, and offers a range of documents (the RDFa Primer<a href="#tthFtNtABB" name="tthFrefABB"><sup>11</sup></a>, RDFa Core<a href="#tthFtNtABC" name="tthFrefABC"><sup>12</sup></a>, RDFa Lite<a href="#tthFtNtABD" name="tthFrefABD"><sup>13</sup></a>, XHTML+RDFa 1.1<a href="#tthFtNtABE" name="tthFrefABE"><sup>14</sup></a>, and HTML5+RDFa 1.1<a href="#tthFtNtABF" name="tthFrefABF"><sup>15</sup></a>).
    </p>
    <p>
        RDFa makes it possible to embed metadata in markup languages (e.g. <abbr title="HTML Working Group">HTML</abbr>), so as to make it easier for computers to extract important information. This is in response to the fact that some semantics may not be specific enough. Take the title-tags in HTML, <span class="teletype">H1</span>-<span class="teletype">H6</span>. Good practices suggest only using <span class="teletype">H1</span> one time, so that it only specifies the most important title for the page. But even so, what does the <span class="teletype">H1</span>-tag specify title for? Is it the page as a whole, or is it the specific article on that page. With RDFa you can specify this.
    </p>
    <p>
        The reasoning is that by making use of independently created vocabularies, the quality of metadata will increase. And by tying it into RDF, you can increase the overall knowledge of WWW.
    </p>
    <p>
        RDFa has a syntax much to big to describe in detail here, but lets look at an example, by serializing figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> into a fracture of HTML, given in listing <a href="#lst:RDFaSerialized">2.15</a>.
    </p>


    <div class="figure" id="tth_fIg2.15">
        <pre>&#60;div
  vocab="http://example.org/"
  prefix="foaf: http://xmlns.com/foaf/0.1/"
  about="Arne"&#62;Arne knows
  &#60;span
    property="foaf:knows"
    resource="Kjetil"&#62;Kjetil&#60;/span>
  and has last name &#60;span
    property="foaf:familyName"&#62;
    Hassel&#60;/span&#62;.&#60;/div&#62;</pre>
        <div class="caption" id="lst:RDFaSerialized">
            Figure 2.15: Serialization of figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> in RDFa.
        </div>
    </div>
    <p>
        Listing <a href="#lst:RDFaSerialized">2.15</a> shows us the use of the attributes <span class="teletype">vocab</span>, <span class="teletype">prefix</span>, <span class="teletype">about</span>, <span class="teletype">property</span>, and <span class="teletype">resource</span>:
    </p>
    <ul>
        <li><span class="teletype">vocab</span> defines the usage of a single vocabulary for the nested terms.</li>
        <li><span class="teletype">prefix</span> allows us to introduce prefixes in case we want to mix in more vocabularies.</li>
        <li><span class="teletype">about</span> defines the subject in a triple.</li>
        <li><span class="teletype">property</span> defines the predicate in a triple.</li>
        <li><span class="teletype">resource</span> may define the object and the subject, depending on context.</li>
    </ul>
    <h4 id="tth_sEc2.1.6"><a class="bookmark" href="#tth_sEc2.1.6">2.1.6 Querying</a></h4>
    <p id="sec:SemanticWebQuerying">
        An important feature of structured data is the possibility of querying it. You could have the users scour model in tools like a SW or RDF browser, but this can be a tedious task, and very inefficient for a machine. To query RDF we need a query language that recognizes RDF as the fundamental syntax [<a href="#SemanticWebProgramming:2009:Book" data-name="CITESemanticWebProgramming:2009:Book">24</a>,p. 192] (or rather, as the fundamental model).
    </p>
    <h5 id="tth_sEc2.1.6.1"><a class="bookmark" href="#tth_sEc2.1.6.1">2.1.6.1 SPARQL</a></h5>
    <p id="sec:SemanticWebSPARQL">
        SPARQL is the answer to the need for a query language. It exists as version 1.0, which became a W3C Recommendation 15th  of January 2008, and as version 1.1, which is a working draft, last updated 5th of January 2012. Version 1.1 builds upon version 1.0, and sports features such as (all fetched from the document SPARQL 1.1 Query Language [<a href="#SPARQL11:2011:Manual" data-name="CITESPARQL11:2011:Manual">48</a>]):
    </p>
    <ul>
        <li>The query forms <span class="teletype">SELECT</span>, <span class="teletype">ASK</span>, <span class="teletype">CONSTRUCT</span>, and <span class="teletype">DESCRIBE</span>,</li>
        <li>Grouping, ordering, and limitation of results fetched,</li>
        <li>Several shortened query forms,</li>
        <li>Aggregation,</li>
        <li>Subqueries,</li>
        <li>Negation,</li>
        <li>Expressions in the <span class="teletype">SELECT</span> clause and Property Paths,</li>
        <li>Assignment, and</li>
        <li>A large list of functions and operators.</li>
    </ul>
    <p>
        As the most powerful version, I will use version 1.1 as the basis for this thesis, and it will be the version I refer to when referring to SPARQL.
    </p>
    <p>
        There are four fundamental forms of read-queries in SPARQL, namely <span class="teletype">SELECT</span>, <span class="teletype">ASK</span>, <span class="teletype">CONSTRUCT</span>, and <span class="teletype">DESCRIBE</span>. The two latter returns new graphs, that can be used as basis for additional queries and manipulations (e.g. merging with other graphs).
    </p>
    <p>
        The <span class="teletype">SELECT</span> form enables us to query for variables, and return them in tabular form. We can project a specific list of variables we want returned, or just select all variables by using the asterisk sign.
    </p>
    <p>
        Listing  shows a very simple example of a <span class="teletype">SELECT</span> query. If we use that query against the model in figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a>, we will get the table <a href="#tab:BackgroundSPARQLSELECT">2.1</a> as a result.
    </p>


    <div class="figure" id="tth_fIg2.16">
        <pre>SELECT *
WHERE { ?subject ?predicate ?object }</pre>
        <div class="caption" id="lst:BackgroundSPARQLSELECT">
            Figure 2.16: An example of the <span class="teletype">SELECT</span> form in SPARQL
        </div>
    </div>


    <div class="table" id="tth_tAb2.1">
        <table>
            <tr>
                <th class="left">?subject</th>
                <th class="left">?predicate</th>
                <th class="left">?object</th>
            </tr>
            <tr>
                <td class="left">http://example.org/Arne</td>
                <td class="left">http://xmlns.com/foaf/0.1/knows</td>
                <td class="left">http://example.org/Kjetil</td>
            </tr>
            <tr>
                <td class="left">http://example.org/Arne</td>
                <td class="left">http://xmlns.com/foaf/0.1/familyName</td>
                <td class="left">"Hassel"</td>
            </tr>
        </table>
        <div class="caption" id="tab:BackgroundSPARQLSELECT">
            Table 2.1: Result from using query in listing  on the model in figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a>
        </div>
    </div>
    <p>
        As we see from table <a href="#tab:BackgroundSPARQLSELECT">2.1</a>, the query lists all triples we know in the model.
    </p>
    <p>
        The <span class="teletype">ASK</span> form enables us to verify whether or not certain query pattern are true or not. We could use it to ask if we know from the model in figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> whether or not there are an entity which has a given name <span class="teletype">&#196;rne"</span>. Listing <a href="#lst:BackgroundSPARQLASK">2.17</a> shows how this is done.
    </p>


    <div class="figure" id="tth_fIg2.17">
        <pre>@prefix foaf: &#60;http://xmlns.com/foaf/0.1/&#62;
ASK { ?x foaf:givenName "Arne" }</pre>
        <div class="caption" id="lst:BackgroundSPARQLASK">
            Figure 2.17: An example of the <span class="teletype">ASK</span> form in SPARQL
        </div>
    </div>
    <p>
        In our case the result would be <span class="teletype">false</span>.
    </p>
    <p>
        The <span class="teletype">CONSTRUCT</span> form enables us to derive a graph derived from other graphs. Lets look at another example in listing <a href="#lst:BackgroundSPARQLCONSTRUCT">2.18</a>.
    </p>


    <div class="figure" id="tth_fIg2.18">
        <pre>@prefix foaf: &#60;http://xmlns.com/foaf/0.1/&#62;
CONSTRUCT { ?x foaf:givenName "Arne" }
WHERE { ?x foaf:familyName "Hassel" }</pre>
        <div class="caption" id="lst:BackgroundSPARQLCONSTRUCT">
            Figure 2.18: An example of the <span class="teletype">CONSTRUCT</span> form in SPARQL
        </div>
    </div>
    <p>
        Now, if we were to run the <span class="teletype">ASK</span> query in listing <a href="#lst:BackgroundSPARQLASK">2.17</a> against the new graph, we would get the result <span class="teletype">true</span>. And if we ran the <span class="teletype">SELECT</span> query in listing , we would get the result in table <a href="#tab:BackgroundSPARQLCONSTRUCT">2.2</a>.
    </p>


    <div class="table" id="tth_tAb2.2">
        <table>
            <tr>
                <th class="left">?subject</th>
                <th class="left">?predicate</th>
                <th class="left">?object</th>
            </tr>
            <tr>
                <td class="left">http://example.org/Arne</td>
                <td class="left">http://xmlns.com/foaf/0.1/givenName</td>
                <td class="left">"Arne"</td>
            </tr>
        </table>
        <div class="caption" id="tab:BackgroundSPARQLCONSTRUCT">
            Table 2.2: Result from using query in listing  on the graph resulting from the query in listing <a href="#lst:BackgroundSPARQLCONSTRUCT">2.18</a> begin executed on the model in figure <a href="#fig:DirectedGraphSimpleCorrect">2.2</a>.
        </div>
    </div>
    <p>
        The <span class="teletype">DESCRIBE</span> form results in a single RDF graph. It differs from the <span class="teletype">CONSTRUCT</span> form in that we do not specify which triples we want the new graph to consist of, but rather that the SPARQL query processor determines which triples that are relevant. The relevant triples depend on the data available in the graph(s) queried, but takes basis in the resource(s) identified in the query pattern.
    </p>
    <p>
        Lets look at the query in listing <a href="#lst:BackgroundSPARQLDESCRIBE">2.19</a>, which we apply to the models in figures <a href="#fig:DirectedGraphSimpleCorrect">2.2</a> and <a href="#fig:DirectedGraphBlankNode">2.3</a>, which we have assigned to IRIs <a href="http://example.org/GraphA"><span class="teletype">http://example.org/GraphA</span></a> and <a href="http://example.org/GraphB"><span class="teletype">http://example.org/GraphB</span></a> respectively. The result could be something like the serialization shown in listing <a href="#lst:BackgroundTurtleDescribe">2.20</a>.
    </p>


    <div class="figure" id="tth_fIg2.19">
        <pre>@prefix foaf: &#60;http://xmlns.com/foaf/0.1/&#62;
@prefix ex: &#60;http://example.org/&#62;
CONSTRUCT ?y
FROM &#60;http://example.org/GraphA&#62;
FROM NAMED &#60;http://example.org/GraphB&#62;
WHERE { ?x foaf:knows ?y }</pre>
        <div class="caption" id="lst:BackgroundSPARQLDESCRIBE">
            Figure 2.19: An example of the <span class="teletype">DESCRIBE</span> form in SPARQL
        </div>
    </div>


    <div class="figure" id="tth_fIg2.20">
        <pre>@prefix foaf: &#60;http://xmlns.com/foaf/0.1/&#62; .
[ foaf:nick "Bjarne" , "Buddy" . ]</pre>
        <div class="caption" id="lst:BackgroundTurtleDescribe">
            Figure 2.20: A possible serialization of the result from the query in listing <a href="#lst:BackgroundSPARQLDESCRIBE">2.19</a>
        </div>
    </div>
    <p>
        The resulting graph has two triples, namely the one concerning the entity which we known has the nicks <span class="teletype">"Bjarne"</span> and <span class="teletype">"Buddy"</span>. As there are no triples where <a href="http://example.org/Kjetil"><span class="teletype">http://example.org/Kjetil</span></a> acts as the subject, we can not describe anything.
    </p>
    <p>
        I have introduced the token <span class="teletype">FROM</span> in the query. This syntax allows us to specify which RDF Datasets we wish to query. This syntax is optional, as the query processor will use the default graph if nothing is specified. There can be one default graph, whose IRI we override if we specify <span class="teletype">FROM</span> without <span class="teletype">NAMED</span>. A query can take any number (or none) of named graphs, but do not need a default graph if we have one or more named graphs.
    </p>
    <p>
        SPARQL has a great number of features, and I can not describe them all here<a href="#tthFtNtABG" name="tthFrefABG"><sup>16</sup></a>. But suffice to say, SPARQL is a powerful language that enables us to ask a variety of questions regarding our data.
    </p>
    <h5 id="tth_sEc2.1.6.2"><a class="bookmark" href="#tth_sEc2.1.6.2">2.1.6.2 SPARQL Update Language</a></h5>
    <p id="sec:SemanticWebSPARQLUpdateLanguage">
        The SPARQL 1.1 specification is part of a set of documents, which comprises ten documents. One of these is the document regarding SPARQL Update Language. It introduces an extension of the SPARQL syntax that allow us to update RDF datasets. The tokens are divided into two groups, Graph Update and Graph Management. The former consists of <span class="teletype">INSERT DATA</span>, <span class="teletype">DELETE DATA</span>, <span class="teletype">DELETE/INSERT</span> (with the shortcut form <span class="teletype">DELETE WHERE</span>), <span class="teletype">LOAD</span>, and <span class="teletype">CLEAR</span>. The latter consists of <span class="teletype">CREATE</span>, <span class="teletype">DROP</span>, <span class="teletype">COPY</span>, <span class="teletype">MOVE</span>, and <span class="teletype">ADD</span>.
    </p>
    <p>
        I will not go into detail, but SPARQL Update Language delivers a great variety of terms that allows us to manipulate our graphs with SPARQL.
    </p>
    <h4 id="tth_sEc2.1.7"><a class="bookmark" href="#tth_sEc2.1.7">2.1.7 Entailment</a></h4>
    <p id="sec:RDFEntailment">
        An important feature of RDF is the ability to infer knowledge from the existing knowledge, i.e. form or entail new conclusions. This is referred to as entailment. There are multiple forms of entailments in RDF, and it supports one form "out-of-the-box". The document "RDF Semantics"<a href="#tthFtNtABH" name="tthFrefABH"><sup>17</sup></a> gives details about entailment for RDF, RDFS, and D-entailment.
    </p>
    <p>
        Other regimes are the OWL Direct Semantics<a href="#tthFtNtABI" name="tthFrefABI"><sup>18</sup></a>, which covers OWL DL, OWL EL, and OWL QL. There is also <abbr title="Rule Interchange Format">RIF</abbr>, which outlines a core syntax for exchanging rules. The idea is to support multiple rule language, instead of the specific entailment regimes.
    </p>
    <p>
        As entailment did not become a part of the framework implemented as part of this thesis, I will not go into greater detail at this point. I will return to entailment in section <a href="#sec:DiscussionEntailment">8.1.3.1</a>, as part of the discussion.
    </p>
    <h3 id="tth_sEc2.2"><a class="bookmark" href="#tth_sEc2.2">2.2 JS</a></h3>
    <p id="sec:BackgroundJavaScript">
        JS begins its life in 1995, then named Mocha, created by Brendan Eich at Netscape [<a href="#EcmascriptSpec:2011:Manual" data-name="CITEEcmascriptSpec:2011:Manual">17</a>,<a href="#InfoworldJavascriptCreatorInterview:2008:Misc" data-name="CITEInfoworldJavascriptCreatorInterview:2008:Misc">27</a>]. It then got rebranded as LiveScript, and later on JS when Netscape and Sun got together. When the standard was written, it was named ECMAScript, but everyone knows it as JS. It quickly gained traction for its easy inclusion into web pages, but was long ridiculed by developers [<a href="#JavascriptMisunderstood:2001:Misc" data-name="CITEJavascriptMisunderstood:2001:Misc">15</a>].
    </p>
    <p>
        Douglas Crockford states in his article "JavaScript: The World's Most Misunderstood Programming Language"<a href="#tthFtNtABJ" name="tthFrefABJ"><sup>19</sup></a> ten reasons for the confusion centering JS:
    </p>
    <ol type="1">
        <li>The Name,</li>
        <li>Lisp in C's clothing,</li>
        <li>Typecasting,</li>
        <li>Moving Target,</li>
        <li>Design Errors,</li>
        <li>Lousy Implementations,</li>
        <li>Bad Books,</li>
        <li>Substandard Standard,</li>
        <li>Amateurs, and</li>
        <li>Object-Oriented.</li>
    </ol>
    <p>
        Luckily there has been some changes to the list since its conception in 2001.
    </p>
    <p>
        Point 1-5 is quite valid yet<a href="#tthFtNtACA" name="tthFrefACA"><sup>20</sup></a>, but can be remedied by good and educational resources for learning JS<a href="#tthFtNtACB" name="tthFrefACB"><sup>21</sup></a>.
    </p>
    <p>
        Point 6 is (mostly<a href="#tthFtNtACC" name="tthFrefACC"><sup>22</sup></a>) not valid anymore. If the community learned anything from the browser wars, it was to work with the community through the process of standards. Ecma Internationals effort to create a specification based on the de facto standard amongst the browsers has been successful, and groups such as W3Cs <abbr title="HTML Working Group">HTMLWG</abbr> and <abbr title="The Web Hypertext Application Technology Working Group">WHATWG</abbr> drives the production of standards, and great efforts are made to increase efficiency amongst JS-engines. Another testimony to the fact that implementations are increasingly popular are the efforts to use JS as a programming language outside the browser (described in section <a href="#sec:JavascriptServersideImplementations">2.2.7</a>).
    </p>
    <p>
        Point 7 depends on your view of good books, and although there is much left to desire, there are some good books out there<a href="#tthFtNtACD" name="tthFrefACD"><sup>23</sup></a>. But more importantly, there are several efforts to deliver resources of high quality to educate developers in JS. These resources are increasingly - perhaps fittingly - web-based. There is also an increase of interest on conferences that target developers<a href="#tthFtNtACE" name="tthFrefACE"><sup>24</sup></a>.
    </p>
    <p>
        Point 8 is left to be discussed (I have not read and analyzed the 440 pages that ECMAScript version 3 and 5 consists off), but the implementation of the standards seem to suggest that this point is not so valid anymore.
    </p>
    <p>
        JS is increasingly becoming part of the professional world, adaptations into conferences being one of the arguments suggesting this trend. You also have examples of major companies either supporting or developing JS-libraries<a href="#tthFtNtACF" name="tthFrefACF"><sup>25</sup></a>. This would suggest that point 9 is not the case anymore<a href="#tthFtNtACG" name="tthFrefACG"><sup>26</sup></a>.
    </p>
    <p>
        Point 10 is still valid, as it can be difficult for developers trained in conventional object-oriented languages like Java and C#. Again, as with point 1-5, this is remedied by proper, educational resources, that developers can turn to when puzzled by the intricacies of JS.
    </p>
    <p>
        JS may be a greatly misunderstood language even today, but it seems to have a lot going for it. The fact that it is the de facto programming language for the web puts it into a position worthy of respect, and should be regarded as a resource which can be used for many great things.
    </p>
    <h4 id="tth_sEc2.2.1"><a class="bookmark" href="#tth_sEc2.2.1">2.2.1 Object-Oriented</a></h4>
    <p id="sec:JavascriptOO">
        JS is fundamentally <abbr title="Object-Oriented">OO</abbr> as objects are its fundamental datatype [<a href="#JavaScriptDefinitiveGuide:2011:Book" data-name="CITEJavaScriptDefinitiveGuide:2011:Book">19</a>,p. 115]. It treats objects different than many other programming languages though, as it does not have classes and class-oriented inheritance. There are fundamentally two ways of building up object systems, namely by prototypical inheritance (explained in section <a href="#sec:JavascriptPrototypicalInheritance">2.2.1.1</a>) and by aggregation (explained in section <a href="#sec:JavascriptDynamicProperties">2.2.1.2</a>) [<a href="#JavascriptMisunderstood:2001:Misc" data-name="CITEJavascriptMisunderstood:2001:Misc">15</a>].
    </p>
    <p>
        Another design feature is its support of the functional programming style, by treating functions as first-class objects. This feature is explained thoroughly in section <a href="#sec:JavascriptFunctionalFeature">2.2.1.3</a>.
    </p>
    <p>
        The level of object-orientation in JS is shown in that even literals (i.e. all primitive values except <em>undefined</em> and <em>null</em>) can be treated as objects. They are, however, immutable, and does not share the dynamic properties that "normal" objects in JS do. JS handles this by wrapping the values into their respectively object-type (e.g. String, Number, and Boolean). An example showing this is shown in listing <a href="#lst:JavascriptObjectVSLiteral">2.21</a>.
    </p>


    <div class="figure" id="tth_fIg2.21">
        <pre>var stringObject = new String('foo');
console.log(stringObject.length); // logs 3
var stringLiteral = 'foo';
console.log(stringLiteral.length); // logs 3</pre>
        <div class="caption" id="lst:JavascriptObjectVSLiteral">
            Figure 2.21: Use of literals in JS
        </div>
    </div>
    <p>
        Other objects that are somewhat different from the norm is the Array- and Math-object, the former representing a list of values and the latter sporting a set of static methods.
    </p>
    <p>
        Objects in JS do not need classes to be instantiated. But it is possible to emulate classes in JS though, as it helps us use class-depended features (e.g. some <abbr title="Software Design Pattern">SDP</abbr>s), and an example is shown in listing <a href="#lst:JavascriptClasses">2.22</a>.
    </p>


    <div class="figure" id="tth_fIg2.22">
        <pre>var MyClass = function () {
    this.myProperty = 42;
    this.myMethod = function (value) {
        return value + this.myProperty;
    };
};

var myObject = new MyClass();
console.log(myObject.myMethod(1295)); // logs 1337</pre>
        <div class="caption" id="lst:JavascriptClasses">
            Figure 2.22: Emulation of classes in JS
        </div>
    </div>
    <h5 id="tth_sEc2.2.1.1"><a class="bookmark" href="#tth_sEc2.2.1.1">2.2.1.1 Prototypical Inheritance</a></h5>
    <p id="sec:JavascriptPrototypicalInheritance">
        At the heart of all object-handling in JS is <span class="teletype">Object</span>. All objects inherit this object if nothing else is specified, and it is there we find the default properties and methods that are shared by all objects. We can manipulate which object we want our objects to inherit, and as such can create a hierarchy of objects. Listing <a href="#lst:JavascriptPrototype">2.23</a> show some examples of inheritance. In it we see how we can initiate objects, and how we can assign them to inherit other objects.
    </p>


    <div class="figure" id="tth_fIg2.23">
        <pre>var objectA = {},
    objectB = new Object(),
    objectC = Object.create(objectB)
objectB.__proto__ = objectA;
Object.propA = 42;
objectB.propA = 1337;
console.log(objectA.propA, objectC.propA); // logs 42, 1337</pre>
        <div class="caption" id="lst:JavascriptPrototype">
            Figure 2.23: Usage of prototype in JS
        </div>
    </div>
    <p>
        The simple secret behind prototypical inheritance is that all objects have the property <span class="teletype">__proto__</span>. When a property or method is called, JS will search for the called element by traversing the objects' properties, and if not found, it will continue with the prototype. We can visualize the structure in listing <a href="#lst:JavascriptPrototype">2.23</a> as a tree, and have done so in figure <a href="#fig:JavascriptPrototype">2.24</a>.
    </p>


    <div class="figure" id="tth_fIg2.24">
        <img src="png/ObjectInheritance.png" />
        <div class="caption" id="fig:JavascriptPrototype">
            Figure 2.24: Object inheritance created in listing <a href="#lst:JavascriptPrototype">2.23</a> visualized as a tree.
        </div>
    </div>
    <p>
        So when we call <span class="teletype">objectA.propA</span>, JS will check if <span class="teletype">objectA</span> has the property <span class="teletype">propA</span>. As it has not it will continue to its prototype, which is <span class="teletype">Object</span>. Now, as <span class="teletype">Object</span> has the property <span class="teletype">propA</span>, JS will return its value, which is <span class="teletype">42</span> in our case. But if we call <span class="teletype">objectC.prop</span>, it will not have to go longer than <span class="teletype">objectB</span> to see that there is a property that matches its search.
    </p>
    <p>
        A last note is that <span class="teletype">Object</span> also have the property <span class="teletype">__proto__</span>. This can also be manipulated, but JS will take care so that we do not run into an infinite loop when looking for properties that does not exist (it is also considered a bad practice (i.e. an anti-pattern) to manipulate the prototype of <span class="teletype">Object</span>).
    </p>
    <h5 id="tth_sEc2.2.1.2"><a class="bookmark" href="#tth_sEc2.2.1.2">2.2.1.2 Dynamic Properties</a></h5>
    <p id="sec:JavascriptDynamicProperties">
        All mutable objects in JS can be manipulated at run-time. This we also see in listing <a href="#lst:JavascriptPrototype">2.23</a>, as we add the property <span class="teletype">propA</span> in line 5 and 6. Objects are basically containers for key-value entities, where the key is a string. In this regard, objects in JS can be regarded as maps, or dictionaries.
    </p>
    <p>
        We can at any time manipulate existing properties by replacing its values or delete the key altogether. We can also manipulate objects that are prototyped, and the objects that inherit will also be affected. The internal works of this is that JS creates a reference in memory for variables that are set as objects. If those variables where to be set to other variables, the reference would be copied, not the values contained within.
    </p>
    <p>
        A note on mutability and immutability: JS differentiate between primitive values and object. The former are immutable, while the latter is mutable. <abbr title="ECMA-262 5.1 Edition">ECMA5</abbr> offers three new functions that alter this behavior, namely the properties <span class="teletype">seal</span>, <span class="teletype">freeze</span>, and <span class="teletype">preventExtensions</span> in <span class="teletype">Object</span> (with the responding <span class="teletype">isSealed</span>, <span class="teletype">isFrozen</span>, and <span class="teletype">isExtensible</span> to test whether or not these are set) [<a href="#EcmascriptSpec:2011:Manual" data-name="CITEEcmascriptSpec:2011:Manual">17</a>,p. 114-115]. Explaining how these functions are outside the scope of this thesis, but suffice to say is that ECMA5 adds some spice to the mutable properties of JS-objects.
    </p>
    <h5 id="tth_sEc2.2.1.3"><a class="bookmark" href="#tth_sEc2.2.1.3">2.2.1.3 Functional Features</a></h5>
    <p id="sec:JavascriptFunctionalFeature">
        All functions are treated as first-class objects, and as such can be manipulated as any other object. It can also be passed around as variables, and this opens for some nifty features. By passing a function as a parameter, we can call that function whenever we want, e.g. after we have loaded a set of resource. This asynchronous feature is explained in depth in section <a href="#sec:JavascriptAsynchronous">2.2.5</a>.
    </p>
    <p>
        Functions can be instantiated in many ways, as shown in listing <a href="#lst:JavascriptFunctionalFeature">2.25</a>. A function consists of three elements [<a href="#JavaScriptDefinitiveGuide:2011:Book" data-name="CITEJavaScriptDefinitiveGuide:2011:Book">19</a>,p. 164]:
    </p>
    <ol type="1">
        <li>Name: An identifier that names the function (optional in function definition expressions).</li>
        <li>Parameter(s): A pair of parentheses around a comma-separated list of zero or more identifiers.</li>
        <li>Body: A pair of curly braces with zero or more JS-statements inside.</li>
    </ol>


    <div class="figure" id="tth_fIg2.25">
        <pre>function functionA (x) { return x; };
var functionB = function (x) { return x; },
    functionC = function functionD (x) { return x; },
    functionE = new Function("x", "return x;");

console.log(functionA(42), // logs 42
            functionB(42), // logs 42
            functionC(42), // logs 42
            functionD(42), // throws ReferenceError: functionD is not defined
            functionE(42)); // logs 42</pre>
        <div class="caption" id="lst:JavascriptFunctionalFeature">
            Figure 2.25: Instantiating functions in JS
        </div>
    </div>
    <p>
        All types in listing <a href="#lst:JavascriptFunctionalFeature">2.25</a> support these requirements, albeit a little differently. Line 1 shows a named function, while the other two are anonymous. Anonymous functions are called through their reference, i.e. the variables they are set to. Named functions is referable by their names, if not they are set to a variable, in which case it will be referable by the variable (line 9 shows what happens if you call the function by its name when its set to a variable).
    </p>
    <p>
        Functions of the types listed in line 1-3 can be used as constructors for new objects, while the one in line 4 can be used as a prototype. A simple example of this is shown in listing <a href="#lst:JavascriptSimpleObject">2.26</a>. It introduces the use of <span class="teletype">this</span>, which will be explained in section <a href="#sec:JavascriptScope">2.2.2</a>.
    </p>


    <div class="figure" id="tth_fIg2.26">
        <pre>function ObjectA (x) {
    this.x = x;
    this.methodA = function (y) {
        return this.x + y;
    };
}

var A = new ObjectA(1300);
console.log(A.methodA(37)); // logs 1337</pre>
        <div class="caption" id="lst:JavascriptSimpleObject">
            Figure 2.26: A simple object in JS
        </div>
    </div>
    <h4 id="tth_sEc2.2.2"><a class="bookmark" href="#tth_sEc2.2.2">2.2.2 Scope</a></h4>
    <p id="sec:JavascriptScope">
        The way JS handles the scope may be confusing to developers coming from class-oriented programming languages. JS does not contain syntax such as private of protected for use with variables, but it supports private variables for objects. It does so in the way it handles the context functions are part of (e.g. the scope).
    </p>
    <p>
        Functions in JS can be nested within other functions, and they have access to any variables that are in scope where they are defined. This means that JS-functions are closures, and it enables important and powerful programming techniques [<a href="#JavaScriptDefinitiveGuide:2011:Book" data-name="CITEJavaScriptDefinitiveGuide:2011:Book">19</a>].
    </p>
    <p>
        If a variable is not set as a property in an object, it will be a part of the global object. The global object in JS depends on which environment it is run in, but in most browsers it is represented by the object <span class="teletype">window</span>. This has some consequences, like the fact that usage of the syntax-element <span class="teletype">var</span> is optional; it will become a key-value entity in the scope in which it is declared, which is the global object if nothing else is specified. This is exemplified in listing <a href="#lst:JavascriptScope">2.27</a>.
    </p>


    <div class="figure" id="tth_fIg2.27">
        <pre>var x = 42;
y = 42;
window.z = 42;

console.log(x, y, z); // logs 42 42 42</pre>
        <div class="caption" id="lst:JavascriptScope">
            Figure 2.27: Examples of scope in JS
        </div>
    </div>
    <h5 id="tth_sEc2.2.2.1"><a class="bookmark" href="#tth_sEc2.2.2.1">2.2.2.1 Closure</a></h5>
    <p id="sec:JavascriptClosure">
        Lets review a simple example of closure, given in listing <a href="#lst:JavascriptClosure">2.28</a>. In this example we have two functions, one which works as a constructor, and another that merely calls a function it has been given as parameter. When we pass <span class="teletype">a.getValue</span> to <span class="teletype">functionA</span>, JS also include the context which that method runs in, in effect creating a closure.
    </p>


    <div class="figure" id="tth_fIg2.28">
        <pre>var ObjectA = function (val) {
        this.val = val;
        this.getValue = function () {
            return this.val;
        }
    },
    functionA = function (getFunc) {
        return getFunc();
    };

var a = new ObjectA(42);
console.log(functionA(a.getValue)); // logs 42</pre>
        <div class="caption" id="lst:JavascriptClosure">
            Figure 2.28: A simple example of closure in JS
        </div>
    </div>
    <p>
        This feature is increasingly used in JS-libraries, and is getting a lot of appraise from the community. But it is also a headache for many aspiring JS-developers, as it may be a bit difficult to wrap your head around (and use correctly). Lets look another example of what may go wrong, given in listing <a href="#lst:JavascriptClosureFaulty">2.29</a>. In this example we try to access <span class="teletype">this.val</span> inside <span class="teletype">functionAA</span>. But as <span class="teletype">functionAA</span> is not part of the scope of <span class="teletype">functionA</span>, and thereby not being a part of the closure given to <span class="teletype">functionB</span>, we fall back to calling on the global object. Since the global object does not have a property named <span class="teletype">val</span>, it will return <span class="teletype">undefined</span>.
    </p>


    <div class="figure" id="tth_fIg2.29">
        <pre>var functionA = function (val, func) {
        this.val = val;
        function functionAA () {
            return this.val;
        }
        return func(functionAA);
    },
    function B = function (func) {
        return func();
    };

console.log(functionA(42, functionB)); //logs undefined</pre>
        <div class="caption" id="lst:JavascriptClosureFaulty">
            Figure 2.29: An example of code gone wrong because of faulty handling of closure
        </div>
    </div>
    <h4 id="tth_sEc2.2.3"><a class="bookmark" href="#tth_sEc2.2.3">2.2.3 Static functions</a></h4>
    <p>
        JS supports static functions in that all functions are treated as objects, and by extension can be extended with methods. Listing <a href="#lst:JavascriptStaticFunction">2.30</a> illustrates an example of this.
    </p>


    <div class="figure" id="tth_fIg2.30">
        <pre>var funcA = function (val) { this.val = val; },
    objA = new funcA(1337);
funcA.funcB = function () { return 42; }
funcA.funcC = function () { return this.val; }
console.log(funcA.funcB()); // logs 42
console.log(objA.funcC()); // throws TypeError
console.log(funcA.funcC.call(objA); // logs 1337</pre>
        <div class="caption" id="lst:JavascriptStaticFunction">
            Figure 2.30: An example of static functions in JS
        </div>
    </div>
    <p>
        Note that static functions are not accessible as methods in objects constructed with the parenting functions as constructor. But we can manipulate the scope of the functions by overloading <span class="teletype">this</span> (with <span class="teletype">call</span>) to be the object we wish to refer to, as shown on line 7.
    </p>
    <h4 id="tth_sEc2.2.4"><a class="bookmark" href="#tth_sEc2.2.4">2.2.4 JSON</a></h4>
    <p id="sec:JavascriptJSON">
        JSON is a lightweight, text-based data interchange format. It is originally based on JS, but is language-independent[<a href="#RFC4627:2006:Misc" data-name="CITERFC4627:2006:Misc">16</a>]. It was specified by Douglas Crockford in RFC 4627, and enjoys support in most major programming languages.
    </p>
    <p>
        JSON consists of literals that are either <span class="teletype">false</span>, <span class="teletype">null</span>, <span class="teletype">true</span>, an object (i.e. collections of key-value pairs), an array (i.e. lists), a number, or a string [<a href="#RFC4627:2006:Misc" data-name="CITERFC4627:2006:Misc">16</a>]. Listing <a href="#lst:JSONExamples">2.31</a> shows some examples of valid JSON-objects, as well as some structures that are not valid JSON.
    </p>


    <div class="figure" id="tth_fIg2.31">
        <pre>// valid, can all be parsed by JSON.parse
var goodA = '42',
    goodB = '{ "a": 42 }',
    goodC = '[ 1337,{ "a": 42 }]';
// invalid, will all make JSON.parse throw a SyntaxError
var badA = '', // unexpected end of input
    badB = 'function (x) { return x; }', // unexpected token u
    badC = '{ "a": new Object() }'; // unexpected token e
</pre>
        <div class="caption" id="lst:JSONExamples">
            Figure 2.31: Examples of structures in JS that are valid and invalid JSON-objects
        </div>
    </div>
    <p>
        JS supports JSON by default (given in ECMAScript Language Definition [<a href="#EcmascriptSpec:2011:Manual" data-name="CITEEcmascriptSpec:2011:Manual">17</a>]).
    </p>
    <h4 id="tth_sEc2.2.5"><a class="bookmark" href="#tth_sEc2.2.5">2.2.5 Asynchronous Loading of Resources</a></h4>
    <p id="sec:JavascriptAsynchronous">
        Asynchronous loading or resources are common in browsers. Normal HTML documents normally externalize much of its <abbr title="Cascading Style Sheets">CSS</abbr> and JS functionality, as dictated by good practices. Those resources are loaded by the browser by default, without too much hassle. But when it comes to making use of the browsers API (i.e. the ones available to JS) to load resources asynchronously, it becomes another game entirely.
    </p>
    <h5 id="tth_sEc2.2.5.1"><a class="bookmark" href="#tth_sEc2.2.5.1">2.2.5.1 <abbr title="Same Origin Policy">SOP</abbr></a></h5>
    <p id="sec:JavascriptSameOriginPolicy">
        As with many issues, handling external resources are difficult in JS because of security issues. And justifiable so, as JS becomes an increasingly powerful programming language, so are the possibilities to abuse it. Users of WWW are increasingly used to insert personal information, and if we cannot trust owners of web pages to control what is being run on their site, then there would be a lot of issues with trust on the web<a href="#tthFtNtACH" name="tthFrefACH"><sup>27</sup></a>.
    </p>
    <p>
        Perhaps the most important security concept within modern browsers is the idea of SOP<a href="#tthFtNtACI" name="tthFrefACI"><sup>28</sup></a>. Although there is no single SOP governing how browsers implement it, the idea is that resources that do not share the same origin (i.e. having the same scheme, host, and port in the IRI (concepts explained in section <a href="#sec:URLvsURIvsIRI">2.1.4.2</a>)) are isolated from each other.
    </p>
    <p>
        It is possible to circumvent SOP in JS by inserting a script-tag referring to an external file. This technique is used by <abbr title="JSON with padding">JSONP</abbr>, which allows JSON residing in external files to be loaded during run-time.
    </p>
    <h5 id="tth_sEc2.2.5.2"><a class="bookmark" href="#tth_sEc2.2.5.2">2.2.5.2 <abbr title="Content Security Policy">CSP</abbr></a></h5>
    <p id="sec:JavascriptCSP">
        Another way of handling security concerning external resources is CSP. CSP is in the works (Working Draft at W3C<a href="#tthFtNtACJ" name="tthFrefACJ"><sup>29</sup></a>), and as an incomplete standard it may be prone to changes. But the basic idea is to let developers whitelist external resources. The policy is first and foremost being designed to be part of the HTTP response header, but there is also work on letting it be a part of <span class="teletype">HEAD</span> in a HTML document, as a <span class="teletype">META</span> tag.
    </p>
    <h5 id="tth_sEc2.2.5.3"><a class="bookmark" href="#tth_sEc2.2.5.3">2.2.5.3 <abbr title="XMLHttpRequest">XHR</abbr></a></h5>
    <p id="sec:JavascriptXHR">
        XHR has been part of the world of browsers for a while. It was conceived by Microsoft in their work on Microsoft Exchange Server 2000, and was later ported by Mozilla. It was overlooked for quite a while, until <abbr title="Asynchronous JavaScript and XML">AJAX</abbr> became a trend, as developers understood the power it had to load resources asynchronously (and synchronously, if needed).
    </p>
    <p>
        <abbr title="XMLHttpRequest Level 2">XHR2</abbr> is a Working Draft as of this writing, but introduces several features requested by the community, allowing cross-domain fetching of resources being one of them. To allow this, it makes use of another standard which is in the making, namely <abbr title="Cross-Origin Resource Sharing">CORS</abbr><a href="#tthFtNtADA" name="tthFrefADA"><sup>30</sup></a>. This technology is already available in some browsers. But its inherit problem is that it requires domain-owners to add information to their HTTP headers.
    </p>
    <p>
        Another technology developed to fetch resources across domains are <abbr title="XDomainRequest">XDR</abbr>. But as it was not included in the framework, I have let it be a part of the discussion in section <a href="#sec:DiscussionXDR">8.1.4.1</a>.
    </p>
    <h4 id="tth_sEc2.2.6"><a class="bookmark" href="#tth_sEc2.2.6">2.2.6 <abbr title="CommonJS">CJS</abbr></a></h4>
    <p id="sec:JavascriptCommonJS">
        CommonJS is a volunteer-driven project<a href="#tthFtNtADB" name="tthFrefADB"><sup>31</sup></a> aiming to standardize and implement specifications that expand the functionality of JS. Specifications include handling of modules, unit testing, packaging, <abbr title="Input/Output">I/O</abbr>, handling of binary data, and much more. We have included details concerning three of these specifications (the promise pattern, section <a href="#sec:JavascriptPromisePattern">2.2.6.1</a> and the module patterns AMD and CommonJS Modules, sections <a href="#sec:JavascriptAMD">2.2.8.3</a> and <a href="#sec:JavascriptCJSModule">2.2.8.4</a>), as they have been included in the framework.
    </p>
    <h5 id="tth_sEc2.2.6.1"><a class="bookmark" href="#tth_sEc2.2.6.1">2.2.6.1 Promise Pattern</a></h5>
    <p id="sec:JavascriptPromisePattern">
        The promise pattern is titled Promises/A by CommonJS<a href="#tthFtNtADC" name="tthFrefADC"><sup>32</sup></a>. It is also referred to as Deferred, and works by having an object represent a promise. The promise consists of a result that will be returned at some time in the future, and in the meantime, the run-time will continue evaluating the rest of the sourcecode. This can be set up so that when the result is ready, a function is called with the result sent as parameter. This allows for some proper handling of asynchronous functionality.
    </p>
    <p>
        Listing <a href="#lst:JavascriptPromisePattern">2.32</a> shows some examples of the API. A central point of these examples are that the functions passed as parameters to the then-function are called as soon as the promise are resolved, i.e. detached from the order in which they were called in the code.
    </p>


    <div class="figure" id="tth_fIg2.32">
        <pre>// When is available as a global variable
var promiseA = When.defer(),
    promiseB = When.defer();
setTimeout(function () { promiseA.resolve(42); }, 2000));
setTimeout(function () { promiseB.resolve(1337); }, 1000));

// Preparing single promises
promiseA.then(function (result) {
    console.log(result); // logs 42 after 2000 milliseconds
});
promiseB.then(function (result) {
    console.log(result); // logs 1337 after 1000 milliseconds
});

// Preparing multiples promises
When.all([ promiseA, promiseB ], function (results) {
    console.log(results); // logs [ 42, 1337] after 2000 milliseconds
});</pre>
        <div class="caption" id="lst:JavascriptPromisePattern">
            Figure 2.32: Examples of the Promise API
        </div>
    </div>
    <h4 id="tth_sEc2.2.7"><a class="bookmark" href="#tth_sEc2.2.7">2.2.7 Server-side implementations</a></h4>
    <p id="sec:JavascriptServersideImplementations">
        As JS has become an increasingly popular programming language, so has its use outside of the browser. One of these branches is the use of JS for server-side web-applications. As part of this thesis I have only used one such implementation as a run-time environment for my <abbr title="Test-Driven Development">TDD</abbr>. A more in-length discussion of the matter can be found in section <a href="#sec:DiscussionJSServerside">8.1.5</a>.
    </p>
    <h4 id="tth_sEc2.2.8"><a class="bookmark" href="#tth_sEc2.2.8">2.2.8 Module Patterns</a></h4>
    <p id="sec:JavascriptModules">
        JS is a flexible language, and one area in which this is very clear is when it comes to module handling. This is not a surprise, as handling variables and ensuring they are not compromised by code elsewhere in the application is harder than you might think. As such, "modules are an integral piece of any robust application's architecture and typically help in keeping the units of code for a project both cleanly separated and organized" [<a href="#JavaScriptDesignPatterns:2012:Book" data-name="CITEJavaScriptDesignPatterns:2012:Book">29</a>].
    </p>
    <p>
        This section will describe some of the patterns of module handling I have found during my research.
    </p>
    <h5 id="tth_sEc2.2.8.1"><a class="bookmark" href="#tth_sEc2.2.8.1">2.2.8.1 Contained Module</a></h5>
    <p id="sec:JavascriptContainedModule">
        The Contained Module pattern is designed to encapsulate private variables and return an explicit object with public methods that can work with the private variables. It was made popular by Douglas Crockford, and is used extensively in smaller libraries. Listing <a href="#lst:JavascriptContainedModule">2.33</a> shows an example using this pattern.
    </p>


    <div class="figure" id="tth_fIg2.33">
        <pre>var myModule = (function () {
  var myPrivateVariable = 42;
  function myFunction () {
    return myPrivateVariable;
  }
  return {
    myPublicFunction: myFunction
  };
})();
console.log(myModule.myPublicFunction); // logs 42</pre>
        <div class="caption" id="lst:JavascriptContainedModule">
            Figure 2.33: Use of contained modules in JS
        </div>
    </div>
    <p>
        The problem with this pattern is that it does not really address how to combine several modules. For that we turn to the other patterns.
    </p>
    <h5 id="tth_sEc2.2.8.2"><a class="bookmark" href="#tth_sEc2.2.8.2">2.2.8.2 Namespaces</a></h5>
    <p id="sec:JavascriptNamespaces">
        The simplest way structure several modules is to follow the Namespaces pattern. An example of it can be seen in listing <a href="#lst:JavascriptNamespaces">2.34</a>.
    </p>


    <div class="figure" id="tth_fIg2.34">
        <pre>var OurNamespace = {};
// in another file, called after the above code has been evaluated
(function (ns) {
  ns.anotherLevel = {};
})(OurNamespace);
// another file yet again, called after the above code
(function (ns) {
  ns.anotherLevel.ourFunctionalModule = function () { /* ... */ };
})(OurNamespace);</pre>
        <div class="caption" id="lst:JavascriptNamespaces">
            Figure 2.34: Use of namespaces in JS
        </div>
    </div>
    <p>
        It requires the developer to include the modules in correct order, which can be troublesome. The one single argument to use this is that it is supported out-of-the box, as it does not depend on any extra functionality than the one inherent in browsers.
    </p>
    <h5 id="tth_sEc2.2.8.3"><a class="bookmark" href="#tth_sEc2.2.8.3">2.2.8.3 AMD</a></h5>
    <p id="sec:JavascriptAMD">
        The AMD pattern is titled Modules/Async/A by CommonJS<a href="#tthFtNtADD" name="tthFrefADD"><sup>33</sup></a>. Its overall goal is to provide a solution for modular JS that developers can use today[<a href="#JavaScriptDesignPatterns:2012:Book" data-name="CITEJavaScriptDesignPatterns:2012:Book">29</a>]. Essentially it makes use of the functions <span class="teletype">define</span> and <span class="teletype">require</span>. The former defines a module, while the latter enables us to load dependencies that the module requires. Listing <a href="#lst:JavascriptAMD">2.35</a> shows an example.
    </p>


    <div class="figure" id="tth_fIg2.35">
        <pre>define([
  "dependentModuleA",
  "dependentModuleB"
], function (depModA, depModB) {
  function privateFunction () {
    /* This function is not publicly available by other modules */
  }
  return { /* This object becomes available to other modules */
    myPublicFunction: function () { /* ... */ }
  };
});</pre>
        <div class="caption" id="lst:JavascriptAMD">
            Figure 2.35: Use of AMD in JS
        </div>
    </div>
    <p>
        AMD allows us to split our functionality into modules and easily load components as they are needed, in run-time. This in turn leads do a more decoupled code base, making it easier to make modules reusable. But it may also increase the loading time required, as each module requested fires a HTTP request. Which consequences this has for the framework is further discussed in section <a href="#sec:DiscussionModularity">8.1.2</a>.
    </p>
    <h5 id="tth_sEc2.2.8.4"><a class="bookmark" href="#tth_sEc2.2.8.4">2.2.8.4 CommonJS Module</a></h5>
    <p id="sec:JavascriptCJSModule">
        Another pattern to emerge from the CommonJS community the CommonJS Module pattern. It makes use of the functions <span class="teletype">require</span> and <span class="teletype">exports</span>. An example is given in listing <a href="#lst:JavascriptCJSModule">2.36</a>.
    </p>


    <div class="figure" id="tth_fIg2.36">
        <pre>var moduleDependency = require("moduleWeAreDependentOn");

function privateFunction () {
  /* This function is not publicly available by other modules */
}

exports.myModule = { // this object is available to other modules
  myPublicFunction: function () { /* ... */ }
};</pre>
        <div class="caption" id="lst:JavascriptCJSModule">
            Figure 2.36: Use of CommonJS Module in JS
        </div>
    </div>
    <p>
        CommonJS also allow modules to be loaded asynchronously<a href="#tthFtNtADE" name="tthFrefADE"><sup>34</sup></a>, and in many regards resembles AMD a lot. AMD and CommonJS Module differ in which environment they cater to. AMD is mostly being used by client-side projects, while CommonJS Modules is used by server-side projects. That said, both types can be used on either sides, and it becomes merely a question of taste.
    </p>
    <h5 id="tth_sEc2.2.8.5"><a class="bookmark" href="#tth_sEc2.2.8.5">2.2.8.5 Harmony</a></h5>
    <p id="sec:JavascriptHarmonyModule">
        Last, we have the modular pattern that is to be part of the sixth edition of EcmaScript, a.k.a. ES.next, a.k.a. Harmony. This pattern makes use of new syntax, and an example can be seen in listing <a href="#lst:DiscussionHarmonyModules">2.37</a>.
    </p>


    <div class="figure" id="tth_fIg2.37">
        <pre>module moduleA {
  export var functionA = function () { /* ... */ }
  export var objectA = { /* ... */ }
  export var propertyA = 42;
}
module moduleB {
  import functionA, objectA, propertyA from moduleA;
  // equivalent to the above: import * from moduleA;
}</pre>
        <div class="caption" id="lst:DiscussionHarmonyModules">
            Figure 2.37: Use of modules in Harmony
        </div>
    </div>
    <p>
        This syntax is not available in standard browsers yet, as it is still subject to change, however it is available for experimentation through tools such as traceur-compiler<a href="#tthFtNtADF" name="tthFrefADF"><sup>35</sup></a> and esprima<a href="#tthFtNtADG" name="tthFrefADG"><sup>36</sup></a>.
    </p>
    <h3 id="tth_sEc2.3"><a class="bookmark" href="#tth_sEc2.3">2.3 SDP</a></h3>
    <p id="sec:BackgroundDesignPatterns">
        Patterns were originally conceptualized as an architectural concept by Christopher Alexander, who wrote:
    </p>
    <blockquote>
        Each pattern describes a problem which occurs over and over again in our environment, and then describes the core of the solution to that problem, in such a way that you can use this solution a million times over, without ever doing it the same way twice [<a href="#PatternLanguage:1977:Book" data-name="CITEPatternLanguage:1977:Book">1</a>,p. x].
    </blockquote>
    <p>
        Alexander's work inspired amongst others Kent Beck and Ward Cunningham, who in 1987 presented the report "Using Pattern Languages for Object-Oriented Programs"<a href="#tthFtNtADH" name="tthFrefADH"><sup>37</sup></a> on OOPSLA-87. They outlined the adaptation from Pattern Language to object-oriented programming, and summarized a system of five patterns that they had successfully used for designing window-based user interfaces.
    </p>
    <p>
        SDPs did not become popular before the publication of Design Patterns by Erich Gamma, Richard Helm, Ralph Johnson, and John Vlissides (often known as <abbr title="Gang of Four">GoF</abbr>) in 1994. They generalized patterns to have four essential elements (all quoted in shortened from Design Patterns [<a href="#DesignPatterns:1994:Book" data-name="CITEDesignPatterns:1994:Book">22</a>,p. 3]):
    </p>
    <ol type="1">
        <li><b>Pattern name:</b> A handle which we can use to describe a design problem, its solutions, and consequences in a word or two. A pattern name is useful as a higher level of abstraction, increases our pattern vocabulary, and eases communication in social contexts.</li>
        <li><b>Problem:</b> Each pattern is designed to handle a specific problem, and this part tells us when it is appropriate to use a specific SDP.</li>
        <li><b>Solution:</b> This part explains in detail how to solve the given problem by explaining the elements that make up the design, their relationships, responsibilities, and collaborations.</li>
        <li><b>Consequences:</b> All implementations have consequences, and this part tells us what results and trade-offs we may expect from applying the pattern. Consequences may be how the pattern affects a system's flexibility, extensibility, or portability.</li>
    </ol>
    <p>
        In their book they also design a classification scheme that aims to enable developers to refer to families of SDPs. One categorization is by purpose, which can be either creational, structural, or behavioral. The second categorization is by scope, which can be classes or objects. SDPs that are related to this thesis have been classified in table <a href="#tab:DesignPatternClassification">2.3</a>.
    </p>


    <div class="table" id="tth_tAb2.3">
        <table>
            <tr>
                <th colspan="2" rowspan="2">&nbsp;</th>
                <th colspan="3" class="center">Purpose</th>
            </tr>
            <tr>
                <th class="left">Creational</th>
                <th class="left">Structural</th>
                <th class="left">Behavioral</th>
            </tr>
            <tr>
                <th class="left" rowspan="7">Scope</th>
                <th class="left">Class</th>
                <td class="left"></td>
                <td class="left">Adapter</td>
                <td class="left">Interpreter</td>
            </tr>
            <tr>
                <th class="left" rowspan="6">Object</th>
                <td class="left">Builder</td>
                <td class="left">Adapter</td>
                <td class="left">Observer</td>
            </tr>
            <tr>
                <td class="left">Prototype</td>
                <td class="left">Bridge</td>
                <td class="left">Strategy</td>
            </tr>
            <tr>
                <td class="left" rowspan="4">&nbsp;</td>
                <td class="left">Composite</td>
                <td class="left" rowspan="4">&nbsp;</td>
            </tr>
            <tr>
                <td class="left">Decorator</td>
            </tr>
            <tr>
                <td class="left">Facade</td>
            </tr>
            <tr>
                <td class="left">Proxy</td>
            </tr>
        </table>
        <div class="caption" id="tab:DesignPatternClassification">
            Table 2.3: Categorization of SDP relevant to this thesis, given in the classification scheme proposed by Erich Gamme, et.al. [<a href="#DesignPatterns:1994:Book" data-name="CITEDesignPatterns:1994:Book">22</a>,p. 10].
        </div>
    </div>
    <p>
        At this point I need to make two points clear. The first is that as JS is a class-less programming language, the categorization class might be a bit off. But remember that we can emulate classes in JS, and this allows us to make use of the class-categorized patterns. The other point is that JS does not support interfaces. Interfaces can be emulated (at the cost of complexity), but is not anything more than a construct that checks whether or not a list of properties is set at run-time. It is on the base of this that I have excluded the use of interfaces in this thesis, falling back to merely describing the abstractions of participants, and how they are represented in the code samples<a href="#tthFtNtADI" name="tthFrefADI"><sup>38</sup></a>.
    </p>
    <p>
        GoF continues to describe a consistent format for describing SDP, which including Pattern Name and and Classification, Intent, Also Known As, Motivation, Applicability, Structure, Participants, Collaborations, Consequences, Implementation, Sample Code, Known Uses, and Related Patterns. Using all of these labels takes a lot of pages, and in this thesis I have limited myself to a description of the pattern along with a figure and an example in JS.
    </p>
    <h4 id="tth_sEc2.3.1"><a class="bookmark" href="#tth_sEc2.3.1">2.3.1 Adapter</a></h4>
    <p id="sec:DesignPatternAdapter">
        The Adapter pattern "convert the interface of a class into another interface clients expect" [<a href="#DesignPatterns:1994:Book" data-name="CITEDesignPatterns:1994:Book">22</a>]. This pattern is useful when one wishes to make use of third party libraries without modifying them. In its classic form, the Adapter pattern are both a class and an object pattern, where the former makes of subclassing, while the latter forms a reference to the components it adapts, thereby routing requests.
    </p>
    <p>
        In listing <a href="#lst:DesignPatternAdapter">2.39</a> I have shown examples of both. Line 4 shows subclassing through Object.create, which enables derivatives of AdapterClass to make use of the methods in the Original object. Line 5 shows the constructor function that returns an object that refers to the Original object, and thereby allows routing of calls.
    </p>
    <p>
        I have not made use of the Adapter pattern in Graphite, a point I return to in section <a href="#sec:DiscussionAdapterPattern">8.2.1.1</a> in the discussion.
    </p>

    <div class="figure" id="tth_fIg2.38">
        <img src="png/Adapter.png" />
        <div class="caption" id="fig:DesignPatternAdapter">
            Figure 2.38: Structure of Adapter
        </div>
    </div>


    <div class="figure" id="tth_fIg2.39">
        <pre>var Original = {
      originalMethod: function (options) { /* ... */ }
    },
    AdapterClass = Object.create(Original).
    AdapterObject = function () {
      return Object.create({
        adapterMethod: function (paramA, paramB) {
          return this.target.originalMethod({ a: paramA, b: paramB });
        }
      }, {
        target: {value: Object.create(Original); }
      });
    };</pre>
        <div class="caption" id="lst:DesignPatternAdapter">
            Figure 2.39: An example of implementation of Adapter in JS
        </div>
    </div>
    <h4 id="tth_sEc2.3.2"><a class="bookmark" href="#tth_sEc2.3.2">2.3.2 Bridge</a></h4>
    <p id="sec:DesignPatternBridge">
        The Bridge pattern "decouple an abstraction from its implementation so that the two can vary independently" [<a href="#DesignPatterns:1994:Book" data-name="CITEDesignPatterns:1994:Book">22</a>]. The pattern is actually often used in JS in terms of event handling, using code such as the one in listing <a href="#lst:DesignPatternBridge">2.41</a>. In that case, the abstraction is that a function is to be called when a specific button is called, the refined abstraction is the actual functions. The implementor on the other hand is a function that takes the id to the button to be handled, and the abstraction that is to be coupled. The concrete implementor is the function <span class="teletype">handleClick</span>, which configures the setup needed.
    </p>
    <p>
        We could have implemented another abstraction, namely making sure that whatever was passed as <span class="teletype">handleClick</span>'s first parameter was an object that supported the <span class="teletype">onclick</span> property. This way, I could have removed the limitation of sending just strings of ids, e.g. passing the object returned from <span class="teletype">document.getElementByClass("buttons")</span>.
    </p>


    <div class="figure" id="tth_fIg2.40">
        <img src="png/Bridge.png" />
        <div class="caption" id="fig:DesignPatternBridge">
            Figure 2.40: Structure of Bridge
        </div>
    </div>


    <div class="figure" id="tth_fIg2.41">
        <pre>var cancelFunction = function () {
        console.log("Cancel was clicked");
    },
    submitFunction = function () {
        console.log("Submit was clicked");
    },
    handleClick = function (buttonId, func) {
        document.getElementById(buttonId).onclick = function () {
            func();
            return false;
        };
    };
handleClick("CancelButton", cancelFunction); // When clicked, will log "Cancel was clicked"
handleClick("SubmitButton", submitFunction); // When clicked, will log "Submit was clicked"</pre>
        <div class="caption" id="lst:DesignPatternBridge">
            Figure 2.41: An example of implementation of Bridge in JS
        </div>
    </div>
    <h4 id="tth_sEc2.3.3"><a class="bookmark" href="#tth_sEc2.3.3">2.3.3 Builder</a></h4>
    <p id="sec:DesignPatternBuilder">
        The Builder pattern "separate the construction of a complex object from its representation so that the same construction process can create different representations" [<a href="#DesignPatterns:1994:Book" data-name="CITEDesignPatterns:1994:Book">22</a>]. A good example of this is the way jQuery allows us to construct DOM elements (listing <a href="#lst:DesignPatternBuilderJQuery">2.42</a>).
    </p>
    <div class="figure" id="tth_fIg2.42">
        <pre>var paragraph = $("&#60;p&#62;"),
    titleWithText = $("&#60;h1&#62;Our title&#60;/h1&#62;"),
    inputWithAttr = $('&#60;input type="password" /&#62;');</pre>
        <div class="caption" id="lst:DesignPatternBuilderJQuery">
            Figure 2.42: Examples of the Builder pattern in jQuery
        </div>
    </div>
    <p>
        These lines should be very easy to read for developers familiar with HTML, and handles a lot of logic that is run behind the scene (e.g. the use <span class="teletype">document.createElement</span>, adding attributes, and text).
    </p>
    <p>
        Now, lets look at listing <a href="#lst:DesignPatternBuilder">2.44</a> for my own version of a DOM-builder (a very limited version, i.e. it only support one level of element). I have removed parts of the code, as they unnecessary to understand how the pattern works. The participants are <span class="teletype">DOMCreator</span> (the Director), <span class="teletype">DOMBuilder</span> (ConcreteBuilder), and <span class="teletype">DOMElement</span> (the Product). The code works in following steps:
    </p>
    <ol type="1">
        <li>We pass to <span class="teletype">DOMCreator</span> the string we want parsed.</li>
        <li><span class="teletype">DOMCreator</span> creates an instance of <span class="teletype">DOMBuilder</span>, and passes along the tag.</li>
        <li><span class="teletype">DOMBuilder</span> creates an instance of <span class="teletype">DOMElement</span>, and sets the tag.</li>
        <li><span class="teletype">DOMCreator</span> parses attributes, if any, and passes them to <span class="teletype">DOMBuilder</span>.</li>
        <li><span class="teletype">DOMBuilder</span> adds attributes to the <span class="teletype">DOMElement</span>.</li>
        <li><span class="teletype">DOMCreator</span> parses text, if any, and passes it to <span class="teletype">DOMBuilder</span>.</li>
        <li><span class="teletype">DOMBuilder</span> adds text.</li>
    </ol>
    <p>
        After these steps, the client can fetch the element by calling <span class="teletype">getElement</span> on <span class="teletype">DOMCreator</span>.
    </p>


    <div class="figure" id="tth_fIg2.43">
        <img src="png/Builder.png" />
        <div class="caption" id="fig:DesignPatternBuilder">
            Figure 2.43: Structure of Builder
        </div>
    </div>


    <div class="figure" id="tth_fIg2.44">
        <pre>var DOMElement = {
    attributes = {},
    tag = null,
    text = ""
  },
  DOMBuilder = function (tag) {
    this.element = Object.create(DOMElement);
    this.element.tag = tag;
    this.addAttribute = function (key, value) {
      this.element.attributes[key] = value;
    }:
    this.addText = function (text) { this.element.text = text; };
  },
  tokens = {}, // a map of tokens to parse
  fetch = function (str, token) {}, // returns specified type of token
  remove = function (str, token) {}, // removes token, returns modified string
  test = function (str, token) {}, // tests for specific token, return boolean
  DOMCreator = function (str) {
    var key, tag, text, value;
    // fetches the tag
    this.builder = new DOMBuilder(tag);
    while (test(str, tokens.whitespace)) {
      // fetches key-value pair of attributes, if any
      this.builder.addAttribute(key, value);
    }
    if (!test(str, tokens.slash)) {
      // fetches text, if any
      this.builder.addText(text);
    }
    // We have what we need
  };
DOMCreator.prototype.getElement = function () {
  return this.builder.element;
}
var element = new DOMCreator("&#60;p&#62;42&#60;/p&#62;");
console.log(element.getElement()); // logs { attributes: {}, tag: "p", text: "42" }</pre>
        <div class="caption" id="lst:DesignPatternBuilder">
            Figure 2.44: An example of implementation of Builder in JS
        </div>
    </div>
    <h4 id="tth_sEc2.3.4"><a class="bookmark" href="#tth_sEc2.3.4">2.3.4 Composite</a></h4>
    <p id="sec:DesignPatternComposite">
        The Composite pattern "compose objects into tree structures to represent part-whole hierarchies."[<a href="#DesignPatterns:1994:Book" data-name="CITEDesignPatterns:1994:Book">22</a>]. This is a method of abstracting the types of a complex structure, and streamlining certain procedures. In listing <a href="#lst:DesignPatternComposite">2.46</a> I have continued with the DOM, and created a structure that represents DOM elements that can be used to generate HTML.
    </p>
    <p>
        In this example we have two Composites (<span class="teletype">DOMComposite</span>, <span class="teletype">DOMElement</span>) and one Leaf (<span class="teletype">DOMText</span>). The client gets the HTML by calling the method <span class="teletype">getHtml</span> on any of the elements desired, and they will take care of producing the result from all nested, if any, elements.
    </p>


    <div class="figure" id="tth_fIg2.45">
        <img src="png/Composite.png" />
        <div class="caption" id="fig:DesignPatternComposite">
            Figure 2.45: Structure of Composite
        </div>
    </div>


    <div class="figure" id="tth_fIg2.46">
        <pre>var DOMComposite = function (children) {
    this.children = children;
  },
  DOMElement = function (tag, content) {
    this.tag = tag;
    this.content = content;
  },
  DOMText = function (text) {
    this.text = text;
  };
DOMComposite.prototype = {
  addChild: function (element) {
    this.children.push(element);
  },
  getHtml: function () {
    var child, html = "";
    for (child in this.children) {
      html += child.getHTML();
    }
    return html;
  }
}
DOMElement.prototype.getHtml = function () {
  var text = "&#60;" + this.tag;
  if (this.content) {
    return text + "&#62;" + this.content.getHtml() + "&#60;/" + this.tag + "&#62;";
        }
        return text + " />";
        };
        DOMText.prototype.getHtml = function () {
        return this.text;
        }
        var text1 = new DOMText("42"),
        text2 = new DOMText("1337"),
        composite1 = new DOMComposite([ text1 ]),
        element1 = new DOMElement("span", text2),
        composite2 = new DOMComposite([ composite1, element1 ]);
        console.log(composite2.getHtml()); // logs "42&#60;span&#62;1337&#60;/span&#62;"</pre>
        <div class="caption" id="lst:DesignPatternComposite">
            Figure 2.46: An example of implementation of Composite in JS
        </div>
    </div>
    <h4 id="tth_sEc2.3.5"><a class="bookmark" href="#tth_sEc2.3.5">2.3.5 Decorator</a></h4>
    <p id="sec:DesignPatternDecorator">
        The Decorator pattern "attach additional responsibilities to an object dynamically" [<a href="#DesignPatterns:1994:Book" data-name="CITEDesignPatterns:1994:Book">22</a>]. As JS is dynamic in its nature, this is not a very difficult pattern to implement. In listing <a href="#lst:DesignPatternDecorator">2.48</a>, I have simplified the example used by Addy Osmani in his book Learning JavaScript Design Patterns<a href="#tthFtNtADJ" name="tthFrefADJ"><sup>39</sup></a>.
    </p>
    <p>
        To use the participants in figure <a href="#fig:DesignPatternDecorator">2.47</a>, we have <span class="teletype">PC</span> as ConcreteComponent, and <span class="teletype">addMemory</span>, <span class="teletype">addScreen</span>, and <span class="teletype">addKeyboard</span> as the ConcreteDecorators.
    </p>


    <div class="figure" id="tth_fIg2.47">
        <img src="png/Decorator.png" />
        <div class="caption" id="fig:DesignPatternDecorator">
            Figure 2.47: Structure of Decorator
        </div>
    </div>


    <div class="figure" id="tth_fIg2.48">
        <pre>var PC = { cost: function () { return 1000; } },
    addMemory = function (PC) {
      return PC.cost: function () { PC.cost() + 300; };
    },
    addScreen = function (PC) {
      return PC.cost: function () { PC.cost() + 30; };
    },
    addKeyboard = function (PC) {
      return PC.cost: function () { PC.cost() + 7; };
    },
    myPC = Object.create(PC);
addMemory(myPC);
addScreen(myPC);
addKeyboard(myPC);
console.log(myPC.cost()); // logs 1337</pre>
        <div class="caption" id="lst:DesignPatternDecorator">
            Figure 2.48: An example of implementation of Decorator in JS
        </div>
    </div>
    <h4 id="tth_sEc2.3.6"><a class="bookmark" href="#tth_sEc2.3.6">2.3.6 Facade</a></h4>
    <p id="sec:DesignPatternFacade">
        The Facade pattern "provide a unified interface to a set of interfaces in a subsystem" [<a href="#DesignPatterns:1994:Book" data-name="CITEDesignPatterns:1994:Book">22</a>]. Again, jQuery shows us an example of design pattern, as the constructor of the jQuery-object applies the Facade pattern. It is usually used to simplify the API the user have to concern himself/herself with, by delivering a subset of methods from underlying modules.
    </p>
    <p>
        In listing <a href="#lst:DesignPatternFacade">2.50</a>, I have designed an object that takes the libraries jQuery and when.js, and delivers a new interface that taps into some of their functionality. The facade in the example have one method, namely <span class="teletype">load</span>, and promises to load the callback functions in the order they are used (i.e. <a href="http://example.org/1337"><span class="teletype">http://example.org/1337</span></a> will not be loaded before <a href="http://example.org/42"><span class="teletype">http://example.org/42</span></a> has completed).
    </p>


    <div class="figure" id="tth_fIg2.49">
        <img src="png/Facade.png" />
        <div class="caption" id="fig:DesignPatternFacade">
            Figure 2.49: Structure of Facade
        </div>
    </div>


    <div class="figure" id="tth_fIg2.50">
        <pre>// assumes $ and When are global variables
var facade = (function (jQuery, When) {
  var promise = null;
  function load (uri, callback) {
    promise = When.defer();
    jQuery.get(uri, {}, function () {
      promise.resolve(arguments);
      callback.apply(this, arguments);
    });
  }
  return {
    load: function (uri, callback) {
      if (promise) {
        promise.then(function () {
          load(uri, callback);
        });
      } else {
        load(uri, callback);
      }
    }
  };
}($, When));
facade.load("http://example.org/42", function () {
  console.log(42);
});
facade.load("http://example.org/1337", function () {
  console.log(1337);
});
// Console will always log 42 first, 1337 second</pre>
        <div class="caption" id="lst:DesignPatternFacade">
            Figure 2.50: An example of implementation of Facade in JS
        </div>
    </div>
    <h4 id="tth_sEc2.3.7"><a class="bookmark" href="#tth_sEc2.3.7">2.3.7 Interpreter</a></h4>
    <p id="sec:DesignPatternInterpreter">
        The Interpreter pattern takes a given language and "define a representation for its grammar along with an interpreter that uses the representation to interpret sentences in the language" [<a href="#DesignPatterns:1994:Book" data-name="CITEDesignPatterns:1994:Book">22</a>].
    </p>
    <p>
        In my simple example I want to be able to parse simple equations, using the following rules:
    </p>
    <ul>
        <li>Legal tokens are plus, minus and numbers, and these tokens are represented as expressions.</li>
        <li>It reads the equation from left to right.</li>
        <li>No whitespace allowed.</li>
        <li>The plus and minus expression take the its left expression as parameter, and expects a number to come after it (e.g. "1+44-3" and "-2+3" are both allowed, but "2++3" is not).</li>
    </ul>
    <p>
        The result is an object with a tree-structure consisting of my grammar. E.g. the equation "1+2-3" would look like figure <a href="#fig:DesignPatternInterpreterExample">2.51</a>.
    </p>


    <div class="figure" id="tth_fIg2.51">
        <img src="png/InterpreterTree.png" />
        <div class="caption" id="fig:DesignPatternInterpreterExample">
            Figure 2.51: A tree-structure representing the equation "1+2-3".
        </div>
    </div>


    <div class="figure" id="tth_fIg2.52">
        <img src="png/Interpreter.png" />
        <div class="caption" id="fig:DesignPatternInterpreter">
            Figure 2.52: Structure of Interpreter
        </div>
    </div>


    <div class="figure" id="tth_fIg2.53">
        <pre>function parseEquation = function (equation) {
  var grammar = {
      minus: function (left, right) { return { token: 'minus', left: left, right: right }; },
      number : function (number) { return {token: 'number', number: number }; }
      minus: function (left, right) { return { token: 'plus', left: left, right: right }; },
    },
    tokens = {
      minus = {
        expression: /^-/,
        evaluate: function (base) {
          var right = tokens.number(base);
          base.eq = base.eq.substring(1);
          return grammar.minus(base.left, right);
        }
      },
      number = {
        expression: /[0-9]+/,
        evaluate: function (base) {
          var value = this.expression.exec(base.eq)[0];
          base.eq = base.eq.substring(value.length);
          return grammar.number(value);
        }
      },
      plus = {
        expression: /^+/,
        evaluate: function (base) {
          var right = tokens.number(base);
          base.eq = base.eq.substring(1);
          return grammar.plus(base.left, right);
        }
      }
    };
  this.left = grammar.number(0);
  this.eq = equation;
  while (this.eq !== "") {
    if (tokens.minus.expression.test(this.eq)) this.left = tokens.minus.evaluate(this);
    else if (tokens.number.expression(this.eq)) this.left = tokens.number.evaluate(this);
    else if (tokens.plus.expression.test(this.eq)) this.left = tokens.plus.evalue(this);
    else throw new Error("No valid expression");
  }
  return this.left;
}</pre>
        <div class="caption" id="lst:DesignPatternInterpreter">
            Figure 2.53: An example of implementation of Interpreter in JS
        </div>
    </div>
    <h4 id="tth_sEc2.3.8"><a class="bookmark" href="#tth_sEc2.3.8">2.3.8 Observer</a></h4>
    <p id="sec:DesignPatternObserver">
        The Observer pattern "define a one-to-many dependency between objects so that when one object changes state, all its dependents are notified and updated automatically" [<a href="#DesignPatterns:1994:Book" data-name="CITEDesignPatterns:1994:Book">22</a>]. This is useful when objects are dependent to know when a dependency changes state, as they will be notified when change happen.
    </p>
    <p>
        I have included a simple example in listing <a href="#lst:DesignPatternObserver">2.55</a>. This can be evolved into context-aware notifies, so that observers only are notified when certain things happen. Note that I have made use of closure (section <a href="#sec:JavascriptClosure">2.2.2.1</a>) in this example, as the object called upon in line 22 actually is the object first passed in the <span class="teletype">obsObject</span> construct-function (line 19).
    </p>


    <div class="figure" id="tth_fIg2.54">
        <img src="png/Observer.png" />
        <div class="caption" id="fig:DesignPatternObserver">
            Figure 2.54: Structure of Observer
        </div>
    </div>


    <div class="figure" id="tth_fIg2.55">
        <pre>var obsSubject = function () {
    this.observers = [];
    this.value;
    this.addObserver = function (observer) {
      this.observers.push(observer);
    };
    this.notify = function () {
      var observer;
      for (observer in this.observers) {
        observer.update();
      }
    };
    this.getValue = function () { return this.value; };
    this.setValue = function (val) {
      this.value = val;
      this.notify();
    };
  },
  obsObject = function (subject) {
    subject.addObserver(this);
    this.update = function () {
      console.log("New value: " + subject.getValue());
    }
  },
  mySubject = new obsSubject(),
  myObj1 = new obsObject(mySubject),
  myObj2 = new obsObject(mySubject);
mySubject.setValue(42); // logs "New value: 42" two times</pre>
        <div class="caption" id="lst:DesignPatternObserver">
            Figure 2.55: An example of implementation of Observer in JS
        </div>
    </div>
    <h4 id="tth_sEc2.3.9"><a class="bookmark" href="#tth_sEc2.3.9">2.3.9 Prototype</a></h4>
    <p id="sec:DesignPatternPrototype">
        The Prototype pattern "specify the kinds of objects to create using a prototypical instane, and create new objects by copying this prototype" [<a href="#DesignPatterns:1994:Book" data-name="CITEDesignPatterns:1994:Book">22</a>]. The variation from how JS handles prototypical inheritance (section <a href="#sec:JavascriptPrototypicalInheritance">2.2.1.1</a>) is slight, as JS handles prototyping by copying the reference to the prototype object, while the pattern copies the whole thing.
    </p>
    <p>
        The example given in listing <a href="#lst:DesignPatternPrototype">2.58</a> shows this in action. Line 18 shows what happens if you compare the prototype object of two objects that have been created using <span class="teletype">Object.create</span> in JS, compared to what happens if you compare the cloned objects. The references are different.
    </p>
    <p>
        The pattern is not specified in the description of the modules in Graphite, but is included here to show how it differs from prototypical inheritance. It has been used throughout the framework, although as the function named <span class="teletype">extend</span> (that resides in the Utils module). Most often it is used in pair with the parameter option given to functions that offer slight variations from its default behavior. An example is given in listing <a href="#lst:JavascriptExtendOptions">2.56</a>.
    </p>


    <div class="figure" id="tth_fIg2.56">
        <pre>// assumes a global function extend that functions like the Prototype pattern
var myConfigurableFunction = function (options) {
  var defaultConfig = extend({
    configurationA: true,
    configurationB: 42
  }, options);
  /* Rest of the functions body */
};
myConfigurableFunction({ configurationB: 1337 }); // overwriting the default value 42</pre>
        <div class="caption" id="lst:JavascriptExtendOptions">
            Figure 2.56: Altering a functions behavior by extending its configuration with the parameter named option
        </div>
    </div>


    <div class="figure" id="tth_fIg2.57">
        <img src="png/Prototype.png" />
        <div class="caption" id="fig:DesignPatternPrototype">
            Figure 2.57: Structure of Prototype
        </div>
    </div>


    <div class="figure" id="tth_fIg2.58">
        <pre>var Prototype = {
  methodA: function () { /* ... */ },
  objectA: { /* ... */ },
  propA: {/* ... */ }
};
function clone (obj) {
  var o = {}, key;
  for (key in obj) {
    if (typeof obj === "Object") o.__proto__[key] = clone(obj[key]);
    else o.__proto__[key]= obj[key];
  }
  return o;
}
var a = Object.create(Prototype),
    b = Object.create(Prototype),
    c = clone(Prototype),
    d = clone(Prototype);
console.log(a.__proto__ === b.__proto__); // logs true
console.log(c.__proto__ === d.__proto__); // logs false</pre>
        <div class="caption" id="lst:DesignPatternPrototype">
            Figure 2.58: An example of implementation of Prototype in JS
        </div>
    </div>
    <h4 id="tth_sEc2.3.10"><a class="bookmark" href="#tth_sEc2.3.10">2.3.10 Proxy</a></h4>
    <p id="sec:DesignPatternProxy">
        The Proxy pattern "provide a surrogate or placeholder for another object to control access to it" [<a href="#DesignPatterns:1994:Book" data-name="CITEDesignPatterns:1994:Book">22</a>]. There are several kinds of proxies, like the virtual proxy (works like a lazy instantiator, i.e. only creating the proxied object when you need it), remote proxies (proxies an object on a remote destination), and controlling proxies (to handle access), and they may be combined.
    </p>
    <p>
        In listing <a href="#lst:DesignPatternProxy">2.60</a> I have constructed a remote proxy. The object it proxies has one single purpose, which is to fetch the resource located at a given IRI. This may be one way of circumventing SOP (section <a href="#sec:JavascriptSameOriginPolicy">2.2.5.1</a>).
    </p>


    <div class="figure" id="tth_fIg2.59">
        <img src="png/Proxy.png" />
        <div class="caption" id="fig:DesignPatternProxy">
            Figure 2.59: Structure of Proxy
        </div>
    </div>


    <div class="figure" id="tth_fIg2.60">
        <pre>// assumes function ajax, that acts like $.ajax
var proxy = function (iri, callback) {
  ajax(/localproxy/, {
    data: {
      iri: iri
    },
    method: get,
    success: callback
  });
};

proxy("http://another.domain.com/42", function (data) {
  console.log(data); // logs whatever was fetched from http://another.domain.com/42
});</pre>
        <div class="caption" id="lst:DesignPatternProxy">
            Figure 2.60: An example of implementation of Proxy in JS
        </div>
    </div>
    <h4 id="tth_sEc2.3.11"><a class="bookmark" href="#tth_sEc2.3.11">2.3.11 Strategy</a></h4>
    <p id="sec:DesignPatternStrategy">
        The Strategy pattern "define a family of algorithms, encapsulate each one, and make them interchangeable" [<a href="#DesignPatterns:1994:Book" data-name="CITEDesignPatterns:1994:Book">22</a>]. It relies on a shared interface of properties among objects, and an example is shown in listing <a href="#lst:DesignPatternStrategy">2.62</a><a href="#tthFtNtAEA" name="tthFrefAEA"><sup>40</sup></a>.
    </p>
    <p>
        This pattern streamlines the functionality by eliminating conditional statements.
    </p>


    <div class="figure" id="tth_fIg2.61">
        <img src="png/Strategy.png" />
        <div class="caption" id="fig:DesignPatternStrategy">
            Figure 2.61: Structure of Strategy
        </div>
    </div>


    <div class="figure" id="tth_fIg2.62">
        <pre>var buttons = [{
      id: "Button42",
      onclick: function () {
        console.log(42);
        return false;
      }
    }, {
      id: "Button1337",
      onclick: function () {
        console.log(1337);
        return false;
      }
    }],
    button;
for (button in buttons) {
  document.getElementById(button.id).onclick(button.onclick);
}</pre>
        <div class="caption" id="lst:DesignPatternStrategy">
            Figure 2.62: An example of implementation of Strategy in JS
        </div>
    </div>
    <h3 id="tth_sEc2.4"><a class="bookmark" href="#tth_sEc2.4">2.4 TDD</a></h3>
    <p id="sec:BackgroundTDD">
        TDD is a development process of software that details how to build your code base. It relies on an iterative cycle of steps that are summarized in figure <a href="#fig:TDD">2.63</a>. The process start with writing a test that asserts the functionality we wish to implement. It should raise a red flag when first tested (meaning that the functionality is not implemented yet), which in turn leads us to implement the requested feature. When we manage to get a green flag (meaning that the functionality now exists), we can continue to either write a new test for a new functionality, or we can refactor the existing code by making sure it does not raise any red flags (break any tests).
    </p>


    <div class="figure" id="tth_fIg2.63">
        <img src="png/tdd_flow.png" />
        <div class="caption" id="fig:TDD">
            Figure 2.63: An illustration of the TDD-process.
        </div>
    </div>

    <h2 id="tth_chAp3"><a class="bookmark" href="#tth_chAp3">Chapter 3<br />Problem Description and Requirements</a></h2>
    <p id="chap:ProblemDescriptionsAndRequirements">
        The notion of RDF as a standard for exchanging structured data on WWW is becoming increasingly popular. The technologies of SW are actively developed, and new features, as well as stabilizing old ones, are in the works.
    </p>
    <p>
        JS has also gotten a lot of attention as an increasingly powerful programming language for WWW. First and foremost as a client-side scripting language, but now also as server-side implementations. Large companies like Google, Microsoft, Mozilla, Apple, and Opera are all putting a lot of effort into increasing the effectiveness of their JS-engines, through implementations and cooperating in evolving the standards.
    </p>
    <p>
        In this environment, you would think that many developers would try to access SW with a library written in and for JS. While there are projects trying to create frameworks for accessing, query, and manipulating SW, none of them are the defining prototype of a JS-framework for SW as of yet.
    </p>
    <h3 id="tth_sEc3.1"><a class="bookmark" href="#tth_sEc3.1">3.1 Problem</a></h3>
    <p id="sec:ProblemDescriptionAndRequirementsProblem">
        This thesis seeks to define what is needed in order to have a powerful framework in JS that can access SW. This goal is divided into four subgoals:
    </p>
    <ol type="1">
        <li>The first subgoal is to identify the features that a framework accessing SW needs to support. Which technologies needs to be involved, what obstacles do they introduce, and what are the consequences of implementing them?</li>
        <li>Next, I need to identify the participants and how they should collaborate. I will try using the knowledge of SDP to describe the components in known and widely utilized language. While doing this, I need to explore how JS conform to the patterns of the various SDPs.</li>
        <li>My third subgoal is to implement a functional framework in JS. In doing this, I need to identify what features JS offers that are relevant for my framework.</li>
        <li>My final goal is to develop APIs that exposes the functionality of the framework in a way that is easy for developers to get into.</li>
    </ol>
    <h3 id="tth_sEc3.2"><a class="bookmark" href="#tth_sEc3.2">3.2 What are the components required for the framework?</a></h3>
    <p id="sec:ProblemDescriptionAndRequirementsComponentsRequired">
        I have identified a lot of the technologies regarding SW in section <a href="#sec:BackgroundSemanticWeb">2.1</a>. RDF and its serializations need to be a part of the framework. As documents containing RDFS, OWL, and other vocabularies, are subsets of RDF, a representation of RDF should be enough in terms of representing the model.
    </p>
    <p>
        After I have implemented a model of RDF, I need to implement some way of letting developers browse, or query, the data. SPARQL is a powerful language that handles this purpose, but does it raise the bar for using the framework unnecessarily high? Will developers new to SW want to tackle SPARQL in addition to all the other technologies they need to learn?
    </p>
    <p>
        Another important feature of the framework will be the APIs. How should I expose the functionality to developers? Should it be available as one monolithic object, or is there a need to divert it into several smaller objects? This problem is further investigated in section <a href="#sec:ProblemDescriptionAndRequirementsAPI">3.5</a>.
    </p>
    <h3 id="tth_sEc3.3"><a class="bookmark" href="#tth_sEc3.3">3.3 Which SDPs are applicable for the components?</a></h3>
    <p id="sec:ProblemDescriptionsAndRequirementsDesignPatterns">
        I have decided to use SDP to help me decide how I should model the components. This will hopefully help me in identifying participants, collaborations between the participants, and the consequences of implementing them.
    </p>
    <p>
        Section <a href="#sec:BackgroundDesignPatterns">2.3</a> explained in detail the SDPs I think are appropriate for the framework. But these patterns were originally developed for class-oriented programming languages (e.g. C++, which was used to write the sample code used in Design Patterns). Is it appropriate to apply these patterns to a class-less programming language like JS? And if not fully compatible, are there ways to "tweak" the premises, so that we may use the amassed knowledge of patterns to our advantage?
    </p>
    <h3 id="tth_sEc3.4"><a class="bookmark" href="#tth_sEc3.4">3.4 Which features in JS are of use for the framework?</a></h3>
    <p id="sec:ProblemDescriptionsAndRequirementsJSFeatures">
        What are the challenges the framework will have to deal with when implementing the required components? And how does JS align with these problems? I have described JS in section <a href="#sec:BackgroundJavaScript">2.2</a> and featured some of the functionality that are relevant for my framework.
    </p>
    <p>
        Serializations will most likely need to be loaded asynchronously. This is handled by the asynchronous loading capacities described in section <a href="#sec:JavascriptAsynchronous">2.2.5</a>. I also need certain functions to be called in correct order in response to the asynchronous functionality. By making use of the functional features of JS (section <a href="#sec:JavascriptFunctionalFeature">2.2.1.3</a>), in combination with the promise pattern (section <a href="#sec:JavascriptPromisePattern">2.2.6.1</a>), I believe this to be achievable.
    </p>
    <h3 id="tth_sEc3.5"><a class="bookmark" href="#tth_sEc3.5">3.5 How should the API be designed?</a></h3>
    <p id="sec:ProblemDescriptionAndRequirementsAPI">
        Although SDPs gives a lot of hints as how to design the components, most of the signature of the objects are still up to grab. What are the possibilities we have within the restrains of SW and JS. What is the most effective API to expose to JS-developers that wish to harness the structural data in SW?
    </p>
    <p>
        How big should it be? How much of the API should be public, i.e. how granular should the functions be? Should it be modularized, or just offer one monolithic API?
    </p>
    <p>
        These are questions I hope to offer an answer to in my implementation of an actual, working framework.
    </p>
    <h2>Part 2<br />Implementation</h2>

    <h2 id="tth_chAp4"><a class="bookmark" href="#tth_chAp4">Chapter 4<br />Tools</a></h2>
    <p id="chap:Tools">
        This chapter will describe the software and services I have used in this thesis.
    </p>
    <h3 id="tth_sEc4.1"><a class="bookmark" href="#tth_sEc4.1">4.1 Buster</a></h3>
    <p id="sec:ToolsBuster">
        Buster is a "JavaScript test framework for node and browsers"[<a href="#Buster:2012:Misc" data-name="CITEBuster:2012:Misc">36</a>]. It has been in beta for a couple of years, and shows promising results. The lead developers hope to have it ready by the end of this summer.
    </p>
    <p>
        Some important features of Buster are:
    </p>
    <ul>
        <li><b>Supports tests for Node and browsers:</b> You can use the same test cases for both environments, but also create dependencies by the use of feature detection.</li>
        <li><b>Test utilities:</b> Assertions, refutations, stubs and spies, expectations, events, properties, and supporting utilities and objects; There are a lot of possible ways to test your code.</li>
        <li><b>Flexibility:</b> There is a lot of public APIs, which can be used to write specific code as needed.</li>
        <li><b>Extensibility:</b> There are already several extensions available, such as buster-amd and buster-lint.</li>
        <li><b>Asynchronous testing:</b> Buster can test resources that only are available in asynchronous functions.</li>
        <li><b>Structuring:</b> Nested test cases, setup, and teardown helps you structure and reuse code easier.</li>
        <li><b>Deferred tests:</b> Easy seclusion of tests that clutters your reports, e.g. while refactoring.</li>
        <li><b>Measuring time:</b> It reports in milliseconds the duration of each test run.</li>
    </ul>
    <p>
        Graphite has used Buster extensible throughout its development, and now sports 29 test cases, with 430 tests, with a total of 1 413 assertions. It is all being run in about 8 seconds.
    </p>
    <p>
        Buster is available at <abbr title="GitHub">GH</abbr><a href="#tthFtNtAEB" name="tthFrefAEB"><sup>41</sup></a>, and is being led by August Lilleaas and Christian Johansen.
    </p>
    <h4 id="tth_sEc4.1.1"><a class="bookmark" href="#tth_sEc4.1.1">4.1.1 Browsers</a></h4>
    <p id="sec:ToolsBrowsers">
        Throughout the testing with Buster I have used Chrome for Linux. The last run with Firefox shows that 4 tests fail in Firefox. I have not tried testing on browsers on other platforms recently, because:
    </p>
    <ol type="1">
        <li>Buster is not available for Windows yet (and I have not been able to access a Mac for setting up my tests), and</li>
        <li>Many of the tests require resources to be loaded with XHR, which makes using Busters test-server to run tests on other computers somewhat hazy.</li>
    </ol>
    <h4 id="tth_sEc4.1.2"><a class="bookmark" href="#tth_sEc4.1.2">4.1.2 Node</a></h4>
    <p id="sec:ToolsNode">
        Buster is dependent on Node, and as such has used it throughout the development. Node is "a platform built on Chrome's JavaScript runtime for easily building fast, scalable network applications"[<a href="#Node:2012:Misc" data-name="CITENode:2012:Misc">38</a>].
    </p>
    <p>
        Node supports a great list of features, amongst them:
    </p>
    <ul>
        <li><b>Modules:</b> A simple module loading system.</li>
        <li><b>Networking utilities:</b> Setting up servers (e.g. with HTTP, <abbr title="Hypertext Transfer Protocol Secure">HTTPS</abbr> and net), creating sockets (e.g. with net and <abbr title="User Datagram Protocol">UDP</abbr>), lookup <abbr title="Domain Name System">DNS</abbr>, handling URLs and queries.</li>
        <li><b>File System utilities:</b> File I/O are simplified with modules such as File System, path, and os.</li>
        <li><b>Binary Data utilities:</b> APIs for handling streams and buffers, easing the handling of transmitting binary data on WWW.</li>
        <li>Much, much more.</li>
    </ul>
    <p>
        Node is available at <a href="http://nodejs.org"><span class="teletype">http://nodejs.org</span></a> and latest versions at GH<a href="#tthFtNtAEC" name="tthFrefAEC"><sup>42</sup></a>. Originally created by Ryan Dahl in 2009, it is now sponsored by Joyent, his employer, and enjoys contributions of many, many developers.
    </p>
    <h3 id="tth_sEc4.2"><a class="bookmark" href="#tth_sEc4.2">4.2 RequireJS</a></h3>
    <p id="sec:ToolsRequire">
        RequireJS is "a JavaScript file and module loader" [<a href="#RequireJS:2012:Misc" data-name="CITERequireJS:2012:Misc">39</a>]. It allows modularization of JS by deploying functionality throughout several files, or modules. It ties it all together by supporting technologies such as AMD (explained in section <a href="#sec:JavascriptAMD">2.2.8.3</a>).
    </p>
    <p>
        Below are some of the features of RequireJS:
    </p>
    <ul>
        <li>Loading of modules through AMD for browsers, Rhino (an implementation of JS written in Java<a href="#tthFtNtAED" name="tthFrefAED"><sup>43</sup></a>), and Node.</li>
        <li>Code optimizing.</li>
        <li>Threading by utilizing Web Workers.</li>
    </ul>
    <p>
        Graphite has used RequireJS to include the vast list of modules as they are needed.
    </p>
    <h3 id="tth_sEc4.3"><a class="bookmark" href="#tth_sEc4.3">4.3 Git</a></h3>
    <p id="sec:ToolsGit">
        Git is a free and open source <abbr title="Distributed Version Control System">DVCS</abbr>, originally created by Linus Torvalds as a response to existing <abbr title="Version Control System">VCS</abbr>s and <abbr title="Source Control Management">SCM</abbr>s. It is fast, reliant, and relatively easy to use. It offers a variety of features, such as (quoted from the documentation [<a href="#Git:2012:Misc" data-name="CITEGit:2012:Misc">37</a>]):
    </p>
    <ul>
        <li>Setup, configuring, getting and creating projects.</li>
        <li>Branching and merging, sharing and updating.</li>
        <li>Inspect and compare code.</li>
        <li>Much, much more<a href="#tthFtNtAEE" name="tthFrefAEE"><sup>44</sup></a>.</li>
    </ul>
    <p>
        Graphite has used Git to share its code base, making it available for all to use and contribute to.
    </p>
    <h4 id="tth_sEc4.3.1"><a class="bookmark" href="#tth_sEc4.3.1">4.3.1 GH</a></h4>
    <p id="sec:ToolsGitHub">
        GH is a service that lets you share and collaborate with developers<a href="#tthFtNtAEF" name="tthFrefAEF"><sup>45</sup></a>, be they friends or strangers. It is a social network that uses Git as its technological foundation, making it easier to connect with other developers. It supports features such as:
    </p>
    <ul>
        <li>User and organization-accounts.</li>
        <li>Free git-repositories (as long as they are open source).</li>
        <li>Secure transmissions.</li>
        <li>Utilities for presentation of text and code, such as pages, wikis, gists (usually to present snippets of code), issues management, and graphs (visual presentations of data, such as contributors, commit activity, etc).</li>
    </ul>
    <p>
        Graphite has used GH as a central repository for its code base, which is available at <a href="https://github.com/megoth/graphitejs"><span class="teletype">https://github.com/megoth/graphitejs</span></a>.
    </p>
    <h3 id="tth_sEc4.4"><a class="bookmark" href="#tth_sEc4.4">4.4 <abbr title="WebStorm">WS</abbr></a></h3>
    <p id="sec:ToolsWebStorm">
        WS is a JS <abbr title="Integrated Development Environment">IDE</abbr> that is available for Windows, Mac OS, and Linux. It offers a wide array of tools for developing with JS, such as:
    </p>
    <ul>
        <li>Refactoring.</li>
        <li>Structuring code consistently.</li>
        <li>Integration with GH, Node, and JsTestDriver (test framework for JS, developed by Google).</li>
        <li>Smart duplicated code detector.</li>
        <li>Much, much more<a href="#tthFtNtAEG" name="tthFrefAEG"><sup>46</sup></a>.</li>
    </ul>
    <p>
        The development of Graphite has been done primarily in WS.
    </p>
    <p>
        WS is being developed by JetBrains, is primarily licensed, but offers free licenses for educational and open source purposes. It is available at <a href="http://www.jetbrains.com/webstorm/"><span class="teletype">http://www.jetbrains.com/webstorm/</span></a>.
    </p>

    <h2 id="tth_chAp5"><a class="bookmark" href="#tth_chAp5">Chapter 5<br />Used Libraries</a></h2>
    <p id="chap:UsedLibraries">
        <abbr title="Don't Repeat Yourself">DRY</abbr> is a well-known <abbr title="Three-Letter Acronym">TLA</abbr> amongst developers. Another similiar but not so known TLA is <abbr title="Don't Repeat Others">DRO</abbr>. In designing Graphite I have tried sticking to these principles (amongst others), which have resulted in making use of some third party libraries.
    </p>
    <p>
        AMD introduced some restrictions to how I could modularize the components I wanted to reuse, and as such there has been some rewriting across the board. The level of rewriting have varied, but unless otherwise noted in the descriptions of the modules in chapter <a href="#chap:Framework">6</a>, it limits itself to the necessary steps to make it compatible with the AMD pattern.
    </p>
    <h3 id="tth_sEc5.1"><a class="bookmark" href="#tth_sEc5.1">5.1 Branches</a></h3>
    <p id="sec:UsedLibrariesBranches">
        In order to make it clearer where the code in Graphite origins, I have divided all modules into branches. The modules within the Graphite branch represent original code or components which are modified in a degree that makes them differ significantly from their original counterpart. The four other branches are rdfQuery, rdfstore-js, Underscore.JS and when.js, and table  <a href="#tab:UsedLibrariesBrances">5.1</a> shows the distribution. The code in the modules listed under these four branches are similar to their original counterpart, and is therefore not considered to be part of my original contributions to Graphite. The branches are explained in the remaining sections of this chapter.
    </p>


    <div class="table" id="tth_tAb5.1">
        <table>
            <tr>
                <th class="left">Graphite</th>
                <th class="left">rdfQuery</th>
                <th class="left">rdfstore-js</th>
            </tr>
            <tr>
                <td class="left">API</td>
                <td class="left">CURIE</td>
                <td class="left">Abstract Query Tree</td>
            </tr>
            <tr>
                <td class="left">Graph</td>
                <td class="left">Datatype</td>
                <td class="left">B-Tree</td>
            </tr>
            <tr>
                <td class="left">Graphite</td>
                <td class="left">RDF/XML</td>
                <td class="left">Backend</td>
            </tr>
            <tr>
                <td class="left">JSON-LD</td>
                <td class="left">Turtle</td>
                <td class="left">Callbacks</td>
            </tr>
            <tr>
                <td class="left">Loader</td>
                <td class="left">URI</td>
                <td class="left">Engine</td>
            </tr>
            <tr>
                <td class="left">Proxy</td>
                <td class="left"></td>
                <td class="left">Lexicon</td>
            </tr>
            <tr>
                <td class="left">Query</td>
                <th class="left">Underscore.JS</th>
                <td class="left">Query Filters</td>
            </tr>
            <tr>
                <td class="left">Query Parser</td>
                <td class="left">Utils</td>
                <td class="left">Query Plan</td>
            </tr>
            <tr>
                <td class="left">RDF</td>
                <td class="left"></td>
                <td class="left">RDF JS Interface</td>
            </tr>
            <tr>
                <td class="left">RDF JSON</td>
                <th class="left">when.js</th>
                <td class="left">SPARQL Full</td>
            </tr>
            <tr>
                <td class="left">RDF Loader</td>
                <td class="left">Promise</td>
                <td class="left">Tree Utils</td>
            </tr>
            <tr>
                <td class="left">RDF Parser</td>
                <td class="left"></td>
                <td class="left"></td>
            </tr>
            <tr>
                <td class="left">SPARQL</td>
                <td class="left"></td>
                <td class="left"></td>
            </tr>
            <tr>
                <td class="left">XHR</td>
                <td class="left"></td>
                <td class="left"></td>
            </tr>
        </table>
        <div class="caption" id="tab:UsedLibrariesBrances">
            Table 5.1: Overview of branches and their modules.
        </div>
    </div>
    <h3 id="tth_sEc5.2"><a class="bookmark" href="#tth_sEc5.2">5.2 rdfQuery</a></h3>
    <p id="sec:UsedLibraryrdfQuery">
        rdfQuery describes itself as "an easy-to-use JavaScript library for RDF-related processing"[<a href="#RdfQueryGoogleCode:2011:Misc" data-name="CITERdfQueryGoogleCode:2011:Misc">42</a>]. It depends on jQuery, and is distributed in three versions:
    </p>
    <ol type="1">
        <li><b>Core rdfQuery:</b> Creates and queries triplestores.</li>
        <li><b>rdfQuery with RDFa:</b> Parses RDFa.</li>
        <li><b>rdfQuery with rules:</b> Enables reasoning with rules.</li>
    </ol>
    <p>
        rdfQuery has several contributors to its official project-page<a href="#tthFtNtAEH" name="tthFrefAEH"><sup>47</sup></a>, which is led by Jeni Tennison, Rene Kapusta, and Haymo Meran. After a long time of development seemingly going dead, it now has a repository on GH<a href="#tthFtNtAEI" name="tthFrefAEI"><sup>48</sup></a>, which seems to be led by Sebastian Germesin. The repository is a mirror of the original project, and all contribution to the GH-project are contributed back to the official project-page.
    </p>
    <h3 id="tth_sEc5.3"><a class="bookmark" href="#tth_sEc5.3">5.3 rdfstore-js</a></h3>
    <p id="sec:UsedLibraryRDFStore">
        rdfstore-js describes itself as "a pure JavaScript implementation of a RDF graph store with support for the SPARQL query and data manipulation language"[<a href="#RdfStore:2012:Misc" data-name="CITERdfStore:2012:Misc">23</a>]. It supports a range of features:
    </p>
    <ul>
        <li>Works in browsers as well as server-side.</li>
        <li>Full support of SPARQL 1.0 and SPARQL Update Language, and partially SPARQL 1.1 (including partial support for property paths).</li>
        <li>Parsers for JSON-LD, Turtle, and N3.</li>
        <li>Implemented W3C RDF Interfaces API<a href="#tthFtNtAEJ" name="tthFrefAEJ"><sup>49</sup></a>.</li>
        <li>Have an experimental implementation of RDF graph evens API.</li>
        <li>Custom filter functions.</li>
        <li>Threaded API if WebWorkers are supported.</li>
        <li>Persistent storage with HTML5 LocalStorage (for browsers) or MongoDB (for Node).</li>
        <li>Implementation of the SPARQL Protocol for RDF<a href="#tthFtNtAFA" name="tthFrefAFA"><sup>50</sup></a> on the server-side.</li>
    </ul>
    <p>
        rdfstore-js is available as a repository at GH<a href="#tthFtNtAFB" name="tthFrefAFB"><sup>51</sup></a>, and has a nice pace of development. Its author, Antonio Garrote, also lists Christian Langanke as contributor.
    </p>
    <h3 id="tth_sEc5.4"><a class="bookmark" href="#tth_sEc5.4">5.4 Underscore.JS</a></h3>
    <p id="sec:UsedLibraryUnderscore">
        Underscore.JS is a "utility-belt library for JavaScript [which] provides about 80 functions" [<a href="#Underscore:2012:Misc" data-name="CITEUnderscore:2012:Misc">41</a>]. Although JS brings a lot to the table in terms of flexibility and a growing set of APIs (both client-side and server-side), it still lacks somewhat when it comes to utility functions. Underscore.JS is a response to this, and provides handy functions that either functions as shivs (e.g. for older browsers that do not support <span class="teletype">forEach</span> yet) or new altogether. Underscore.JS is available on <a href="http://underscorejs.org/"><span class="teletype">http://underscorejs.org/</span></a>.
    </p>
    <p>
        Further explanation of the usage of Underscore.JS is in section <a href="#sec:FrameworkUtils">6.16</a>.
    </p>
    <h3 id="tth_sEc5.5"><a class="bookmark" href="#tth_sEc5.5">5.5 when.js</a></h3>
    <p id="sec:UsedLibraryWhen">
        when.js is a "lightweight CommonJS Promises/A and when() implementation" [<a href="#When:2012:Misc" data-name="CITEWhen:2012:Misc">14</a>]. It allows usage of the Promises pattern (section <a href="#sec:JavascriptPromisePattern">2.2.6.1</a>), and also provides several other useful Promise-related concepts. It is being developed by Brian Cavalier, and is available at GH<a href="#tthFtNtAFC" name="tthFrefAFC"><sup>52</sup></a>.
    </p>
    <p>
        The module named Promise is an integration of when.js into Graphite, and further explanation of the module is in section <a href="#sec:FrameworkPromise">6.8</a>.
    </p>

    <h2 id="tth_chAp6"><a class="bookmark" href="#tth_chAp6">Chapter 6<br />The Graphite Framework</a></h2>
    <p id="chap:Framework">
        This chapter will list all the modules that have been implemented. They are listed alphabetically, but some are nested within others. The first level of modules are named main modules, while those nested within them are submodules. I have nested a module if its dependent only by a certain group of modules, with the main module being dependent by other modules.
    </p>
    <p>
        The names should reflect their purpose, and as such should give an intuitive hint of what they can do. Apart from their names, all modules have a list of features that are presented in the beginning of their section. The list contains the following attributes:
    </p>
    <ol type="1">
        <li>Branch: The branch in which they reside (explained in section <a href="#sec:UsedLibrariesBranches">5.1</a>).</li>
        <li>Location: The address to which they are located in the src-folder.</li>
        <li>Dependencies: Lists which modules, if any, that the module are dependent on.</li>
        <li>Design Pattern: The design pattern(s) that have been used as a starting point for this module, if any (not applicable for third party derived modules).</li>
        <li>Test result: Most modules have tests written as part of their development, and their results are listed here. A complete overview of the test results can be found in appendix <a href="#chap:AppendixTestResults">B</a>.</li>
    </ol>
    <p>
        After the initial block detailing the attributes, a description explains the module in detail. Considerations taken along the development will be noted, and variations/possibilities explained.
    </p>
    <p>
        Dependencies between the main modules have been visualized in figure <a href="#fig:FrameworkDependencies">6.1</a>. The dependencies within each subdomain of modules are listed in their designated main module.
    </p>


    <div class="figure" id="tth_fIg6.1">
        <img src="png/DependenciesMain.png" />
        <div class="caption" id="fig:FrameworkDependencies">
            Figure 6.1: Dependencies between the main modules of Graphite.
        </div>
    </div>
    <p>
        The source can be forked at <a href="https://github.com/megoth/graphitejs"><span class="teletype">https://github.com/megoth/graphitejs</span></a>.
    </p>
    <h3 id="tth_sEc6.1"><a class="bookmark" href="#tth_sEc6.1">6.1 API</a></h3>
    <p id="sec:FrameworkAPI">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">Graphite</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="graphite/api.js"><span class="teletype">graphite/api.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">Graph, Promise, Query, RDF, Utils</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Bridge, Facade</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">10 tests, 11 assertions; Total average: 1 493, Average/assertion: 149</td>
        </tr>
    </table>
    <p>
        The API module tries to combine the most powerful modules of Graphite into one module, for easier access to developers new to the framework. The idea is to lower the barrier by combining several modules into one, and built upon their functionality to create new ways of handling the data.
    </p>
    <p>
        This module differs from the Graphite module in that it acts as a Facade-object for the underlying modules, instead of a simple connection to them. Its signature mirrors in many ways it underlying modules, but adds some methods of its own. In most of the cases though, the mapping are one-to-one, which should make a transition from the API module to the Graph- or Query module easy.
    </p>
    <p>
        At the heart of the module are the properties <span class="teletype">g</span> and <span class="teletype">q</span>, which respectively are instantiations of the Graph- and Query module. These core properties enables the user to cache data from the SW, and query it. The query can be built piece by piece, until it are executed with the <span class="teletype">execute</span> method.
    </p>
    <p>
        This module partakes in the Bridge pattern as the Implementor, where the Graphite module works as the Abstraction. It is designed to be easily switched if a system architect wishes to customize the API he wants to serve his team of developers.
    </p>
    <h3 id="tth_sEc6.2"><a class="bookmark" href="#tth_sEc6.2">6.2 CURIE</a></h3>
    <p id="sec:FrameworkCURIE">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">rdfQuery</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="rdfquery/curie.js"><span class="teletype">rdfquery/curie.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">URI, Utils</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">None</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">13 tests, 13 assertions; Total average: 60, Average/assertion: 5</td>
        </tr>
    </table>
    <p>
        The CURIE module handles functions regarding <abbr title="Compact URI">CURIE</abbr>s<a href="#tthFtNtAFD" name="tthFrefAFD"><sup>53</sup></a>, which are quite common when working with SW, as it eases the task of remembering IRIs, in turn helping to reduce typing errors. The functions are split into creating IRIs from CURIEs or vice versa.
    </p>
    <p>
        CURIE is not written with a SDP in mind, as it is taken from a third party library. It could be argued it is a utilization the Builder pattern, but the strings it returns can hardly be called complex objects.
    </p>
    <h3 id="tth_sEc6.3"><a class="bookmark" href="#tth_sEc6.3">6.3 Data-type</a></h3>
    <p id="sec:FrameworkDatatype">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">rdfQuery</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="rdfquery/datatype.js"><span class="teletype">rdfquery/datatype.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">URI</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Strategy</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">12 tests, 22 assertions; Total average: 41, Average/assertion: 2</td>
        </tr>
    </table>
    <p>
        The Data-type module returns a simple function that returns an object representing a data-type. It is used by the RDF module when handling literals. In addition to the callable function there is also a static function <span class="teletype">valid</span> available, that enables testing whether or not a given value is valid according to a given data-type.
    </p>
    <p>
        The module uses the Strategy pattern within itself (i.e. no collaboration with other modules). This is done by giving the different data types each a representation with an object containing the properties <span class="teletype">regex</span>, <span class="teletype">strip</span>, and <span class="teletype">value</span>, and in some cases <span class="teletype">validate</span>. The Context is in this case either the constructor-function, or the static function <span class="teletype">valid</span>.
    </p>
    <h3 id="tth_sEc6.4"><a class="bookmark" href="#tth_sEc6.4">6.4 Engine</a></h3>
    <p id="sec:FrameworkEngine">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">rdfstore-js</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="rdfstore/query-engine/query_engine.js"><span class="teletype">rdfstore/query-engine/query_engine.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">Abstract Query Tree, Callbacks, Query Filters, Query Plan, RDF JS Interface, Loader, Tree Utils, Utils</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Builder, Facade</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">53 tests, 312 assertions; Total average: 739, Average/assertion: 2</td>
        </tr>
    </table>
    <p>
        The Engine module is a complex module that brings together several submodules, in effect being an implementation of the Facade pattern. Its purpose is to execute queries, and does so by iterations of compiling data, that results in either a formula (as specified in the RDF module), a list of objects with projected variables, or a boolean (depending on the query form, as explained in section <a href="#sec:SemanticWebSPARQL">2.1.6.1</a>).
    </p>
    <p>
        The Builder pattern can be used to understand this module, although it is somewhat hazy. The engine participates as the Director, and RDF JS Interface, Query Filter, and Query Plan all collaborate as Builders. The Product in this case is the result of a query, and it is here it becomes clear that the implementation is not complete, as it is the engine itself that serves the means of getting the Product.
    </p>
    <p>
        Figure <a href="#fig:FrameworkDependenciesEngine">6.2</a> shows the dependencies amongst the submodules of the Engine module. Some of the main modules are also represented (i.e. Query Parser, RDF loader, Tree Utils, and Utils), as they have been used by the submodules.
    </p>


    <div class="figure" id="tth_fIg6.2">
        <img src="png/DependenciesEngine.png" />
        <div class="caption" id="fig:FrameworkDependenciesEngine">
            Figure 6.2: Dependencies in the submodules of the Engine module
        </div>
    </div>
    <h4 id="tth_sEc6.4.1"><a class="bookmark" href="#tth_sEc6.4.1">6.4.1 Abstract Query Tree</a></h4>
    <p id="sec:FrameworkEngineAbstractQueryTree">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">rdfstore-js</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="rdfstore/query-engine/abstract_query_tree.js"><span class="teletype">rdfstore/query-engine/abstract_query_tree.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">Query Parser, Tree Utils, Utils</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">None</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">18 tests, 90 assertions; Total average: 182, Average/assertion: 2</td>
        </tr>
    </table>
    <p>
        The Abstract Query Tree module is based on the draft of The SPARQL Algebra<a href="#tthFtNtAFE" name="tthFrefAFE"><sup>54</sup></a>, and does not apply any SDPs as I can see. Again, the code align closely to the Builder pattern, and it should not be to hard to refactor the module. Another pattern that could easily be applied is the Strategy pattern. I will return to this point in the discussion (section <a href="#sec:DiscussionRepresentationOfSPARQL">8.1.1.2</a>).
    </p>
    <h4 id="tth_sEc6.4.2"><a class="bookmark" href="#tth_sEc6.4.2">6.4.2 Callbacks</a></h4>
    <p id="sec:FrameworkEngineCallbacks">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">rdfstore-js</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="rdfstore/query-engine/callbacks.js"><span class="teletype">rdfstore/query-engine/callbacks.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">Abstract Query Tree, RDF JS Interface, Tree Utils</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Builder</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">7 tests, 25 assertions; Total average: 101, Average/assertion: 4</td>
        </tr>
    </table>
    <p>
        The Callbacks module is a submodule of the Engine module, and handles the order in which queries should be fired. The module participates in the Builder pattern in collaboration with the RDF JS Interface module, where Callbacks works as the Director, and Interface works as the Builder. It does it with a twist though, as explained in section <a href="#sec:FrameworkEngineCallbacks">6.4.2</a>.
    </p>
    <p>
        It could also make use of the Observer pattern, which is discussed in section <a href="#sec:DesignPatternObserver">2.3.8</a>.
    </p>
    <h4 id="tth_sEc6.4.3"><a class="bookmark" href="#tth_sEc6.4.3">6.4.3 Query Filters</a></h4>
    <p id="sec:FrameworkEngineQueryFilters">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">rdfstore-js</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="rdfstore/query-engine/query_filters.js"><span class="teletype">rdfstore/query-engine/query_filters.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">TreeUtils, Utils</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Builder</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">15 tests, 29 assertions; Total average: 161, Average/assertion: 6</td>
        </tr>
    </table>
    <p>
        The Query Filters are utility functions for handling queries. It handles aggregation, function calls, and other filter expressions as part of a SPARQL abstract tree. As such, the module acts as a Builder for the engine, which acts as a Director, meaning that the module partakes in the Builder pattern.
    </p>
    <p>
        The module could also benefit from the use of the Strategy pattern, as many of the filter expressions could be handled as interchangeable objects.
    </p>
    <h4 id="tth_sEc6.4.4"><a class="bookmark" href="#tth_sEc6.4.4">6.4.4 Query Plan</a></h4>
    <p id="sec:FrameworkEngineQueryPlan">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">rdfstore-js</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="rdfstore/query-engine/query_plan_sync_dpsize.js"><span class="teletype">rdfstore/query-engine/query_plan_sync_dpsize.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">None</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Builder</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">1 tests, 12 assertions; Total average: 12, Average/assertion: 1</td>
        </tr>
    </table>
    <p>
        The Query Plan module handles the different ways you can consolidate the different parts of a SPARQL abstract tree. It takes part of the Builder pattern in collaboration with the Engine, Query Filter, and RDF JS Interface, as previously explained.
    </p>
    <p>
        An adoption of the Strategy pattern would probably clean up the structure, as well as the Composite pattern.
    </p>
    <h4 id="tth_sEc6.4.5"><a class="bookmark" href="#tth_sEc6.4.5">6.4.5 RDF JS Interface</a></h4>
    <p id="sec:FrameworkEngineRDFJSInterface">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">rdfstore-js</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="rdfstore/query-engine/rdf_js_interface.js"><span class="teletype">rdfstore/query-engine/rdf_js_interface.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">None</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Builder</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">5 tests, 20 assertions; Total average: 68, Average/assertion: 3</td>
        </tr>
    </table>
    <p>
        The RDF JS Interface module implements the API defined in the document RDF Interfaces<a href="#tthFtNtAFF" name="tthFrefAFF"><sup>55</sup></a>. It outlines many common RDF terms and sports some functions to help creating them. In this we see what resembles an implementation of the Builder pattern (as mentioned in the Engine and Callbacks module).
    </p>
    <h3 id="tth_sEc6.5"><a class="bookmark" href="#tth_sEc6.5">6.5 Graph</a></h3>
    <p id="sec:FrameworkGraph">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">Graphite</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="graphite/graph.js"><span class="teletype">graphite/graph.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">Backend, Engine, Lexicon, Promise, RDF, Utils</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Strategy</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">4 tests, 8 assertions; Total average: 954, Average/assertion: 119</td>
        </tr>
    </table>
    <p>
        The Graph module is the cornerstone of Graphite. It is the abstraction of quadstores, and serves as an access point for all the data processed by the framework. Its signature is somewhat small, but what it powers is the execution of SPARQL-queries. By calling its method <span class="teletype">execute</span> with a query (be it an instantiation of the module Query, or a plain String) you can add and retrieve data.
    </p>
    <p>
        To limit the scope of the thesis, I decided to only support a subset of the SPARQL Query Language and SPARQL Update. The subset are:
    </p>
    <ul>
        <li><b>Query Forms:</b> <span class="teletype">ASK</span>, <span class="teletype">CONSTRUCT</span>, <span class="teletype">INSERT</span>, <span class="teletype">LOAD</span>, and <span class="teletype">SELECT</span>.</li>
        <li><b>Solution Sequences and Modifiers:</b> <span class="teletype">ORDER BY</span>.</li>
        <li><b>Aggregates:</b> <span class="teletype">GROUP BY</span>.</li>
        <li><b>Aggregate Algebra:</b> <span class="teletype">Count</span>, <span class="teletype">Sum</span>, <span class="teletype">Avg</span>, <span class="teletype">Min</span>, and <span class="teletype">Max</span>.</li>
    </ul>
    <p>
        This means Graphite will only support adding data to the graph, not delete, clear, or update it. Also, subqueries are not supported. This limitation was made to avoid some common problems when dealing with logics in quadstores, as well as limitation imposed by underlying third party code.
    </p>
    <p>
        The Strategy pattern has been implemented in order to handle the supported forms of queries. It is handled internally, with the function execute fetching a concrete strategy from a map of functions (e.g. <span class="teletype">executes["Select"]</span> contains the function that handles results from <span class="teletype">SELECT</span> queries).
    </p>
    <p>
        An important feature of the Graph module is lazy loading, which secures that the order in which we call resources are handled correctly. This works by making use of the Functional Feature (section <a href="#sec:JavascriptFunctionalFeature">2.2.1.3</a>) combined with the Promise Pattern (section <a href="#sec:JavascriptPromisePattern">2.2.6.1</a>). Lazy loading as a design pattern is discussed in section <a href="#sec:DiscussionAdditionalDesignPatterns">8.2.2</a>.
    </p>
    <p>
        The Graphs' and submodules' dependencies are listed in figure <a href="#fig:FrameworkDependenciesGraph">6.3</a> (Tree Utils are present to show external dependencies).
    </p>


    <div class="figure" id="tth_fIg6.3">
        <img src="png/DependenciesGraph.png" />
        <div class="caption" id="fig:FrameworkDependenciesGraph">
            Figure 6.3: Dependencies in the submodules of the Graph module
        </div>
    </div>
    <h4 id="tth_sEc6.5.1"><a class="bookmark" href="#tth_sEc6.5.1">6.5.1 Backend</a></h4>
    <p id="sec:FrameworkGraphBackend">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">rdfstore-js</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="rdfstore/rdf-persistence/quad_backend.js"><span class="teletype">rdfstore/rdf-persistence/quad_backend.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">TreeUtils</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">None</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">2 tests, 57 assertions; Total average: 22, Average/assertion: &lt;1</td>
        </tr>
    </table>
    <p>
        The Backend module handles the storage of RDF-related data in one graph. It makes use of no SDPs.
    </p>
    <h4 id="tth_sEc6.5.2"><a class="bookmark" href="#tth_sEc6.5.2">6.5.2 Lexicon</a></h4>
    <p id="sec:FrameworkGraphLexicon">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">rdfstore-js</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="rdfstore/rdf-persistence/lexicon.js"><span class="teletype">rdfstore/rdf-persistence/lexicon.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">None</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">None</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">2 tests, 9 assertions; Total average: 16, Average/assertion: 2</td>
        </tr>
    </table>
    <p>
        The Lexicon module handles all the graphs that are in play, and resolves terms across graphs. It makes no use of SDPs.
    </p>
    <h3 id="tth_sEc6.6"><a class="bookmark" href="#tth_sEc6.6">6.6 Graphite</a></h3>
    <p id="sec:FrameworkGraphite">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">Graphite</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="graphite.js"><span class="teletype">graphite.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">API</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Bridge</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">1 tests, 2 assertions; Total average: 6, Average/assertion: 3</td>
        </tr>
    </table>
    <p>
        The Graphite module is designed to be the main entry point for beginners. It sits at the forefront of the framework (all other modules resides in the folders that are its siblings), and is designed to be easily included into a larger context with an AMD-library. Developers can include this module without knowing anything about it, and start going through tutorials, the documentation, or just play around.
    </p>
    <p>
        For now it merely returns the API module, but it can be easily extended. One way of doing this is to include the Utils module, which gives the extend-method for objects. By instantiating the different modules whose interface you wish to make highlight, you can combine them into one single object. This could be useful to a system architect who wishes to modify the framework for his project, minimizing the amount of time his developers need to spend to learn the framework. With his alteration he could simply present them with a modified API, that is scissored to their use.
    </p>
    <h3 id="tth_sEc6.7"><a class="bookmark" href="#tth_sEc6.7">6.7 Loader</a></h3>
    <p id="sec:FrameworkLoader">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">Graphite</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="graphite/loader.js"><span class="teletype">graphite/loader.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">Proxy, Utils, XHR</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Strategy</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">1 tests, 1 assertions; Total average: 12, Average/assertion: 12</td>
        </tr>
    </table>
    <p>
        The Loader module fetches resources, and does so depending on what functionality the system supports. All dependent modules prefixed Loader participates in the Strategy Pattern as a ConcreteStrategy.
    </p>
    <p>
        The dependencies within the submodules of Loader is shown in figure <a href="#fig:FrameworkDependenciesLoader">6.4</a>.
    </p>


    <div class="figure" id="tth_fIg6.4">
        <img src="png/DependenciesLoader.png" />
        <div class="caption" id="fig:FrameworkDependenciesLoader">
            Figure 6.4: Dependencies in the submodules of the Loader module
        </div>
    </div>
    <h4 id="tth_sEc6.7.1"><a class="bookmark" href="#tth_sEc6.7.1">6.7.1 Proxy</a></h4>
    <p id="sec:FrameworkLoaderProxy">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">Graphite</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="graphite/loader/proxy.js"><span class="teletype">graphite/loader/proxy.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">Utils, XHR</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Bridge, Proxy, Strategy</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">2 tests, 4 assertions; Total average: 33, Average/assertion: 8</td>
        </tr>
    </table>
    <p>
        The Proxy module is a participant in the Strategy Pattern as ConcreteStrategy. It was created to bypass the Same Origin Policy (section <a href="#sec:JavascriptSameOriginPolicy">2.2.5.1</a>) by using a proxy-server on the same domain. It uses the XHR module to make this connection, and if successful, the service would return the data the framework would otherwise be denied.
    </p>
    <p>
        This does require a service to be set up on the server, which accepts the formatted query which the Proxy sends. Basically it split the IRI to be loaded into separate parts (as explained in section <a href="#sec:URLvsURIvsIRI">2.1.4.2</a>). As part of the framework, this service has been created as an application driven by Node.
    </p>
    <h4 id="tth_sEc6.7.2"><a class="bookmark" href="#tth_sEc6.7.2">6.7.2 XHR</a></h4>
    <p id="sec:FrameworkLoaderXHR">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">Graphite</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="graphite/loader/xhr.js"><span class="teletype">graphite/loader/xhr.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">Utils</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Bridge, Strategy</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">4 tests, 10 assertions; Total average: 68, Average/assertion: 7</td>
        </tr>
    </table>
    <p>
        The XHR module makes use of the XHR2-object available in most modern browsers. It makes use of the Strategy Pattern by participating as a ConcreteStrategy to the Loader module.
    </p>
    <h3 id="tth_sEc6.8"><a class="bookmark" href="#tth_sEc6.8">6.8 Promise</a></h3>
    <p id="sec:FrameworkPromise">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">when.js</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="graphite/promise.js"><span class="teletype">graphite/promise.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">None</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">None</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">Not available</td>
        </tr>
    </table>
    <p>
        The Promise module is an integration of the when.js library. It implements the Promise pattern (section <a href="#sec:JavascriptPromisePattern">2.2.6.1</a>), which gives us additional tools to handle asynchronous calls.
    </p>
    <h3 id="tth_sEc6.9"><a class="bookmark" href="#tth_sEc6.9">6.9 Query</a></h3>
    <p id="sec:FrameworkQuery">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">Graphite</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="graphite/query.js"><span class="teletype">graphite/query.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">Loader, Promise, QueryParser, Utils</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Builder, Bridge</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">51 tests, 52 assertions; Total average: 474, Average/assertion: 9</td>
        </tr>
    </table>
    <p>
        The Query module builds a complex structure that aligns the SPARQL abstract tree, which is used in the Engine module. It partakes in the Builder pattern by being the Director-participant, whereas the Query Parser module (and its submodules) is the Builder-participant.
    </p>
    <p>
        It also shares another collaboration with the Query Parser module, namely through the Bridge pattern. It serves as an API that can be changed independently of the Query Parser.
    </p>
    <h3 id="tth_sEc6.10"><a class="bookmark" href="#tth_sEc6.10">6.10 Query Parser</a></h3>
    <p id="sec:FrameworkQueryParser">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">Graphite</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="graphite/queryparser.js"><span class="teletype">graphite/queryparser.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">SPARQL</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Builder, Bridge, Strategy</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">2 tests, 4 assertions; Total average: 16, Average/assertion: 4</td>
        </tr>
    </table>
    <p>
        The Query Parser module is designed to be extensible, i.e. if there are other ways of serializing the abstraction of a SPARQL query, than it can be extended with this module (e.g. to differ between SPARQL 1.0 and SPARQL 1.1).
    </p>
    <p>
        The module is designed with the Builder pattern in mind, by participating as the Builder. The Query module is Director, and decides in which order parts of the SPARQL abstract tree is to be added. It further delegates this responsibility to the chosen strategy, e.g. the module that participates as ConcreteStrategy (while the module itself participates as Context).
    </p>
    <p>
        Figure <a href="#fig:FrameworkDependenciesQueryParser">6.5</a> display the dependencies between the modules partaking in the works of the Query Parser.
    </p>


    <div class="figure" id="tth_fIg6.5">
        <img src="png/DependenciesQueryParser.png" />
        <div class="caption" id="fig:FrameworkDependenciesQueryParser">
            Figure 6.5: Dependencies in the submodules of the Query Parser module
        </div>
    </div>
    <h4 id="tth_sEc6.10.1"><a class="bookmark" href="#tth_sEc6.10.1">6.10.1 SPARQL</a></h4>
    <p id="sec:FrameworkQueryParserSparql">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">Graphite</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="graphite/queryparser/sparql.js"><span class="teletype">graphite/queryparser/sparql.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">SPARQL Full</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Builder, Strategy</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">36 tests, 56 assertions; Total average: 153, Average/assertion: 3</td>
        </tr>
    </table>
    <p>
        The SPARQL module sports an array of methods that allows building parts of the SPARQL abstract tree. The tree has some constraints concerning how it can be structured, and the module takes care of this.
    </p>
    <p>
        The module partakes in the Strategy pattern as a concrete strategy. As of now it is the only strategy available, which may make the use of the pattern unnecessary.
    </p>
    <p>
        The module also participates as a Builder in the Builder pattern. This responsibility is delegated from the Query Parser, which is also the same that acts as Context in the Strategy pattern.
    </p>
    <p>
        As the module does not support parsing of all the elements in the SPARQL abstract tree, it also imports the use of SPARQL Full module.
    </p>
    <h4 id="tth_sEc6.10.2"><a class="bookmark" href="#tth_sEc6.10.2">6.10.2 SPARQL Full</a></h4>
    <p id="sec:FrameworkQueryParserSparqlFull">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">rdfstore-js</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="rdfstore/sparql-parser/sparql_parser.js"><span class="teletype">rdfstore/sparql-parser/sparql_parser.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">None</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Interpreter</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">Not available</td>
        </tr>
    </table>
    <p>
        The SPARQL Full module is by far the biggest component in Graphite. It is generated by PEG.js, which is a parser generator for JS<a href="#tthFtNtAFG" name="tthFrefAFG"><sup>56</sup></a>. That is also why it is much bigger and more complex than it needs to be. But it does parse a complete SPARQL query, and as I have not been able to create a complete one myself, I have implemented it as part of my framework.
    </p>
    <p>
        The pattern resembles the Interpreter pattern, as there is a representation of the SPARQL grammar, and I use the module to evaluate its representation into a structured tree of terms from that grammar.
    </p>
    <p>
        It works as a starting point for manipulating queries, by feeding it with a complete query, and then modify its parts as necessary through the Query module.
    </p>
    <h3 id="tth_sEc6.11"><a class="bookmark" href="#tth_sEc6.11">6.11 RDF</a></h3>
    <p id="sec:FrameworkRDF">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">Graphite</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="graphite/rdf.js"><span class="teletype">graphite/rdf.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">CURIE, RDF, URI, Utils</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Composite, Strategy</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">8 tests, 22 assertions; Total average: 44, Average/assertion: 2</td>
        </tr>
    </table>
    <p>
        The RDF module offers a wide arsenal of methods, and creates a common ground for producing objects pertaining to terms in RDF. Many of the methods origins from the N3-parser in rdfstore-js, but has been restructured to promote a consistent API. As such, the method <span class="teletype">toNT</span> is represented in all objects retrieved from RDF, and it presents the different terms in N3-compliant syntax (e.g. IRI = &lt;(IRI)&#62;).
    </p>
    <p>
        The module is used by all the parsers, and the Engine is dependent on the <span class="teletype">toQuads</span> method it appends on all its objects. The objects available through RDF are:
    </p>
    <ul>
        <li>BlankNode,</li>
        <li>Collection (e.g. a list),</li>
        <li>Empty (i.e. rdfs:nil),</li>
        <li>Formula (i.e. a set of statements),</li>
        <li>Literal,</li>
        <li>Statement, and</li>
        <li>Symbol (e.g. an IRI).</li>
    </ul>
    <p>
        RDF makes use of the Strategy pattern, as all objects listed above have methods <span class="teletype">toNT</span> and <span class="teletype">toQuads</span>, meaning there is no need to test for type or feature to know whether or not they can be called.
    </p>
    <p>
        RDF also makes use of the Composite pattern, as Collection and Formula will call on their leafs when <span class="teletype">toNT</span> and <span class="teletype">toQuads</span> are called.
    </p>
    <h3 id="tth_sEc6.12"><a class="bookmark" href="#tth_sEc6.12">6.12 RDF Loader</a></h3>
    <p id="sec:FrameworkRDFLoader">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">Graphite</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="graphite/rdfloader.js"><span class="teletype">graphite/rdfloader.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">Loader, RDF Parser, Utils</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Facade</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">Not available</td>
        </tr>
    </table>
    <p>
        The RDF Loader module is a very simple module, and does in fact only consist of a single function. The function takes an IRI that can be dereferenced as a graph, the name of that graph, and a function to call when it is loaded. What it passes along is the graph that is been fetched, ready for further processing.
    </p>
    <p>
        The module acts as facade for the underlying modules that sports a much greater API, and delivers a single, easy-to-use function.
    </p>
    <h3 id="tth_sEc6.13"><a class="bookmark" href="#tth_sEc6.13">6.13 RDF Parser</a></h3>
    <p id="sec:FrameworkRDFParser">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">Graphite</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="graphite/rdfparser.js"><span class="teletype">graphite/rdfparser.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">JSON-LD, RDF JSON, RDF/XML, Turtle, Utils</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Strategy</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">5 tests, 12 assertions; Total average: 177, Average/assertion: 15</td>
        </tr>
    </table>
    <p>
        The RDF Parser module enables parsing RDF independent of its serialization. For now it needs to be configured by the user to let it know which parser to use, but the goal is to make it detect the serialization on its own.
    </p>
    <p>
        The module has been designed with the Strategy pattern in mind. By treating all parsers as different strategies to parse RDF, it enables adding and removal additional parsers quite easily (e.g. if we want to be able to parse RDFa). All submodules participates as a ConcreteStrategy.
    </p>
    <p>
        Another pattern that all submodules use is the Interpreter pattern. The RDF module defines a unified grammar, which they make use of as they evaluate the different serializations.
    </p>
    <p>
        Figure <a href="#fig:FrameworkDependenciesRDFParser">6.6</a> show the dependencies within the RDF Parser modules (RDF, Loader, Promise, URI, and Utils being included to show external dependencies).
    </p>


    <div class="figure" id="tth_fIg6.6">
        <img src="png/DependenciesRdfParser.png" />
        <div class="caption" id="fig:FrameworkDependenciesRDFParser">
            Figure 6.6: Dependencies in the submodules of the RDF Parser module
        </div>
    </div>
    <h4 id="tth_sEc6.13.1"><a class="bookmark" href="#tth_sEc6.13.1">6.13.1 JSON-LD</a></h4>
    <p id="sec:FrameworkRDFParserJSONLD">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">Graphite</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="graphite/rdfparser/jsonld.js"><span class="teletype">graphite/rdfparser/jsonld.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">Loader, Promise, RDF, Utils</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Interpreter, Strategy</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">22 tests, 63 assertions; Total average: 272, Average/assertion: 4</td>
        </tr>
    </table>
    <p>
        The JSON-LD module parses JSON-LD into RDF. It also makes use of the Loader and Promise modules as it supports dereferencing URLs that are used in <span class="teletype">@context</span>.
    </p>
    <p>
        I decided to implement my own JSON-LD parser instead of reusing the one made available by JSON-LD CG<a href="#tthFtNtAFH" name="tthFrefAFH"><sup>57</sup></a>. I wanted to get a good understanding of JSON-LD, and though creating my own processor could be a good exercise for doing this. When it was complete, it worked well as part of Graphite, it did the work needed, and as such I deemed it unnecessary to integrate even more third party software into the framework.
    </p>
    <p>
        But as the specification of JSON-LD continue to evolve, my parser will undoubtedly fall behind, and not be able to parse every possible variation. At this point it would probably be preferable to integrate a specialized library, perhaps using the Adapter pattern.
    </p>
    <p>
        RDF JSON
    <p id="sec:FrameworkRDFParserRDFJSON">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">Graphite</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="graphite/rdfparser/rdfjson.js"><span class="teletype">graphite/rdfparser/rdfjson.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">RDF, Utils</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Interpreter, Strategy</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">8 tests, 9 assertions; Total average: 802, Average/assertion: 89</td>
        </tr>
    </table>
    <p>
        The RDF JSON module parses RDF JSON.
    </p>
    <h4 id="tth_sEc6.13.2"><a class="bookmark" href="#tth_sEc6.13.2">6.13.2 RDF/XML</a></h4>
    <p id="sec:FrameworkRDFParserRDFXML">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">rdfQuery</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="rdfquery/rdfparser/rdfxml.js"><span class="teletype">rdfquery/rdfparser/rdfxml.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">RDF, URI, Utils</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Interpreter, Strategy</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">29 tests, 136 assertions; Total average: 1 861, Average/assertion: 14</td>
        </tr>
    </table>
    <p>
        The RDF/XML module is taken from the library rdfQuery, and supports about 60% of the tests given in the official RDF/XML test suite<a href="#tthFtNtAFI" name="tthFrefAFI"><sup>58</sup></a>.
    </p>
    <h4 id="tth_sEc6.13.3"><a class="bookmark" href="#tth_sEc6.13.3">6.13.3 Turtle</a></h4>
    <p id="sec:FrameworkRDFParserTurtle">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">rdfQuery</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="rdfquery/rdfparser/turtle.js"><span class="teletype">rdfquery/rdfparser/turtle.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">RDF, URI</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">Interpreter, Strategy</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">4 tests, 31 assertions; Total average: 272, Average/assertion: 9</td>
        </tr>
    </table>
    <p>
        The Turtle module originates from rdfQuery, and supports all of the tests given by the Turtle Test Suite<a href="#tthFtNtAFJ" name="tthFrefAFJ"><sup>59</sup></a>.
    </p>
    <h3 id="tth_sEc6.14"><a class="bookmark" href="#tth_sEc6.14">6.14 Tree Utils</a></h3>
    <p id="sec:FrameworkTreeUtils">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">rdfstore-js</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="rdfstore/utils.js"><span class="teletype">rdfstore/utils.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">B-Tree</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">None</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">5 tests, 35 assertions; Total average: 38, Average/assertion: 1</td>
        </tr>
    </table>
    <p>
        The Tree Utils sports several handy functions used by many of the components originating from rdfstore-js. It also contains an implementation of a B+ tree, which is used by the Engine.
    </p>
    <h4 id="tth_sEc6.14.1"><a class="bookmark" href="#tth_sEc6.14.1">6.14.1 B-Tree</a></h4>
    <p id="sec:FrameworkTreeUtilsBTree">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">rdfstore-js</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="rdfstore/rdf-persistence/in_memory_b_tree.js"><span class="teletype">rdfstore/rdf-persistence/in_memory_b_tree.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">None</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">None</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">4 tests, 152 assertions; Total average: 53, Average/assertion: &lt;1</td>
        </tr>
    </table>
    <p>
        The B-Tree module is an implementation of a generic B-tree, more specifically an adaptation of one made for C<a href="#tthFtNtAGA" name="tthFrefAGA"><sup>60</sup></a>. It does not make use of any SDPs.
    </p>
    <p>
        The module could have been integrated into the Tree Utils module, as it is the only making use of B-tree. But as the purpose of this module is so simple and clear, and it may be that I wish to reuse its function, I have decided to let it stay as an independent module.
    </p>
    <h3 id="tth_sEc6.15"><a class="bookmark" href="#tth_sEc6.15">6.15 URI</a></h3>
    <p id="sec:FrameworkURI">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">rdfQuery</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="rdfquery/uri.js"><span class="teletype">rdfquery/uri.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">Utils</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">None</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">74 tests, 99 assertions; Total average: 267, Average/assertion: 3</td>
        </tr>
    </table>
    <p>
        The URI module originates from the rdfQuery project, and handles many utility-functions used when working with IRI. It applies no SDPs as I can see.
    </p>
    <h3 id="tth_sEc6.16"><a class="bookmark" href="#tth_sEc6.16">6.16 Utils</a></h3>
    <p id="sec:FrameworkUtils">

    <table>
        <tr>
            <td data-width="118">Branch</td>
            <td class="left">Underscore.JS</td>
        </tr>
        <tr>
            <td data-width="118">Location</td>
            <td class="left"><a href="graphite/utils.js"><span class="teletype">graphite/utils.js</span></a></td>
        </tr>
        <tr>
            <td data-width="118">Dependencies</td>
            <td class="left">None</td>
        </tr>
        <tr>
            <td data-width="118">Design Pattern</td>
            <td class="left">None</td>
        </tr>
        <tr>
            <td data-width="118">Test result</td>
            <td class="left">33 tests, 118 assertions; Total average: 142, Average/assertion: 1</td>
        </tr>
    </table>
    <p>
        The Utils module is a collection of utility functions used throughout the framework. Almost all of the functions originate from the Underscore.JS project (section <a href="#sec:UsedLibraryUnderscore">5.4</a>), and as such it does not apply any SDPs.
    </p>
    <p>
        When I started integrating code from Underscore.JS to the Utils module (section <a href="#sec:FrameworkUtils">6.16</a>), the plan was to keep it at the minimum, only importing what I needed. But throughout the development, more and more code got included (and tests accompanying them), until about 40 of them had become a part of the module. They differ from the original code that they do not implement themselves as shivs, meaning that the function <span class="teletype">Array.each</span> is implemented as <span class="teletype">Utils.each</span>, which take a collection as the first parameter.
    </p>

    <h2 id="tth_chAp7"><a class="bookmark" href="#tth_chAp7">Chapter 7<br />The Demo</a></h2>
    <p id="chap:Demo">
        As part of the development of Graphite my supervisors wanted me to implement an application that showed some of the capabilities of Graphite. I created a music application, that loaded data in different serializations, and that enabled the user to browse this data by search and filtering. It is available as part of the code base<a href="#tthFtNtAGB" name="tthFrefAGB"><sup>61</sup></a>, and on <a href="http://folk.uio.no/arnehass/music/"><span class="teletype">http://folk.uio.no/arnehass/music/</span></a>.
    </p>
    <p>
        The demo exists in two versions. Version 1 is built by using the API-module, which works like a facade-object, tying the two most important modules together, namely the Graph- and Query-module. In version 2 the facade is discarded, and the application uses the modules Graph, Query, and Loader directly.
    </p>
    <h3 id="tth_sEc7.1"><a class="bookmark" href="#tth_sEc7.1">7.1 Structure</a></h3>
    <p id="sec:DemoStructure">
        The application's data is structured using Turtle and JSON-LD. It uses several vocabularies, as listed below:
    </p>
    <ul>
        <li>Dublin Core Metadata Initiative (<span class="teletype">dc</span>: <a href="http://purl.org/dc/elements/1.1/"><span class="teletype">http://purl.org/dc/elements/1.1/</span></a>),</li>
        <li>Friend of a Friend (<span class="teletype">foaf</span>: <a href="http://xmlns.com/foaf/0.1/"><span class="teletype">http://xmlns.com/foaf/0.1/</span></a>), and</li>
        <li>Music Ontology Specification (<span class="teletype">mo</span>: <a href="http://purl.org/ontology/mo/"><span class="teletype">http://purl.org/ontology/mo/</span></a>).</li>
    </ul>
    <p>
        In addition, I created my own vocabulary, specific to the demo, prefixed <span class="teletype">ma</span> and localized as <a href="http://example.org/music/v1#"><span class="teletype">http://example.org/music/v1#</span></a>. The terms introduced were:
    </p>
    <ul>
        <li><span class="teletype">ma:listensTo</span>: a property stating the relation between a user and a track.</li>
        <li><span class="teletype">ma:spotify</span>: a property stating the URI a track has to its instance in Spotify, if any.</li>
        <li><span class="teletype">ma:User</span>: a class, used to state a given resource as a user of the application.</li>
    </ul>
    <p>
        The application uses jQuery to manipulate the DOM, and the jQuery plug-in jQuery.template() to handle the templates.
    </p>
    <h2>Part 3<br />Discussion and Conclusion</h2>

    <h2 id="tth_chAp8"><a class="bookmark" href="#tth_chAp8">Chapter 8<br />Discussion</a></h2>
    <p id="chap:Discussion">
        Chapter <a href="#chap:Background">2</a> describes the pillars which I have built Graphite upon, namely SW (section <a href="#sec:BackgroundSemanticWeb">2.1</a>, JS (section <a href="#sec:BackgroundJavaScript">2.2</a>), SDP (section <a href="#sec:BackgroundDesignPatterns">2.3</a>), and TDD (section <a href="#sec:BackgroundTDD">2.4</a>). What I have learned while designing the framework can be categorized within the intersections of these pillars (as visualized in figure <a href="#fig:DiscussionIntersections">8.1</a>), and I have structured the discussion based on those intersections. Finally, at the end of the discussion, I discuss related work.
    </p>


    <div class="figure" id="tth_fIg8.1">
        <img src="png/DiscussionStructure.png" />
        <div class="caption" id="fig:DiscussionIntersections">
            Figure 8.1: Intersections of the pillars of this thesis, as described in chapter <a href="#chap:Background">2</a>. The number given is the corresponding section.
        </div>
    </div>
    <h3 id="tth_sEc8.1"><a class="bookmark" href="#tth_sEc8.1">8.1 SW and JS</a></h3>
    <p id="sec:DiscussionSWandJS">
        Graphite has been a great challenge to implement, many obstacles have been put down, only to face even more. This section describes the challenges regarding the intersection of SW and JS.
    </p>
    <h4 id="tth_sEc8.1.1"><a class="bookmark" href="#tth_sEc8.1.1">8.1.1 Representation of Data</a></h4>
    <p id="sec:DiscussionRepresentationOfData">
        The greatest challenge when working with Graphite have been how to structure the data internally. It was not that I had difficulties representing graphs with tree-based structures, but the fact that different components had different requirements from the structures, making reusability more difficult to achieve.
    </p>
    <h5 id="tth_sEc8.1.1.1"><a class="bookmark" href="#tth_sEc8.1.1.1">8.1.1.1 RDF</a></h5>
    <p id="sec:DiscussionRepresentationOfRDF">
        One problem that seemed to pop up again and again were the different representations of RDF. As I included code from third party libraries, I got at least one representation per library. This is not an unusual problem when using code from other projects, but care should be taken to create a component that can be reused easily by other components.
    </p>
    <p>
        The document RDF Interfaces addresses this problem by defining "a set of standardized interfaces for working with RDF data in a programming environment" [<a href="#RdfInterfaces:2011:Misc" data-name="CITERdfInterfaces:2011:Misc">33</a>]. rdfstore-js actually implements this standard (in the RDF JS Interface module), and the engine uses this as its representation of RDF. As of now, Graphite uses one additional representation, situated in the RDF module. The plan is to integrate this module with the aforementioned implementation of RDF Interfaces.
    </p>
    <p>
        So how should I implement the functionality concerning representations of terms in RDF? I believe the Decorator pattern (section <a href="#sec:DesignPatternDecorator">2.3.5</a>) is a fitting design for this problem. The reasoning goes that there is an implementation of RDF Interfaces acting as the ConcreteComponent, defining a set of terms suitable when working with RDF. This terms can then be dynamically altered by the ConcreteDecorators, that would be modules altering functionality to meet the ones expected by processors.
    </p>
    <h5 id="tth_sEc8.1.1.2"><a class="bookmark" href="#tth_sEc8.1.1.2">8.1.1.2 SPARQL</a></h5>
    <p id="sec:DiscussionRepresentationOfSPARQL">
        Representing SPARQL has been easier to work with than RDF, as it has been handled by the components that are all part of the rdfstore-js project. rdfstore-js makes use of the standards defined by W3C, such as the SPARQL Algebra<a href="#tthFtNtAGC" name="tthFrefAGC"><sup>62</sup></a>. The grammar in the algebra maps mostly to the grammar in the SPARQL 1.1 Query Language, and each grammar token is easily represented in JS. This led to the following components:
    </p>
    <ol type="1">
        <li>The Query module: A bridge to the Query parser, so that we could change/alter the behavior of the Query module independently of the Query Parser.</li>
        <li>The Query Parser module: A simple implementation of the Strategy pattern, allowing me to insert other parsers if needed. As of this writing, it only makes use of the SPARQL parser, but another possibility is to parse jSPARQL, a serialization introduced by the Backplane project (section <a href="#sec:DiscussionBackplaneJS">8.7.1</a>).</li>
        <li>The SPARQL module: A SPARQL parser with a set of public functions that may parse parts of a query. As I did not have time to create a complete parser, I made use of the parser from rdfstore-js, which is used when there is need to parse a complete query.</li>
    </ol>
    <p>
        This meant that implementing the Query module would simply mean reuse the various representations of tokens, and inserting them wherever appropriate. However, this endeavor proved harder than anticipated, when I discovered that the SPARQL parser produced two distinct structures of patterns.
    </p>
    <p>
        This forced me to implement logic that tested which of the trees were used as base for the query, and implement different behavior accordingly. This differences probably also has an effect on the engine (as it support both kinds), and I believe the completion of a SPARQL parser independent of the one from rdfstore-js will allow easier creation of reusable components.
    </p>
    <h4 id="tth_sEc8.1.2"><a class="bookmark" href="#tth_sEc8.1.2">8.1.2 Modularity</a></h4>
    <p id="sec:DiscussionModularity">
        A feature I surprisingly spent a lot of time on was modularity. One issue was that I needed to support flexibility, since I wanted to return the modules as either:
    </p>
    <ul>
        <li>A map of functions (i.e. an object without any intrinsic data),</li>
        <li>An instantiated object (i.e. an object with intrinsic data), or</li>
        <li>A function (be it a constructor or not).</li>
    </ul>
    <p>
        In the process I identified five patterns of modular JavaScript patterns, which are explained in section <a href="#sec:JavascriptModules">2.2.8</a>. I decided to go for the AMD pattern, as this was the first pattern supported by the test framework, Buster. This was in spite the fact that neither rdfstore-js nor rdfQuery used this pattern (they use CommonJS Modules and namespaces respectively). That being said, it was not very hard to convert either.
    </p>
    <p>
        This has led to some consequences though, that I want to highlight here. The first is that the sheer number of modules are not necessarily a good match with asynchronous loading. When I have tested the demo (chapter <a href="#chap:Demo">7</a>), loading modules takes about one second. This can be remedied, as RequireJS (amongst others) features a code optimizer. In addition to minifying the code (removing whitespace, shortening names, etc) it also throws all modules into one file (by using it on Graphite it turn about 1.8 MB into approximately 350 kB). The optimizer is not to happy about the uses of regular expressions though, and as of yet I cannot use the optimized code. So I do not know how the framework would have fared if being optimized.
    </p>
    <p>
        A complication of choosing AMD as the module pattern is that most server-side runtime environments do not support it out of the box. This was considered when I chose to go with AMD, as I focused on creating a framework for the web first and foremost. Luckily, there are tools that enable us to run AMD based modules on server-side (e.g. RequireJS has a module for Node<a href="#tthFtNtAGD" name="tthFrefAGD"><sup>63</sup></a>). But that does add complexity and increases the overhead of the framework.
    </p>
    <h4 id="tth_sEc8.1.3"><a class="bookmark" href="#tth_sEc8.1.3">8.1.3 The Engine</a></h4>
    <p id="sec:DiscussionEngine">
        The Engine module is probably the most powerful module of all the modules implemented in Graphite, and it is one of the cornerstones of the framework. It is also the most complex and difficult to understand module, and requires further work.
    </p>


    <p>
        In addition, how it works should be more transparent. I believe one way of doing this to use proven design patterns. I have already mentioned its shaky implementation of the Builder pattern, and how it acts a facade (i.e. using the Facade pattern). But this is probably not a conscious choice, but rather a result of me trying to understand the inner working. I also identified parts of an Observer-pattern, which could be leveraged further.
    </p>
    <h5 id="tth_sEc8.1.3.1"><a class="bookmark" href="#tth_sEc8.1.3.1">8.1.3.1 Entailment</a></h5>
    <p id="sec:DiscussionEntailment">
        Graphite does not support inferring data in any way. When querying, the engine merely looks for patterns, and does no attempt of backward of forward reasoning. I believe that this could be made possible through a plug-in system for the engine. The developer could configure the engine with a specific entailment regime (falling back to simple or no entailment by default), in essence using the Strategy pattern (or maybe the Decorator pattern). This requires a more rigid structure of the engine, i.e. a standard set of functions that plug-in developers could use as hooks.
    </p>
    <p>
        I believe this task might be too tedious for a web-based application, but could be useful if one were to port the framework to the server-side (further discussed in section <a href="#sec:DiscussionJSServerside">8.1.5</a>), making applications such as SPARQL end-points more powerful.
    </p>
    <h5 id="tth_sEc8.1.3.2"><a class="bookmark" href="#tth_sEc8.1.3.2">8.1.3.2 External Service</a></h5>
    <p id="sec:DiscussionExternalService">
        As of now Graphite only supports working with an internal engine. In case developers want to make use of external processing power, such as to make use of federated queries in SPARQL, a module should be interchangeable with the engine, and as such they should offer the same interface.
    </p>
    <h4 id="tth_sEc8.1.4"><a class="bookmark" href="#tth_sEc8.1.4">8.1.4 Asynchronous Functionality</a></h4>
    <p id="sec:DiscussionAsynchronousFunctionality">
        One important feature I have made use of is the possibility to load resources asynchronously. I have also made it so that the sequence in which queries are inserted are ordered, so querying <span class="teletype">INSERT DATA</span> before <span class="teletype">SELECT</span> will ensure that the data is loaded into the graph before the results for the <span class="teletype">SELECT</span> query are prepared.
    </p>
    <p>
        In the progress of ensuring this I have been somewhat over-zealous, as I ended up not differing between multiple use of <span class="teletype">LOAD</span> queries. This means that loading data using the <span class="teletype">LOAD</span> query will result in a halt in asynchronous loading, i.e. it will in effect be synchronous (waiting for one resource to have been loaded and processed before starting the other). This should be differentiated, so that the framework can load and deserialize representations so that the data is ready for processing when the engine is available.
    </p>
    <p>
        Another take on this is to make use of the Observer pattern, and implement the result from SPARQL queries as objects that can be notified when there are changes to the dataset. To give an idea of how this might worked, we can see how the framework AngularJS handles data-binding<a href="#tthFtNtAGE" name="tthFrefAGE"><sup>64</sup></a>. They alleviate the need for DOM manipulation on web pages by maintaining a connection between the data presented and the model they are based on. Whenever there is change in the model, that will be reflected in the view. This effect could be useful when working with RDF as well, and would probably be appreciated by developers.
    </p>
    <h5 id="tth_sEc8.1.4.1"><a class="bookmark" href="#tth_sEc8.1.4.1">8.1.4.1 XDR</a></h5>
    <p id="sec:DiscussionXDR">
        As a warning, I have included this bit on using the XDR object that is available in some of <abbr title="Internet Explorer">IE</abbr> browsers. It was designed to handle data-transfer across domains, to overcome SOP (section <a href="#sec:JavascriptSameOriginPolicy">2.2.5.1</a>). This is a design it shares with XHR2, but they differ in some important ways.
    </p>
    <p>
        Most importantly, the developer is not allowed to customize the header sent, i.e. he cannot specify in which format he wishes the data to be replied. Also, GET and POST are the only allowed verbs, and no authentication or cookies are allowed to be sent, meaning modifying through a SPARQL end-point is very difficult. There are other caveats of using XDR<a href="#tthFtNtAGF" name="tthFrefAGF"><sup>65</sup></a>, but these should be enough to get the message: Stay clear of using XDR to request cross-domain resources.
    </p>
    <h4 id="tth_sEc8.1.5"><a class="bookmark" href="#tth_sEc8.1.5">8.1.5 Server-side implementation</a></h4>
    <p id="sec:DiscussionJSServerside">
        I have restrained myself to limit Graphite to support browser environment first and foremost. But I have not let the prospect of supporting server-side environment go completely. By using feature detection we can test which implementation to use (i.e. we have implemented the modules in question using the Strategy pattern), reusing a lot of the code.
    </p>
    <p>
        The reason I think a server-side implementation should not be thrown off the table is that I think some functionality are best handled server-side, given challenges such as security, resource allocation, data storage, and many more. I believe that supporting both environments would increase the usefulness of the library, as developers would not need to use two different frameworks in case they want to implement an application on both client-side and server-side.
    </p>
    <h4 id="tth_sEc8.1.6"><a class="bookmark" href="#tth_sEc8.1.6">8.1.6 Marketing of SW in JS communities</a></h4>
    <p id="sec:DiscussionSWvsLD">
        I have mentioned briefly (in section <a href="#sec:SemanticWebSerializationJSONLD">2.1.5.6</a>) that JSON-LD CG is skeptical to promote JSON-LD as a serialization of RDF, and by extension promoting as part of the SW standards. This is a legitimate skepticism, as SW has its fair share of skeptics.
    </p>
    <p>
        One skeptic is Luciano Floridi, who in his publication "Web 2.0 vs. the Semantic Web: A Philosophical Assessment" writes "Regarding the Semantic Web, I argue that it is a clear and well-defined project, which, despite some authoritative views to the contrary, is <em>not</em> a promising reality and will probably fail in the same way AI has failed in the past" [<a href="#Web20VSSW:2009:Article" data-name="CITEWeb20VSSW:2009:Article">20</a>].
    </p>
    <p>
        Mike Bergman has another view, making the observation that "the <em>structured Web</em> [...] is a transition phase from the initial document-centric Web to the eventual semantic Web" [<a href="#StructuredWeb:2007:Misc" data-name="CITEStructuredWeb:2007:Misc">4</a>]. He uses the term Structured Web, which I find interesting. I view it as a subpart of what SW is, but much more neutral and applicable in terms of attracting interest from both SW and JS communities.
    </p>
    <p>
        I tend to agree with JSON-LD CG that SW might be a bit to much to heave upon newcomers. And especially if newcomers come from the JS community, they might not be interested in all the baggage SW offers. They want something that allows them to plug into the increasingly richness of data on WWW. But is also needs to be easy to use, and promote good practices. SW has a lot going on it for the latter part (being part of W3C, having a good process of standardizing), but still have much to desire on the former.
    </p>
    <p>
        Now, this thesis is not a philosophical study, nor have I any data in social research of JS communities to make any claim of what is the "best way" to go. I simply offer my thought that SW as a whole might be a bit too much for newcomers that are used to working with JS. I believe that emphasis should be put on what your work do, what problems it solves, and maybe tone down the promises SW offers to solve. Keep it simple and pragmatic. That, at least, is my two cents.
    </p>
    <h3 id="tth_sEc8.2"><a class="bookmark" href="#tth_sEc8.2">8.2 JS and SDP</a></h3>
    <p id="sec:DiscussionJSandSDP">
        Applying SDPs in JS can be problematic because of the trivial fact that most design patterns are not designed with JS in mind. And this is the way it should be, as truly good, reusable SDPs can be used independently of any programming language. But one feature that many SDPs assume is contracts, i.e. interfaces. JS does not support this, and the closest emulations are objects that tests the presence of properties.
    </p>
    <p>
        The absence of interfaces leaves us with a choice: do we want to use emulations or drop them altogether. In this thesis I have chosen to go with the latter, as I already test for a modules' properties with unit tests. The fact that I have implemented this framework on my own is also a factor, as there have been no need for a contracted API in order to collaborate easier with other developers. That is a factor that could change though, and preparations should be made.
    </p>
    <p>
        I believe that documentation is a viable alternative for communicating a contracted API. Documentation could be spread across multiple documents, depending on the flexibility and social functions needed (e.g. a comment field, to invite others to pitch their ideas). But the continuing life of Graphite is outside the scope of this thesis, and I will not dwell on it further in this text.
    </p>
    <h4 id="tth_sEc8.2.1"><a class="bookmark" href="#tth_sEc8.2.1">8.2.1 Third party libraries</a></h4>
    <p id="sec:Discussion3rdPartyLibraries">
        Third party libraries are mentioned in this context as it has been a recurring theme that none of the code I have implemented from third party libraries have been structured with SDPs in mind (or so it seems). Although I am not qualified to offer any in-depth analyzes of why this is the case, I do have some hypotheses that may be of interest.
    </p>
    <p>
        One reason is the simple fact that design patterns do not seem to be very popular in JS. Reasons for this are entirely speculations on my part, but I believe design patterns are rooted in communities that have not opened their eyes for JS yet. I think this will change though, as JS becomes more popular in the professional communities, especially those that have a degree in <abbr title="Computer Science">CS</abbr> (i.e. I believe that people having a degree in CS in general are more attuned to the abstract level of solution described by SDPs).
    </p>
    <p>
        As with many of the topics discussed in this thesis, I also believe SDPs have a case of the egg and the chicken in JS. It is not that popular because there are no great examples of it, and no great examples of it are being developed because it is not popular.
    </p>
    <p>
        Another reason is the fact that many libraries are very small, and very specific to certain tasks. Especially in the Node community there seems to be a widespread philosophy to keep it simple. In those libraries, there are probably no need for SDP. But in order to alleviate the functions of those libraries, SDP can be a helpful guide in how to structure their collaboration (I hope that Graphite can be a good example of this).
    </p>
    <h5 id="tth_sEc8.2.1.1"><a class="bookmark" href="#tth_sEc8.2.1.1">8.2.1.1 Absence of the Adapter pattern</a></h5>
    <p id="sec:DiscussionAdapterPattern">
        I decided to go head on with the third party code implemented in Graphite, i.e. port the whole code instead of creating modules applying the Adapter pattern. The reasons for this was manifolded:
    </p>
    <ol type="1">
        <li>Full control of I/O: When implementing the RDF/XML and Turtle parser from rdfQuery, they did not output the data in a way I could easily insert it into the engine.</li>
        <li>Fewer modules: Applying the Adapter pattern would mean implementing an intermediary module, and increase the number of modules. As discussed in section <a href="#sec:DiscussionModularity">8.1.2</a>, this may increase the time it takes to load the framework into the application.</li>
        <li>Little to no documentation: Both rdfQuery and rdfstore-js have bad documentation, i.e. either difficult to read and understand or simple missing at all. As such, it felt better to dive into the code, and learn the functionality by porting tests and iteratively adjust it.</li>
    </ol>
    <h4 id="tth_sEc8.2.2"><a class="bookmark" href="#tth_sEc8.2.2">8.2.2 Additional SDPs</a></h4>
    <p id="sec:DiscussionAdditionalDesignPatterns">
        During the development of Graphite I have stumbled across SDPs beside the ones given in the book Design Patterns. I have restricted myself to referring to this book only, but will mention some of the patterns here, as they have interesting qualities.
    </p>
    <p>
        Lazy Loading is described by Martin Fowler et.al. as a pattern that "interrupts [the] loading process for a moment, leaving a marker in the object structure so that if the data is needed it can be loaded only when it is used" [<a href="#PatternsOfEnterpriseApplicationArchitecture:2002:Book" data-name="CITEPatternsOfEnterpriseApplicationArchitecture:2002:Book">21</a>]. It may be implemented as lazy initialization, virtual proxy (used by the Proxy pattern), value holder, and ghost.
    </p>
    <p>
        Lazy initialization has in fact been used in Graphite, in the Graphite module to be exact. As it handles the manipulation offered by the Query module, it can be described as lazy initialization, first triggered when the method <span class="teletype">execute</span> is called.
    </p>
    <p>
        Addy Osmani structures two additional patterns for JS (besides the ones he has adopted from Design Patterns), namely the Constructor pattern and the Module pattern [<a href="#JavaScriptDesignPatterns:2012:Book" data-name="CITEJavaScriptDesignPatterns:2012:Book">29</a>]. I have made use of the AMD implementation, which is described as one of multiple implementations available of the latter. But when it comes to the former, I have trouble calling it a design pattern, as they simple describe the different ways to initialize objects in JS. A useful educational pattern for newcomers to JS, but not really helpful when describing the collaboration between multiple components.
    </p>
    <h4 id="tth_sEc8.2.3"><a class="bookmark" href="#tth_sEc8.2.3">8.2.3 Architectural Styles</a></h4>
    <p id="sec:DiscussionArchitecturalStyles">
        Roy Fielding has in his dissertation<a href="#tthFtNtAGG" name="tthFrefAGG"><sup>66</sup></a> a "survey of common architectural styles for network-based application software within a classification framework that evaluates each style according to the architectural properties it would induce if applied to an architecture for a prototypical network-based hypermedia system" [<a href="#Fielding:2000:PHD" data-name="CITEFielding:2000:PHD">18</a>]. He has evaluated these styles with into 13 properties (Network Performance, User-perceived Performance, Network Efficiency, Scalability, Simplicity, Evolvability, Extensibility, Customizability, Configurability, Reusability, Visibility, Portability, and Reliability) and describes five categories of style (Data-flow, Replication, Hierarchical, Mobile Code, and Peer-to-Peer).
    </p>
    <p>
        Graphite is network-based, and it could have been interesting to see if any of the styles described by Fielding could have helped communicating the purpose and work of the components. But analyzing them in the context of Fielding's work is outside the scope of this thesis, and I have included this discussion to highlight alternatives to describe the functionalities of the API.
    </p>
    <h4 id="tth_sEc8.2.4"><a class="bookmark" href="#tth_sEc8.2.4">8.2.4 <abbr title="Representational State Transfer">REST</abbr></a></h4>
    <p id="sec:DiscussionREST">
        The scope of this thesis being mentioned, a style described by Fielding that is interesting to take an extra look upon is REST. The reason for this is that REST is becoming increasingly popular, also within the JS community<a href="#tthFtNtAGH" name="tthFrefAGH"><sup>67</sup></a>. There is also work done on REST with RDF<a href="#tthFtNtAGI" name="tthFrefAGI"><sup>68</sup></a>.
    </p>
    <p>
        It could be interesting to either extend or use Graphite as part of an application that implements REST. This could become a platform for automating interaction with data structured in RDF, and leverage is usability to something more than a framework.
    </p>
    <h3 id="tth_sEc8.3"><a class="bookmark" href="#tth_sEc8.3">8.3 JS and TDD</a></h3>
    <p id="sec:DiscussionJSandTDD">
        Buster has been a delight to work with, and been a valuable asset to the development of Graphite. I will recommend all to use TDD as a tool to produce good and solid code, and Buster is a good alternative to use. If the syntax is not your cup of tea, there are other viable options, such as JsTestDriver (backed by Google<a href="#tthFtNtAGJ" name="tthFrefAGJ"><sup>69</sup></a>) and Jasmine (behavior-driven<a href="#tthFtNtAHA" name="tthFrefAHA"><sup>70</sup></a>).
    </p>
    <p>
        The definitive gain in using TDD when writing your code is the ease you profit when refactoring code. developing Graphite has involved several rewrites, and failing tests have shown the way to patch things up when something goes wrong. This will also help other developers, if any should join in to collaborate, as they can test that their additions/revisions will not break existing functionality.
    </p>
    <p>
        There is also the possibility to use test for code coverage (a value that describe to which degree the source code has been tested), with tools such JSCoverage<a href="#tthFtNtAHB" name="tthFrefAHB"><sup>71</sup></a>. There is a project to run code coverage in Buster (buster-coverage<a href="#tthFtNtAHC" name="tthFrefAHC"><sup>72</sup></a>), but I have not been able to apply it.
    </p>
    <h3 id="tth_sEc8.4"><a class="bookmark" href="#tth_sEc8.4">8.4 SDP and TDD</a></h3>
    <p id="sec:DiscussionSDPandTDD">
        As already mentioned in section <a href="#sec:DiscussionJSandSDP">8.2</a>, applying SDPs in JS projects may prove difficult since JS do not offer contracts to objects. Use of TDD may remedy this fact, as we can test for properties. One way of implementing this is shown in listing <a href="#lst:TestJavaScriptContract">8.2</a>.
    </p>


    <div class="figure" id="tth_fIg8.2">
        <pre>function testProperties(obj, properties) {
  var prop;
  for (prop in properties) {
    if (!obj.hasOwnProperty(prop)) throw new Error("Haven't implemented property " + prop);
  }
}
// using the Buster framework
buster.testCase("Testing contract", {
  "A test that passes": function () {
    var myObj = { propA: 42 };
    refute.exception(function () {
      testProperties(myObj, [ "propA" ]);
    });
  },
  "A test that fails": function () {
    var myObj = {};
    refute.exception(function () {
      testProperties(myObj, [ "propA" ]);
    });
  }
});</pre>
        <div class="caption" id="lst:TestJavaScriptContract">
            Figure 8.2: Testing for properties in JS
        </div>
    </div>
    <p>
        The example could be further elaborated, e.g. by automatically check modules that participates as ConcreteStrategy in the Strategy pattern.
    </p>
    <h3 id="tth_sEc8.5"><a class="bookmark" href="#tth_sEc8.5">8.5 SW and SDP</a></h3>
    <p id="sec:DiscussionSWandSDP">
        Some parts of SW may not gain much by involving SDPs, but I believe they can be effectively used by implementors that wish to create reusable components. The specifications do not say to much of how to implement the collaboration across the standard they propose, and it is this gap that SDP may be used as social contracts.
    </p>
    <h3 id="tth_sEc8.6"><a class="bookmark" href="#tth_sEc8.6">8.6 SW and TDD</a></h3>
    <p id="sec:DiscussionSWandTDD">
        Many of the specifications that take part of SW contains test suites, and TDD is perfectly suited to test the development of implementations trying to support these. In many cases it can help identifying problems within implementations, becoming a common, objective ground for developers to discuss solutions.
    </p>
    <h3 id="tth_sEc8.7"><a class="bookmark" href="#tth_sEc8.7">8.7 Related Work</a></h3>
    <p id="sec:DiscussionRelatedWork">
        During my work on this thesis, I have yet to find academic work that tread the same path as I have outlined. But I have found several libraries that tries to solve the same problem Graphite has undertaken, and that may offer interesting features. Two of them, rdfQuery and rdfstore-js, as I have mentioned several times throughout this thesis, have offered me several reusable components. In this section I will elaborate on their success, independent of their implementation in Graphite.
    </p>
    <p>
        I have also listed additional libraries of interest, and all in all there are 12 of them. For a complete list of projects I researched in search of related work, see appendix <a href="#chap:AppendixRelatedWork">C</a>.
    </p>
    <h4 id="tth_sEc8.7.1"><a class="bookmark" href="#tth_sEc8.7.1">8.7.1 Backplane</a></h4>
    <p id="sec:DiscussionBackplaneJS">
        Backplane "provides a range of open source components [...] that work together to deliver a fresh approach to web application building" [<a href="#Backplane:2012:Misc" data-name="CITEBackplane:2012:Misc">10</a>]. The owner of this project is Mark Birbeck, who also is the author of the Ubiquity RDFa parser project<a href="#tthFtNtAHD" name="tthFrefAHD"><sup>73</sup></a>, which has been absorbed into Backplane as the RDFa module<a href="#tthFtNtAHE" name="tthFrefAHE"><sup>74</sup></a>.
    </p>
    <p>
        The project introduces jSPARQL, which sets out to be "an object-based serialization of SPARQL queries" [<a href="#JSparqlTutorial:2012:misc" data-name="CITEJSparqlTutorial:2012:misc">11</a>]. Although jSPARQL seems to have some interesting properties, I have not had the time to analyze it thoroughly to see its compatibility with full SPARQL. If it is a match, it could be interesting to evolve it further, and make it a part of Graphite.
    </p>
    <p>
        Backplane is an interesting project in and of itself, but does not seem to have an active development anymore. The last commit was 27th of February 2011, and seems to mark the end of almost one and a half year of development.
    </p>
    <h4 id="tth_sEc8.7.2"><a class="bookmark" href="#tth_sEc8.7.2">8.7.2 Javascript RDF/Turtle Parser</a></h4>
    <p id="sec:DiscussionJSRDFTurtleParser">
        The JavaScript RDF/Turtle Parser is one of many RDF related projects/experiments that Masahide Kanzaki have developed<a href="#tthFtNtAHF" name="tthFrefAHF"><sup>75</sup></a>. It parses Turtle into JSON, is quite compact (547 lines), and may do the job good enough. It has some issues, but should be easy to fix if one would like to take this approach.
    </p>
    <h4 id="tth_sEc8.7.3"><a class="bookmark" href="#tth_sEc8.7.3">8.7.3 JS3</a></h4>
    <p id="sec:DiscussionJS3">
        JS3 was first committed 19th of November, 2010 and last updated three days later. It describes itself as "An insane integration of RDF in ECMAScript-262 V5" [<a href="#JS3Github:2010:Misc" data-name="CITEJS3Github:2010:Misc">32</a>]. It sports an API for manipulating RDF values and to some extent graphs. But it has no parsing, reasoning or querying capacities.
    </p>
    <h4 id="tth_sEc8.7.4"><a class="bookmark" href="#tth_sEc8.7.4">8.7.4 jsonld.js</a></h4>
    <p id="sec:DiscussionJSONLDJS">
        JSON-LD CG has developed, as part of the work on JSON-LD, several implementations of JSON-LD processors. One of these is jsonld.js, which is available on GH<a href="#tthFtNtAHG" name="tthFrefAHG"><sup>76</sup></a>. Chances are that this processor will feature good code that could be reused in other JS projects.
    </p>
    <h4 id="tth_sEc8.7.5"><a class="bookmark" href="#tth_sEc8.7.5">8.7.5 Jstle</a></h4>
    <p id="sec:DiscussionJstle">
        Jstle was first committed 21st of April 2010, and last updated three days later. It describes itself as "Jstle is a terse JavaScript RDF serialization language" [<a href="#JstleGithub:2010:Misc" data-name="CITEJstleGithub:2010:Misc">28</a>]. It is a proof of concept, and seems to provide a Turtle-like representation of RDF in JS. But no support for parsing, reasoning or querying.
    </p>
    <h4 id="tth_sEc8.7.6"><a class="bookmark" href="#tth_sEc8.7.6">8.7.6 rdflib.js</a></h4>
    <p id="sec:DiscussionRDFLibJS">
        rdflib.js seems to be more of a collection of RDF related functionality at the moment than a complete framework for working with RDF with JS. In some cases it also seems like a continuation of rdfQuery, as much of its code resembles a lot (e.g. the use of $rdf as namespace, its dependency on jQuery, and that its structured as a namespace at all). At the moment it features (quoted from the projects webpage [<a href="#RdfLib:2012:Misc" data-name="CITERdfLib:2012:Misc">30</a>]):
    </p>
    <ul>
        <li>Parses RDF/XML, Turtle, N3, and RDFa.</li>
        <li>Serializes RDF/XML, Turtle, and N3.</li>
        <li>Partial SPARQL support.</li>
        <li>Read/Write Linked Data client, using <abbr title="Web Distributed Authoring and Versioning">WebDav</abbr> or SPARQL Update.</li>
        <li>Local API for querying store.</li>
        <li>Can be run server-side with Node.</li>
    </ul>
    <p>
        As mentioned, rdflib.js uses namespaces to structure its code, and this makes it somewhat hard to decouple, not to say reuse. But it does seem to have an active development, and having Tim Berners-Lee contributing is not hurting. Also, although I have not found any source that confirms it, I suspect rdflib.js to be a continuation of the Tabulator project. Read more in section <a href="#sec:DiscussionTabulator">8.7.12</a>.
    </p>
    <p>
        rdflib.js is available at GH<a href="#tthFtNtAHH" name="tthFrefAHH"><sup>77</sup></a>.
    </p>
    <h4 id="tth_sEc8.7.7"><a class="bookmark" href="#tth_sEc8.7.7">8.7.7 rdfstore-js</a></h4>
    <p id="sec:DiscussionRDFStore">
        rdfstore-js seems to me to be the most complete project in terms of API and expressive power. It features partial SPARQL support, some parsers, and it uses some standards (full list of features can be read at section <a href="#sec:UsedLibraryRDFStore">5.3</a>).
    </p>
    <p>
        The project has some following<a href="#tthFtNtAHI" name="tthFrefAHI"><sup>78</sup></a>, but is mostly a one-man project (Antonio Garrote). This may contribute to the fact that the project has a complete API, and has a overall good architecture. It has a steady development since the first commit was made in 17th of February 2011, and nothing implies this to change anytime soon.
    </p>
    <p>
        The module pattern implemented is CommonJS modules (section <a href="#sec:DiscussionModularity">8.1.2</a>), which makes it a perfect fit for Node, but may also be run in browsers. The project do contain quite messy code at times, which is quite clear in the tests. Also, I suspect the coverage is quite low, as some modules do not have tests at all.
    </p>
    <p>
        rdfstore-js is, as it declare in its description, "still at the beginning of its development" [<a href="#RdfStore:2012:Misc" data-name="CITERdfStore:2012:Misc">23</a>], but I believe this project to have a lot of potential.
    </p>
    <h4 id="tth_sEc8.7.8"><a class="bookmark" href="#tth_sEc8.7.8">8.7.8 rdfQuery</a></h4>
    <p id="sec:DiscussionrdfQuery">
        rdfQuery do seem to suffer from inactive development. It has two code bases, one at Google Code<a href="#tthFtNtAHJ" name="tthFrefAHJ"><sup>79</sup></a> and one at GitHub<a href="#tthFtNtAIA" name="tthFrefAIA"><sup>80</sup></a> (the latter mirrors the former, and promises to commit its changes to the original code base). The last change to Google Code was 3rd of September 2011, while the last to GitHub was 21st of June 2011. So it seems that the development has gone somewhat stale.
    </p>
    <p>
        rdfQuery do seem to be mentioned more often than rdfstore-js, which may be because the fact that its older (the first commit was 17th of October 2008), and may have been the first JS based project that actually got implemented a big code base. That is at least what seems to be the case during my research into this.
    </p>
    <p>
        The module pattern implemented is namespaces, which makes it somewhat hard to decouple. It also is dependent on jQuery, i.e. increasing the code overhead, which may be of distaste for some developers.
    </p>
    <p>
        Although rdfQuery do not have an active development any longer, it still has a lot of good code, and some of it is very reusable (as proven in Graphite). And it will probably be useful as a reference for other projects, but it does not seem to have any traction of its own anymore.
    </p>
    <h4 id="tth_sEc8.7.9"><a class="bookmark" href="#tth_sEc8.7.9">8.7.9 Sgvizler</a></h4>
    <p id="sec:DiscussionSgvizler">
        Sgvizler<a href="#tthFtNtAIB" name="tthFrefAIB"><sup>81</sup></a> is a library in JS "which renders the result of SPARQL <span class="teletype">SELECT</span> queries into charts or HTML elements" [<a href="#Sgvizler:2012:Article" data-name="CITESgvizler:2012:Article">35</a>]. It is a cool display of how data fetched with SPARQL can be presented on web pages. During the development of Graphite, I wanted to include a demo that made use of Sgvizler, but in the end I did not have time for it.
    </p>
    <p>
        It is important to note that Sgvizler is not a framework for handling data structured with RDF, but rather a presentation tool. Its scope may be narrow, but it does what it does good.
    </p>
    <h4 id="tth_sEc8.7.10"><a class="bookmark" href="#tth_sEc8.7.10">8.7.10 Simple JavaScript RDF parser and query thingy</a></h4>
    <p id="sec:DiscussionSimpleJavascriptRDFThingy">
        The development of the Simple JavaScript RDF parser and query thingy seems to be around 5th of November 2005. Its latest version came out 25th of May 2006, and it does not seem to have any big usage. It supports loading and parsing of RDF/XML-documents, and a crude API for querying.
    </p>
    <h4 id="tth_sEc8.7.11"><a class="bookmark" href="#tth_sEc8.7.11">8.7.11 SPARQL JavaScript Library</a></h4>
    <p id="sec:DiscussionSPARQLJSLib">
        The SPARQL JavaScript Library is presented as part of a demonstration of a SPARQL calendar<a href="#tthFtNtAIC" name="tthFrefAIC"><sup>82</sup></a>. It offers some simple handling of SPARQL, which ultimately can be used against a SPARQL endpoint. The code is fairly simple (490 <abbr title="Source lines of code">SLOC</abbr>), have some dependencies, but should be easy to integrate into your own project.
    </p>
    <h4 id="tth_sEc8.7.12"><a class="bookmark" href="#tth_sEc8.7.12">8.7.12 Tabulator</a></h4>
    <p id="sec:DiscussionTabulator">
        The Tabulator project is a "generic data browser and editor" [<a href="#Tabulator:2012:Misc" data-name="CITETabulator:2012:Misc">40</a>]. It is offered in two ways, as a Firefox extension and as a web application. It does not seem to be developed any further, but its code base (whole &nbsp;120 files of JS) offers a lot of functionality, and it seems that some of it is continued in rdflib.js (such as the files jquery.uri.js and jquery.xmlns.js). Tim Berners-Lee was also involved in the Tabulator project, so this may not come as a big surprise.
    </p>

    <h2 id="tth_chAp9"><a class="bookmark" href="#tth_chAp9">Chapter 9<br />Conclusion</a></h2>
    <p id="chap:Conclusion">
        As part of this thesis I implemented Graphite, a framework that offers an API in JS for accessing SW. I used parts of other projects and sewed it all together to one, functional prototype. It is not complete, further work is required, but it stands as an example of how a framework could look and behave.
    </p>
    <p>
        Creating a framework offers many challenges. How should the code be structured? If you wish to modularize your functionality, how should you divide it? Is the increased overhead of modularity justifiable? What are the appropriate ways to make your components collaborate? All these questions, and more, have found their answers in Graphite.
    </p>
    <p>
        Graphite is an example of how a framework <em>could</em> look like. This time I emphasize could, because this is merely one of many possible implementations that can be made. Implementations that have other answers to the challenges they faced. And this fact reveals one of the conclusions this thesis offers: Components should be created with reusability in mind. This is definitely the case with framework configured to handle resources in SW.
    </p>
    <p>
        SW is like a big cake of standards. Each slice contains a mixture of its ingredients, and even if you were to split them into separate parts, like glaze, it is still best consumed together. The metaphor can also be used to explain why we need multiple parts to make it all work (i.e. to make the cake taste good); some parts (e.g. sodium and flour), is just not good by itself.
    </p>
    <p>
        SW consists of many standards, and to mix them all together takes some planning. In this thesis I have used SDPs as guides to map participants and collaborations. This proved to be somewhat complex, as there were two factors working against us: One is that JS does not support interfaces, which is used thoroughly in the classic descriptions. Another is that none of the third party code I implemented seemed to have SDPs in mind when implemented, which meant that I had to restructure some code to fit my purpose.
    </p>
    <p>
        Restructuring is a cumbersome process, which introduces many opportunities to break existing functionality. I used TDD throughout the development to prevent this, which proved effective. It also allowed me to move code across modules, to restructure the very purpose of modules. Patterns have guided me in this process, and I believe it to be an effective route.
    </p>
    <p>
        The construction of Graphite has been an important part of the realizations revealed in this thesis. If anything, it has shown that the magnitude of SW requires many components to collaborate. It also shows that one framework probably will not "get" it all. So to ease the work of developers, both those constructing the frameworks and those using them, care should be made to make components reusable. And to guide how those components should function and be structured, we use standards, to tap into the work of many, bright people before us.
    </p>
    <h3 id="tth_sEc9.1"><a class="bookmark" href="#tth_sEc9.1">9.1 Further Work</a></h3>
    <p id="sec:ConclusionFurtherWork">
        Work that may be derived from this thesis is naturally concentrated on improving the code of Graphite. I have mentioned aspects that could be interesting to look into, such as using the architectural styles introduced by Roy Fielding to analyze frameworks in JS.
    </p>
    <p>
        But the most interesting work would probably involve improvement of the implementation. Some suggestions of aspects to look into are:
    </p>
    <ul>
        <li>The engine needs to be decoupled and structured more clearly with SDPs in mind. This would open the code for other developers, and enable them to introduce other algorithms that are more effective. This is particularly important if we want to introduce inferring capabilities.</li>
        <li>The SPARQL parser needs to be complete, and the engine needs to be able to process all possible variances. Until that is complete, the framework can not make full use of the querying possibilities of SW.</li>
        <li>A module parsing RDFa would be useful, especially if browsers should loosen up on SOP. Also, the RDF/XML parser needs to be completed, and the JSON-LD parser probably needs to be updated (or replaced with another altogether) as the specification becomes a recommendation by W3C.</li>
        <li>Storage in browsers could be an interesting functionality to look into, as off-line capacities may become a trend. This could be used as part of caches, and thereby increase the speed of applications that are used multiple times and which do not need to fetch data from an external resource every time.</li>
        <li>The engine module should be one alternative of many; The developer should be able to configure the system to use an external SPARQL endpoint as query processor. Graphite supports this to some degree, but as of now it would be more like a hack.</li>
        <li>Graphite should be able to be run server-side. As part of this, serializers should be implemented, so that the service can serve RDF in any format requested.</li>
        <li>Are there alternatives to representing RDF internally? Both RDF JSON and JSON-LD are JSON-based serializations of RDF, maybe they are viable alternatives.</li>
        <li>Serializes: If you want to make your code available for server-side implementations, than you should probably support a couple of serializers, as developers setting up a server probably want to serve serialized RDF from your store.</li>
    </ul>
    <p>

    <h3>References</h3>

    <dl class="compact">
    <dt><a data-href="#CITEPatternLanguage:1977:Book" name="PatternLanguage:1977:Book">[1]</a></dt>
    <dd>
        Christopher Alexander, Sara Ishikawa, Murray Silverstein, Max Jacobsen, Ingrid Fiksdahl-King, and Shlomo Angel.
        <em>A Pattern Language</em>.
        Oxford University Press, 1977.
    </dd>
    <dt><a data-href="#CITERdfSyntaxGrammar:2004:Misc" name="RdfSyntaxGrammar:2004:Misc">[2]</a></dt>
    <dd>
        Dave Beckett.
        RDF/XML Syntax Specification (Revised).
        <a href="http://www.w3.org/TR/rdf-syntax-grammar/"><span class="teletype">http://www.w3.org/TR/rdf-syntax-grammar/</span></a>, February 2004.
        [Online, retrieved 11-July-2012].
    </dd>
    <dt><a data-href="#CITETurtle:2011:Misc" name="Turtle:2011:Misc">[3]</a></dt>
    <dd>
        David Beckett and Tim Berners-Lee.
        Turtle - Terse RDF Triple Language.
        <a href="http://www.w3.org/TeamSubmission/turtle/"><span class="teletype">http://www.w3.org/TeamSubmission/turtle/</span></a>, March 2011.
        [Online, retrieved 15-July-2012].
    </dd>
    <dt><a data-href="#CITEStructuredWeb:2007:Misc" name="StructuredWeb:2007:Misc">[4]</a></dt>
    <dd>
        Mike Bergman.
        More Structure, More Terminology and (hopefully) More Clarity
        AI3:::Adaptive Information.
        <a href="http://www.mkbergman.com/391/more-structure-more-terminology-and-hopefully-more-clarity/"><span class="teletype">http://www.mkbergman.com/391/more-structure-more-terminology-and-hopefully-more-clarity/</span></a>.
        [Online, retrieved 7-Aug-2012].
    </dd>
    <dt><a data-href="#CITEDesignIssueSemanticWebRoadMap:1998:Misc" name="DesignIssueSemanticWebRoadMap:1998:Misc">[5]</a></dt>
    <dd>
        Tim Berners-Lee.
        Semantic Web Road map.
        <a href="http://www.w3.org/DesignIssues/Semantic.html"><span class="teletype">http://www.w3.org/DesignIssues/Semantic.html</span></a>, November 1998.
        [Online, retrieved 10-July-2012].
    </dd>
    <dt><a data-href="#CITEN3Logic:2005:Misc" name="N3Logic:2005:Misc">[6]</a></dt>
    <dd>
        Tim Berners-Lee.
        Notation 3 Logic.
        <a href="http://www.w3.org/DesignIssues/Notation3.html"><span class="teletype">http://www.w3.org/DesignIssues/Notation3.html</span></a>, August 2005.
        [Online: Accessed 20-July-2012].
    </dd>
    <dt><a data-href="#CITEDesignIssueLinkedData:2009:Misc" name="DesignIssueLinkedData:2009:Misc">[7]</a></dt>
    <dd>
        Tim Berners-Lee.
        Linked Data.
        <a href="http://www.w3.org/DesignIssues/LinkedData.html"><span class="teletype">http://www.w3.org/DesignIssues/LinkedData.html</span></a>, June 2009.
        [Online, retrieved 14-July-2012].
    </dd>
    <dt><a data-href="#CITENotation3:2011:Misc" name="Notation3:2011:Misc">[8]</a></dt>
    <dd>
        Tim Berners-Lee and Dan Connolly.
        Notation3 (N3): A readable RDF syntax.
        <a href="http://www.w3.org/TeamSubmission/n3/"><span class="teletype">http://www.w3.org/TeamSubmission/n3/</span></a>, 2011.
        [Online, retrieved 15-July-2012].
    </dd>
    <dt><a data-href="#CITESemanticWeb:2001:Article" name="SemanticWeb:2001:Article">[9]</a></dt>
    <dd>
        Tim Berners-Lee, James Hendler, and Ora Lassila.
        The semantic web.
        <em>Scientific American</em>, 284(5):34-43, May 2001.
    </dd>
    <dt><a data-href="#CITEBackplane:2012:Misc" name="Backplane:2012:Misc">[10]</a></dt>
    <dd>
        Mark Birbeck.
        backplanejs - A JavaScript library that provides cross-browser
        XForms, RDFa, and SMIL support. - Google Project Hosting.
        <a href="https://code.google.com/p/backplanejs/"><span class="teletype">https://code.google.com/p/backplanejs/</span></a>.
        [Online, retrieved 7-Aug-2012].
    </dd>
    <dt><a data-href="#CITEJSparqlTutorial:2012:misc" name="JSparqlTutorial:2012:misc">[11]</a></dt>
    <dd>
        Mark Birbeck.
        TutorialUsingJsparql - ubiquity-rdfa - This tutorial shows how to
        use jSPARQL, a JSON serialisation of SPARQL. - The Ubiquity RDFa parser
        project - Google Project Hosting.
        <a href="http://code.google.com/p/ubiquity-rdfa/wiki/TutorialUsingJsparql"><span class="teletype">http://code.google.com/p/ubiquity-rdfa/wiki/TutorialUsingJsparql</span></a>.
        [Online, retrieved 7-Aug-2012].
    </dd>
    <dt><a data-href="#CITELinkedDataStorySoFar:2009:Misc" name="LinkedDataStorySoFar:2009:Misc">[12]</a></dt>
    <dd>
        Christian Bizer, Tom Heath, and Tim Berners-Lee.
        Linked Data - The Story So Far.
        <a href="http://tomheath.com/papers/bizer-heath-berners-lee-ijswis-linked-data.pdf"><span class="teletype">http://tomheath.com/papers/bizer-heath-berners-lee-ijswis-linked-data.pdf</span></a>.
        [Online, retrieved 14-July-2012].
    </dd>
    <dt><a data-href="#CITERdfSchema:2004:Misc" name="RdfSchema:2004:Misc">[13]</a></dt>
    <dd>
        Dan Brickley and R.V. Guha.
        RDF Vocabulary Description Language 1.0: RDF Schema.
        <a href="http://www.w3.org/TR/rdf-schema/"><span class="teletype">http://www.w3.org/TR/rdf-schema/</span></a>, February 2004.
        [Online, retrieved 11-July-2012].
    </dd>
    <dt><a data-href="#CITEWhen:2012:Misc" name="When:2012:Misc">[14]</a></dt>
    <dd>
        Brian Cavalier.
        cujojs/when.
        <a href="https://github.com/cujojs/when"><span class="teletype">https://github.com/cujojs/when</span></a>.
        [Online, retrieved 7-Aug-2012].
    </dd>
    <dt><a data-href="#CITEJavascriptMisunderstood:2001:Misc" name="JavascriptMisunderstood:2001:Misc">[15]</a></dt>
    <dd>
        Douglas Crockford.
        JavaScript: The World's Most Misunderstood Programming Language.
        <a href="http://www.crockford.com/javascript/javascript.html"><span class="teletype">http://www.crockford.com/javascript/javascript.html</span></a>, January 2001.
        [Online, retrieved 10-July-2012].
    </dd>
    <dt><a data-href="#CITERFC4627:2006:Misc" name="RFC4627:2006:Misc">[16]</a></dt>
    <dd>
        Douglas Crockford.
        The application/json Media Type for JavaScript Object Notation (JSON).
        <a href="http://www.ietf.org/rfc/rfc4627.txt"><span class="teletype">http://www.ietf.org/rfc/rfc4627.txt</span></a>, July 2006.
        [Online, retrieved 19-July-2012].
    </dd>
    <dt><a data-href="#CITEEcmascriptSpec:2011:Manual" name="EcmascriptSpec:2011:Manual">[17]</a></dt>
    <dd>
        Ecma International.
        <em>ECMAScript Language Specification</em>, 2011.
        [Online, retrieved 13-July-2012].
    </dd>
    <dt><a data-href="#CITEFielding:2000:PHD" name="Fielding:2000:PHD">[18]</a></dt>
    <dd>
        Roy&nbsp;Thomas Fielding.
        <em>Architectural Styles and the Design of Network-based Software Architectures</em>.
        PhD thesis, University of California, 2000.
        [Available online
        <a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/net_arch_styles.htm"><span class="teletype">http://www.ics.uci.edu/~fielding/pubs/dissertation/net_arch_styles.htm</span></a>, retrieved 27-July-2012].
    </dd>
    <dt><a data-href="#CITEJavaScriptDefinitiveGuide:2011:Book" name="JavaScriptDefinitiveGuide:2011:Book">[19]</a></dt>
    <dd>
        David Flanagan.
        <em>JavaScript: The Definitive Guide, Sixth Edition</em>.
        O'Reilly Media, Inc., 2011.
    </dd>
    <dt><a data-href="#CITEWeb20VSSW:2009:Article" name="Web20VSSW:2009:Article">[20]</a></dt>
    <dd>
        Luciano Floridi.
        Web 2.0 vs. the semantic web: A philosophical assessment.
        <em>Episteme</em>, 6(1):25-37, 2009.
    </dd>
    <dt><a data-href="#CITEPatternsOfEnterpriseApplicationArchitecture:2002:Book" name="PatternsOfEnterpriseApplicationArchitecture:2002:Book">[21]</a></dt>
    <dd>
        Martin Fowler, David Rice, Matthew Foemmel, Edward Hieatt, Robert Mee, and
        Randy Stafford.
        <em>Patterns of Enterprise Application Architecture</em>.
        Addison Wesley, 2002.
    </dd>
    <dt><a data-href="#CITEDesignPatterns:1994:Book" name="DesignPatterns:1994:Book">[22]</a></dt>
    <dd>
        Erich Gamma, Richard Helm, Ralph Johnson, and John Vlissides.
        <em>Design Patterns - Elements of Reusable Object-Oriented Software</em>.
        Addison-Wesley, 1994.
    </dd>
    <dt><a data-href="#CITERdfStore:2012:Misc" name="RdfStore:2012:Misc">[23]</a></dt>
    <dd>
        Antonio Garrote.
        antoniogarrote/rdfstore-js.
        <a href="https://github.com/antoniogarrote/rdfstore-js/"><span class="teletype">https://github.com/antoniogarrote/rdfstore-js/</span></a>.
        [Online, retrieved 7-Aug-2012].
    </dd>
    <dt><a data-href="#CITESemanticWebProgramming:2009:Book" name="SemanticWebProgramming:2009:Book">[24]</a></dt>
    <dd>
        John Hebeler, Matthew Fisher, Ryan Blace, and Andrew Perez-Lopez.
        <em>Semantic Web Programming</em>.
        Wiley Publishing, Inc., 2009.
    </dd>
    <dt><a data-href="#CITEFoundations:2010:Book" name="Foundations:2010:Book">[25]</a></dt>
    <dd>
        Pascal Hitzler, Markus Krtsch, and Sebastian Rudolph.
        <em>Foundations of Semantic Web</em>.
        Chapman &amp; Hall/CRC, 2010.
    </dd>
    <dt><a data-href="#CITERdfConcepts:2004:Misc" name="RdfConcepts:2004:Misc">[26]</a></dt>
    <dd>
        Graham Klyne and Jeremy&nbsp;J. Carroll.
        Resource Description Framework (RDF): Concepts and Abstract Syntax.
        <a href="http://www.w3.org/TR/rdf-concepts/"><span class="teletype">http://www.w3.org/TR/rdf-concepts/</span></a>, February 2004.
        [Online, retrieved 11-July-2012].
    </dd>
    <dt><a data-href="#CITEInfoworldJavascriptCreatorInterview:2008:Misc" name="InfoworldJavascriptCreatorInterview:2008:Misc">[27]</a></dt>
    <dd>
        Paul Krill.
        JavaScript creator ponders past, future.
        <a href="http://www.infoworld.com/print/39704"><span class="teletype">http://www.infoworld.com/print/39704</span></a>, June 2008.
        [Online, retrieved 10-July-2012].
    </dd>
    <dt><a data-href="#CITEJstleGithub:2010:Misc" name="JstleGithub:2010:Misc">[28]</a></dt>
    <dd>
        Dan Newcome.
        dnewcome/jstle - GitHub.
        <a href="https://github.com/dnewcome/jstle"><span class="teletype">https://github.com/dnewcome/jstle</span></a>, April 2010.
        [Online, retreieved 7-Aug-2012].
    </dd>
    <dt><a data-href="#CITEJavaScriptDesignPatterns:2012:Book" name="JavaScriptDesignPatterns:2012:Book">[29]</a></dt>
    <dd>
        Addy Osmani.
        <em>Learning JavaScript Design Patterns</em>.
        O'Reilly Media, Inc., 2012.
        [Online, retrieved 19-July-2012; Available as free e-book].
    </dd>
    <dt><a data-href="#CITERdfLib:2012:Misc" name="RdfLib:2012:Misc">[30]</a></dt>
    <dd>
        rdflib.js Team.
        linkeddata/rdflib.js.
        <a href="https://github.com/linkeddata/rdflib.js"><span class="teletype">https://github.com/linkeddata/rdflib.js</span></a>.
        [Online, retreieved 7-Aug-2012].
    </dd>
    <dt><a data-href="#CITERiehle:2000:PHD" name="Riehle:2000:PHD">[31]</a></dt>
    <dd>
        Dirk Riehle.
        <em>Framework Design: A Role Modeling Approach</em>.
        PhD thesis, Eidgenssische Technische Hochschule Zrich, 2000.
        [Available online
        <a href="http://dirkriehle.com/computer-science/research/dissertation/"><span class="teletype">http://dirkriehle.com/computer-science/research/dissertation/</span></a>,
        retrieved 30-July-2012].
    </dd>
    <dt><a data-href="#CITEJS3Github:2010:Misc" name="JS3Github:2010:Misc">[32]</a></dt>
    <dd>
        Nathan Rixham.
        webr3/js3 - GitHub.
        <a href="https://github.com/webr3/js3"><span class="teletype">https://github.com/webr3/js3</span></a>, November 2010.
        [Online, retreieved 7-Aug-2012].
    </dd>
    <dt><a data-href="#CITERdfInterfaces:2011:Misc" name="RdfInterfaces:2011:Misc">[33]</a></dt>
    <dd>
        Nathan Rixham, Manu Sporny, Mark Birbeck, Ivan Herman, and Benjamin Adrian.
        RDF Interfaces 1.0.
        <a href="http://www.w3.org/TR/2011/WD-rdf-interfaces-20110510/"><span class="teletype">http://www.w3.org/TR/2011/WD-rdf-interfaces-20110510/</span></a>, May 2011.
        [Online, retreieved 7-Aug-2012].
    </dd>
    <dt><a data-href="#CITEPoemsJohnGodfreySaxe:1881:Book" name="PoemsJohnGodfreySaxe:1881:Book">[34]</a></dt>
    <dd>
        John&nbsp;Godfrey Saxe.
        <em>The Poems of John Godfrey Saxe</em>.
        Houghton, Mifflin and Company, 1881.
    </dd>
    <dt><a data-href="#CITESgvizler:2012:Article" name="Sgvizler:2012:Article">[35]</a></dt>
    <dd>
        Martin&nbsp;G. Skjveland.
        Sgvizler: A javascript wrapper for easy visualization of sparql result sets.
        <em>ESWC 2012</em>, 2012.
        Is yet to be published, but is to be a demo paper in the workshop/poster/demo proceedings of ESCW 2012.
    </dd>
    <dt><a data-href="#CITEBuster:2012:Misc" name="Buster:2012:Misc">[36]</a></dt>
    <dd>
        Buster Team.
        Buster.JS overview.
        <a href="http://busterjs.org/docs/overview/"><span class="teletype">http://busterjs.org/docs/overview/</span></a>.
        [Online, retrieved 7-Aug-2012].
    </dd>
    <dt><a data-href="#CITEGit:2012:Misc" name="Git:2012:Misc">[37]</a></dt>
    <dd>
        Git Team.
        Git - Reference.
        <a href="http://git-scm.com/docs"><span class="teletype">http://git-scm.com/docs</span></a>.
        [Online, retrieved 7-Aug-2012].
    </dd>
    <dt><a data-href="#CITENode:2012:Misc" name="Node:2012:Misc">[38]</a></dt>
    <dd>
        Node Team.
        node.js.
        <a href="http://nodejs.org/"><span class="teletype">http://nodejs.org/</span></a>.
        [Online, retrieved 7-Aug-2012].
    </dd>
    <dt><a data-href="#CITERequireJS:2012:Misc" name="RequireJS:2012:Misc">[39]</a></dt>
    <dd>
        RequireJS Team.
        RequireJS.
        <a href="http://requirejs.org/"><span class="teletype">http://requirejs.org/</span></a>.
        [Online, retrieved 7-Aug-2012].
    </dd>
    <dt><a data-href="#CITETabulator:2012:Misc" name="Tabulator:2012:Misc">[40]</a></dt>
    <dd>
        Tabulator Team.
        Tabulator: Generic data browser.
        <a href="http://www.w3.org/2005/ajar/tab"><span class="teletype">http://www.w3.org/2005/ajar/tab</span></a>.
        [Online, retrieved 7-Aug-2012].
    </dd>
    <dt><a data-href="#CITEUnderscore:2012:Misc" name="Underscore:2012:Misc">[41]</a></dt>
    <dd>
        Underscore Team.
        Underscore.js.
        <a href="http://underscorejs.org/"><span class="teletype">http://underscorejs.org/</span></a>.
        [Online, retrieved 7-Aug-2012].
    </dd>
    <dt><a data-href="#CITERdfQueryGoogleCode:2011:Misc" name="RdfQueryGoogleCode:2011:Misc">[42]</a></dt>
    <dd>
        Jeni Tennison.
        rdfquery - RDF processing in your browser - Google Project Hosting.
        <a href="http://code.google.com/p/rdfquery/"><span class="teletype">http://code.google.com/p/rdfquery/</span></a>, June 2011.
        [Online, retrieved 7-Aug-2012].
    </dd>
    <dt><a data-href="#CITEArchitectureWeb:2004:Misc" name="ArchitectureWeb:2004:Misc">[43]</a></dt>
    <dd>
        Architecture of the World Wide Web, Volume One.
        <a href="http://www.w3.org/TR/webarch/"><span class="teletype">http://www.w3.org/TR/webarch/</span></a>, 2004.
        [Online, retrieved 14-July-2012].
    </dd>
    <dt><a data-href="#CITEOwlFeatures:2004:Manual" name="OwlFeatures:2004:Manual">[44]</a></dt>
    <dd>
        World Wide Web Consortium (W3C).
        <em>OWL Web Ontology Language Overview</em>, 2004.
        [Online, retrieved 13-July-2012].
    </dd>
    <dt><a data-href="#CITERdfTestCases:2004:Misc" name="RdfTestCases:2004:Misc">[45]</a></dt>
    <dd>
        RDF Test Cases.
        <a href="http://www.w3.org/TR/rdf-testcases/"><span class="teletype">http://www.w3.org/TR/rdf-testcases/</span></a>, February 2004.
        [Online, retrieved 15-July-2012].
    </dd>
    <dt><a data-href="#CITEOwl2Overview:2009:Manual" name="Owl2Overview:2009:Manual">[46]</a></dt>
    <dd>
        World Wide Web Consortium (W3C).
        <em>OWL 2 Web Ontology Language Document Overview</em>, 2009.
        [Online, retrieved 14-July-2012].
    </dd>
    <dt><a data-href="#CITEOWL2Profiles:2009:Manual" name="OWL2Profiles:2009:Manual">[47]</a></dt>
    <dd>
        World Wide Web Consortium (W3C).
        <em>OWL 2 Web Ontology Language Profiles</em>, 2009.
        [Online, retrieved 14-July-2012].
    </dd>
    <dt><a data-href="#CITESPARQL11:2011:Manual" name="SPARQL11:2011:Manual">[48]</a></dt>
    <dd>
        World Wide Web Consortium (W3C).
        <em>SPARQL 1.1 Query Language</em>, May 2011.
        [Online, retrieved 16-July-2012].
    </dd>
    <dt><a data-href="#CITEJSONLDSyntax:2012:Manual" name="JSONLDSyntax:2012:Manual">[49]</a></dt>
    <dd>
        World Wide Web Consortium (W3C).
        <em>JSON-LD Syntax 1.0</em>, 2012.
        [Online, retrieved 15-July-2012].
    </dd>
    <dt><a data-href="#CITESemanticWebW3C:2012:Misc" name="SemanticWebW3C:2012:Misc">[50]</a></dt>
    <dd>
        Semantic Web - W3C.
        <a href="http://www.w3.org/standards/semanticweb/"><span class="teletype">http://www.w3.org/standards/semanticweb/</span></a>, July 2012.
        [Online, retrieved 10-July-2012].
    </dd>
    </dl>

    <h2>Part 4<br />Appendices</h2>

    <h2 id="tth_chApA"><a class="bookmark" href="">Appendix 1<br />Code Base</a></h2>
    <p id="chap:AppendixCodebase">
        As the code base for Graphite is rather large (approximately 36 000 SLOC, or between 500 and 1 000 pages, depending on the format you print it in), I have decided to just refer to the repository at GH.
    </p>
    <p>
        The complete framework, with all tests and demos, is available at <a href="https://github.com/megoth/graphitejs"><span class="teletype">https://github.com/megoth/graphitejs</span></a>.
    </p>

    <h2 id="tth_chApB"><a class="bookmark" href="">Appendix 2<br />Test Results</a></h2>
    <p id="chap:AppendixTestResults">
        Table <a href="#tab:AppendixTestResults">B.1</a> shows the latest results from running test runs on all the modules included in Graphite. There are 430 tests altogether, with a total of 1 413 assertions. The numbers given for Average per testruns and Average per assertion are in milliseconds. The former gives the average of ten sequent runs, while the latter gives the average time per assertion.
    </p>


    <div class="table" id="tth_tAbB.1">
    <table>
    <tr>
        <th class="center">Module</th>
        <th class="center">Tests</th>
        <th class="center"># assertions</th>
        <th class="center">Avg/assertion</th>
        <th class="left">Avg/testrun</th>
    </tr>
    <tr>
        <td class="center">API</td>
        <td class="center">9</td>
        <td class="center">10</td>
        <td class="center">149</td>
        <td class="left">1493</td>
    </tr>
    <tr>
        <td class="center">CURIE</td>
        <td class="center">13</td>
        <td class="center">13</td>
        <td class="center">5</td>
        <td class="left">60</td>
    </tr>
    <tr>
        <td class="center">Datatype</td>
        <td class="center">12</td>
        <td class="center">22</td>
        <td class="center">2</td>
        <td class="left">41</td>
    </tr>
    <tr>
        <td class="center">Engine</td>
        <td class="center">53</td>
        <td class="center">312</td>
        <td class="center">2</td>
        <td class="left">739</td>
    </tr>
    <tr>
        <td class="center">Abstract Query Tree</td>
        <td class="center">18</td>
        <td class="center">90</td>
        <td class="center">2</td>
        <td class="left">182</td>
    </tr>
    <tr>
        <td class="center">Callbacks</td>
        <td class="center">7</td>
        <td class="center">25</td>
        <td class="center">4</td>
        <td class="left">101</td>
    </tr>
    <tr>
        <td class="center">Query Filters</td>
        <td class="center">15</td>
        <td class="center">29</td>
        <td class="center">6</td>
        <td class="left">161</td>
    </tr>
    <tr>
        <td class="center">Query Plan</td>
        <td class="center">1</td>
        <td class="center">12</td>
        <td class="center">1</td>
        <td class="left">12</td>
    </tr>
    <tr>
        <td class="center">RDF JS Interface</td>
        <td class="center">5</td>
        <td class="center">20</td>
        <td class="center">3</td>
        <td class="left">68</td>
    </tr>
    <tr>
        <td class="center">Graph</td>
        <td class="center">4</td>
        <td class="center">8</td>
        <td class="center">119</td>
        <td class="left">954</td>
    </tr>
    <tr>
        <td class="center">Backend</td>
        <td class="center">2</td>
        <td class="center">57</td>
        <td class="center">0</td>
        <td class="left">22</td>
    </tr>
    <tr>
        <td class="center">Lexicon</td>
        <td class="center">2</td>
        <td class="center">9</td>
        <td class="center">2</td>
        <td class="left">16</td>
    </tr>
    <tr>
        <td class="center">Graphite</td>
        <td class="center">1</td>
        <td class="center">2</td>
        <td class="center">3</td>
        <td class="left">6</td>
    </tr>
    <tr>
        <td class="center">Loader</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">12</td>
        <td class="left">12</td>
    </tr>
    <tr>
        <td class="center">Proxy</td>
        <td class="center">2</td>
        <td class="center">4</td>
        <td class="center">8</td>
        <td class="left">33</td>
    </tr>
    <tr>
        <td class="center">XHR</td>
        <td class="center">4</td>
        <td class="center">10</td>
        <td class="center">7</td>
        <td class="left">68</td>
    </tr>
    <tr>
        <td class="center">Query</td>
        <td class="center">51</td>
        <td class="center">52</td>
        <td class="center">9</td>
        <td class="left">474</td>
    </tr>
    <tr>
        <td class="center">Query Parser</td>
        <td class="center">2</td>
        <td class="center">4</td>
        <td class="center">4</td>
        <td class="left">16</td>
    </tr>
    <tr>
        <td class="center">SPARQL</td>
        <td class="center">36</td>
        <td class="center">56</td>
        <td class="center">3</td>
        <td class="left">153</td>
    </tr>
    <tr>
        <td class="center">RDF</td>
        <td class="center">8</td>
        <td class="center">22</td>
        <td class="center">2</td>
        <td class="left">44</td>
    </tr>
    <tr>
        <td class="center">RDF Parser</td>
        <td class="center">5</td>
        <td class="center">12</td>
        <td class="center">15</td>
        <td class="left">177</td>
    </tr>
    <tr>
        <td class="center">JSON-LD</td>
        <td class="center">22</td>
        <td class="center">63</td>
        <td class="center">4</td>
        <td class="left">272</td>
    </tr>
    <tr>
        <td class="center">RDF JSON</td>
        <td class="center">8</td>
        <td class="center">9</td>
        <td class="center">89</td>
        <td class="left">802</td>
    </tr>
    <tr>
        <td class="center">RDF/XML</td>
        <td class="center">29</td>
        <td class="center">136</td>
        <td class="center">14</td>
        <td class="left">1861</td>
    </tr>
    <tr>
        <td class="center">Turtle</td>
        <td class="center">4</td>
        <td class="center">31</td>
        <td class="center">9</td>
        <td class="left">272</td>
    </tr>
    <tr>
        <td class="center">Tree Utils</td>
        <td class="center">5</td>
        <td class="center">35</td>
        <td class="center">1</td>
        <td class="left">38</td>
    </tr>
    <tr>
        <td class="center">B-Tree</td>
        <td class="center">4</td>
        <td class="center">152</td>
        <td class="center">&lt;1</td>
        <td class="left">53</td>
    </tr>
    <tr>
        <td class="center">URI</td>
        <td class="center">74</td>
        <td class="center">99</td>
        <td class="center">3</td>
        <td class="left">267</td>
    </tr>
    <tr>
        <td class="center">Utils</td>
        <td class="center">33</td>
        <td class="center">118</td>
        <td class="center">1</td>
        <td class="left">142</td>
    </tr>
    </table>
    <div class="caption" id="tab:AppendixTestResults">
        Table B.1: Test results for tests part of Graphite.
    </div>
    </div>

    <h2 id="tth_chApC"><a class="bookmark" href="">Appendix 3<br />Findings of Related Work</a></h2>
    <p id="chap:AppendixRelatedWork">
        Table <a href="#tab:AppendixRelatedWork">C.1</a> shows a list of projects I have examined as part of this thesis. A total of 114 projects were found, mostly through the service AI<sup>3</sup> Sweet Tools<a href="#tthFtNtAID" name="tthFrefAID"><sup>83</sup></a>, which has a comprehensive listing of Semantic Web related tools (the search returned 94 results when querying "javascript"). I have also included projects listed at W3Cs wiki page on Javascript<a href="#tthFtNtAIE" name="tthFrefAIE"><sup>84</sup></a>, while the last few are the result of Google search and friendly tips.
    </p>
    <p>
        The projects are analyzed with four categories: Available (Av), Semantic Web (SW), JavaScript (JS), and Easy Reusable (ER). The projects are either <span class="teletype">true</span> or <span class="teletype">false</span> to each of the categories (represented by 1 or 0 in the table, respectively). Also, the categories are sorted, from left to right, and one category that results in false on one category, will not be analyzed into the following category. If a project is analyzed as <span class="teletype">true</span> to all categories, it is labeled as interesting, and was taken into further analyzing. Section <a href="#sec:DiscussionRelatedWork">8.7</a> lists all these projects.
    </p>
    <p>
        The category <b>Available</b> regards a project as <span class="teletype">true</span> if the code of that project is dereferenceable and open source.
    </p>
    <p>
        The category <b>Semantic Web</b> regards whether a project actually had any technologies related to SW. Many of the tools listed by AI<sup>3</sup> were annotation tools, and did not have anything to do with the semantic technologies curated by W3C.
    </p>
    <p>
        The category <b>JavaScript</b> checked whether the project had any code of interest in JS.
    </p>
    <p>
        Finally, the category <b>Easy Reusable</b> checks whether or not the JS included in the project are easily reusable for the purpose of this thesis. It is more informal than the other categories, in that it was - in the end - my gut feeling of a projects code that regarded it as easy to reuse or not. Factors considered were purpose, flexible, overall structure, handling of data, and originality.
    </p>


    <div class="table" id="tth_tAbC.1">
    <table>
    <tr>
        <th class="center">Name</th>
        <th class="center">Av</th>
        <th class="center">SW</th>
        <th class="center">JS</th>
        <th class="left">ER</th>
    </tr>
    <tr>
        <td class="center">Acre</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">ALOE</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Annozilla</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Anzo Suite</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">backplanejs</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">1</td>
    </tr>
    <tr>
        <td class="center">blueorganizer</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Callimachus</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">chickenfoot</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Chimaera</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Clipmarks</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Clustybar</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Code Mirror</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Collex</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Crowbar</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Cuebee</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">DataMashups</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">DBpedia Spotlight</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Disco</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Dojo.data</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Dublin Core Viewer</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">ED (Entity Describer)</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Euler</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">EulerMOZ</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Exhibit</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Exparql</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Finnish Ontology Library Service ONKI</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">0</td>
    </tr>
    <tr>
        <td class="center">Flint SPARQL Editor</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">0</td>
    </tr>
    <tr>
        <td class="center">FOAF-o-matic</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Fuzz</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">GeoURL</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Grazr</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">GrOWL</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Hercules</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Hunter Gatherer</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">HyperBK</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">HyperScope</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">iServe Browser</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">JavaScript RDF/Turtle parser</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">1</td>
    </tr>
    <tr>
        <td class="center">Jiqs4OWL</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">jOWL</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">0</td>
    </tr>
    <tr>
        <td class="center">JS3</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">1</td>
    </tr>
    <tr>
        <td class="center">jsonld.js</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">1</td>
    </tr>
    <tr>
        <td class="center">JSTLE</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">1</td>
    </tr>
    <tr>
        <td class="center">LAPIS</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Linked Data Mapper</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Live Clipboard</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Marmite</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">MOAW</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">mSpace</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Nokia Semantic Web Server</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">OAI Repository Explorer</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Ocelot</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">One Click Annotator</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Open Anzo</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">OpenLink AJAX Toolkit (OAT)</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">0</td>
    </tr>
    <tr>
        <td class="center">OpenLink Data Explorer (ODE)</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">0</td>
    </tr>
    <tr>
        <td class="center">OpenLink Virtuoso</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">OpenRecord</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Operator</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">OPML Reader</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">OPML Support</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">OwlSight</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Piggy Bank</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Pipes</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">PoolParty</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Potluck</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">pushback</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">0</td>
    </tr>
    <tr>
        <td class="center">rCache</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">RDF Viewer</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">RDFa Developer</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">RDFaCE</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">0</td>
    </tr>
    <tr>
        <td class="center">RDFaPI-JS</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">0</td>
    </tr>
    <tr>
        <td class="center">rdflib.js</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">1</td>
    </tr>
    <tr>
        <td class="center">rdfQuery</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">1</td>
    </tr>
    <tr>
        <td class="center">rdfstore-js</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">1</td>
    </tr>
    <tr>
        <td class="center">Rhizomer</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">0</td>
    </tr>
    <tr>
        <td class="center">Sage</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Sahi</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Scaffold</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Scooner</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">ScrapBook</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Semantic Radar</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Semantic Turkey</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Semantic Web Pipes</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">semanticgraph</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">0</td>
    </tr>
    <tr>
        <td class="center">SemanticSTEP Viewer</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">SemClip</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">sgvizler</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">1</td>
    </tr>
    <tr>
        <td class="center">Sifter</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Sig.ma</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Simple javascript RDF Parser and query thingy</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">1</td>
    </tr>
    <tr>
        <td class="center">SKOS_WS</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Solvent</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Sparallax</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Spark</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">SPARQL JavaScript Library</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">1</td>
    </tr>
    <tr>
        <td class="center">sparqlPuSH</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Strata</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">structOntology</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">0</td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">sw-widgets</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Sweet Tools</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Swipe</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Sztakipedia</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Tabulator</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">1</td>
    </tr>
    <tr>
        <td class="center">Timeline</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="center">1</td>
        <td class="left">0</td>
    </tr>
    <tr>
        <td class="center">Twarql: Twitter feeds through SPARQL</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Ubiquity-RDFa</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Visualisations for the CS AKTive Portal</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">VIVID</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Web Clipboard</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Wikimeta</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Wrangler</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">WSO2 Mashup Server</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    <tr>
        <td class="center">Zotero</td>
        <td class="center">0</td>
        <td class="center"></td>
        <td class="center"></td>
        <td class="left"></td>
    </tr>
    </table>
    <div class="caption" id="tab:AppendixRelatedWork">
        Table C.1: List of projects examined as part of this thesis.
    </div>
    </div>
    <hr />
    <h4>Footnotes:</h4>
    <ul>
        <li id="tthFtNtAAB"><a href="#tthFrefAAB"><sup>1</sup></a>This might be wrong: <a href="http://www.w3.org/TR/2004/REC-owl-features-20040210/#s1.3"><span class="teletype">http://www.w3.org/TR/2004/REC-owl-features-20040210/\#s1.3</span></a> states that OWL 1 has three sublanguages, while <a href="http://www.w3.org/TR/2009/REC-owl2-new-features-20091027/#Backward_Compatibility"><span class="teletype">http://www.w3.org/TR/2009/REC-owl2-new-features-20091027/\#Backward_Compatibility</span></a> claims that it only has one. But for the purposes of this thesis, I work with three sublanguages.</li>
        <li id="tthFtNtAAC"><a href="#tthFrefAAC"><sup>2</sup></a><a href="http://www.w3.org/DesignIssues/LinkedData.html"><span class="teletype">http://www.w3.org/DesignIssues/LinkedData.html</span></a></li>
        <li id="tthFtNtAAD"><a href="#tthFrefAAD"><sup>3</sup></a>Examples of this are platforms such as the UK initiative to open governmental data (<a href="http://data.gov.uk/"><span class="teletype">http://data.gov.uk/</span></a>), US' approach of the same (<a href="http://www.data.gov/"><span class="teletype">http://www.data.gov/</span></a>), and Norway's parliament opening of its databases through Stortingets datatjeneste (<a href="http://data.stortinget.no/"><span class="teletype">http://data.stortinget.no/</span></a>). You also have other non-governmental organizations, such as <abbr title="Parliamentary Monitoring Organization">PMO</abbr>s.</li>
        <li id="tthFtNtAAE"><a href="#tthFrefAAE"><sup>4</sup></a>Well, as of 19th of September 2011, when the diagram was last updated.</li>
        <li id="tthFtNtAAF"><a href="#tthFrefAAF"><sup>5</sup></a>Therefore, strictly speaking, it does not matter whether I use URIs or IRIs in this thesis, as I do not use any non-ASCII signs in any of the IRI I present.</li>
        <li id="tthFtNtAAG"><a href="#tthFrefAAG"><sup>6</sup></a><a href="http://docs.api.talis.com/platform-api/output-types/rdf-json"><span class="teletype">http://docs.api.talis.com/platform-api/output-types/rdf-json</span></a></li>
        <li id="tthFtNtAAH"><a href="#tthFrefAAH"><sup>7</sup></a><a href="http://www.w3.org/TR/json-ld-syntax/"><span class="teletype">http://www.w3.org/TR/json-ld-syntax/</span></a></li>
        <li id="tthFtNtAAI"><a href="#tthFrefAAI"><sup>8</sup></a><a href="http://json-ld.org/"><span class="teletype">http://json-ld.org/</span></a>, <a href="http://www.w3.org/community/json-ld/"><span class="teletype">http://www.w3.org/community/json-ld/</span></a></li>
        <li id="tthFtNtAAJ"><a href="#tthFrefAAJ"><sup>9</sup></a><a href="http://www.w3.org/blog/SW/2011/09/13/the-state-of-rdf-and-json/"><span class="teletype">http://www.w3.org/blog/SW/2011/09/13/the-state-of-rdf-and-json/</span></a></li>
        <li id="tthFtNtABA"><a href="#tthFrefABA"><sup>10</sup></a>Topic: Formal Definition of Linked Data at <a href="http://json-ld.org/minutes/2011-07-04/"><span class="teletype">http://json-ld.org/minutes/2011-07-04/</span></a></li>
        <li id="tthFtNtABB"><a href="#tthFrefABB"><sup>11</sup></a><a href="http://www.w3.org/TR/rdfa-primer/"><span class="teletype">http://www.w3.org/TR/rdfa-primer/</span></a></li>
        <li id="tthFtNtABC"><a href="#tthFrefABC"><sup>12</sup></a><a href="http://www.w3.org/TR/rdfa-core/"><span class="teletype">http://www.w3.org/TR/rdfa-core/</span></a></li>
        <li id="tthFtNtABD"><a href="#tthFrefABD"><sup>13</sup></a><a href="http://www.w3.org/TR/rdfa-lite/"><span class="teletype">http://www.w3.org/TR/rdfa-lite/</span></a></li>
        <li id="tthFtNtABE"><a href="#tthFrefABE"><sup>14</sup></a><a href="http://www.w3.org/TR/xhtml-rdfa/"><span class="teletype">http://www.w3.org/TR/xhtml-rdfa/</span></a></li>
        <li id="tthFtNtABF"><a href="#tthFrefABF"><sup>15</sup></a><a href="http://www.w3.org/TR/rdfa-in-html/"><span class="teletype">http://www.w3.org/TR/rdfa-in-html/</span></a></li>
        <li id="tthFtNtABG"><a href="#tthFrefABG"><sup>16</sup></a>The SPARQL 1.1 specification numbers almost 100 pages as of this writing</li>
        <li id="tthFtNtABH"><a href="#tthFrefABH"><sup>17</sup></a><a href="http://www.w3.org/TR/rdf-mt/"><span class="teletype">http://www.w3.org/TR/rdf-mt/</span></a></li>
        <li id="tthFtNtABI"><a href="#tthFrefABI"><sup>18</sup></a><a href="http://www.w3.org/TR/owl2-direct-semantics/"><span class="teletype">http://www.w3.org/TR/owl2-direct-semantics/</span></a></li>
        <li id="tthFtNtABJ"><a href="#tthFrefABJ"><sup>19</sup></a><a href="http://www.crockford.com/javascript/javascript.html"><span class="teletype">http://www.crockford.com/javascript/javascript.html</span></a></li>
        <li id="tthFtNtACA"><a href="#tthFrefACA"><sup>20</sup></a>Design issues in JS has given rise to many frustrating moments, creating momentum for websites such as <a href="http://wtfjs.com/"><span class="teletype">http://wtfjs.com/</span></a>, which delivers examples of "weird code".</li>
        <li id="tthFtNtACB"><a href="#tthFrefACB"><sup>21</sup></a>In this regard, <a href="http://dailyjs.com/"><span class="teletype">http://dailyjs.com/</span></a> offers a variety of good resources for learning JS, specifically its articles tagged with #beginner (<a href="http://dailyjs.com/tags.html#beginner"><span class="teletype">http://dailyjs.com/tags.html\#beginner</span></a>).</li>
        <li id="tthFtNtACC"><a href="#tthFrefACC"><sup>22</sup></a>Despite the slow pace of browser-update in some communities, e.g. usage of <abbr title="Internet Explorer version 6">IE6</abbr> in China, lousy implementations is a thing that is becoming a thing of the past.</li>
        <li id="tthFtNtACD"><a href="#tthFrefACD"><sup>23</sup></a>Which include, in the authors view:

            <ul>
                <li> JavaScript: The Definitive Guide, 6th edition, by David Flanagan (O'Reilly Media).</li>
                <li> JavaScript: The Good Parts, by Douglas Crockford (O'Reilly Media).</li>
            </ul></li>
        <li id="tthFtNtACE"><a href="#tthFrefACE"><sup>24</sup></a>Notably, in Norway you have Web Rebels (<a href="http://webrebels.org/"><span class="teletype">http://webrebels.org/</span></a>), and JS has its own session on <abbr title="Norwegian Developers Conference">NDC</abbr>, with somewhat above 10% of the talks concerning JS.</li>
        <li id="tthFtNtACF"><a href="#tthFrefACF"><sup>25</sup></a>One example being jQuery, which is shipped with Microsoft's Visual Studio, another being AngularJS, which is an MIT-licensed <abbr title="Model-view-controller">MVC</abbr> framework developed by Google.</li>
        <li id="tthFtNtACG"><a href="#tthFrefACG"><sup>26</sup></a>That being said, percentage-wise it is probable that JS is still written by more amateurs than professional developers. This is not a bad thing though, as it expresses the power of adaptation that JS features, and may be a gateway for developers-to-be. Also, lets not forget that the word amateur means "lover of", and love of computer technologies is something to be embraced.</li>
        <li id="tthFtNtACH"><a href="#tthFrefACH"><sup>27</sup></a>A lot can be said about trust on the web, but that is not the purpose of this thesis.</li>
        <li id="tthFtNtACI"><a href="#tthFrefACI"><sup>28</sup></a><a href="http://code.google.com/p/browsersec/wiki/Part2#Same-origin_policy"><span class="teletype">http://code.google.com/p/browsersec/wiki/Part2\#Same-origin_policy</span></a></li>
        <li id="tthFtNtACJ"><a href="#tthFrefACJ"><sup>29</sup></a><a href="http://www.w3.org/TR/CSP/"><span class="teletype">http://www.w3.org/TR/CSP/</span></a></li>
        <li id="tthFtNtADA"><a href="#tthFrefADA"><sup>30</sup></a><a href="http://www.w3.org/TR/cors/"><span class="teletype">http://www.w3.org/TR/cors/</span></a></li>
        <li id="tthFtNtADB"><a href="#tthFrefADB"><sup>31</sup></a><a href="http://www.commonjs.org/"><span class="teletype">http://www.commonjs.org/</span></a></li>
        <li id="tthFtNtADC"><a href="#tthFrefADC"><sup>32</sup></a><a href="http://wiki.commonjs.org/wiki/Promises/A"><span class="teletype">http://wiki.commonjs.org/wiki/Promises/A</span></a></li>
        <li id="tthFtNtADD"><a href="#tthFrefADD"><sup>33</sup></a><a href="http://wiki.commonjs.org/wiki/Modules/Async/A"><span class="teletype">http://wiki.commonjs.org/wiki/Modules/Async/A</span></a></li>
        <li id="tthFtNtADE"><a href="#tthFrefADE"><sup>34</sup></a>Although some environments, such as Node, loads the dependencies synchronously.</li>
        <li id="tthFtNtADF"><a href="#tthFrefADF"><sup>35</sup></a><a href="http://code.google.com/p/traceur-compiler/"><span class="teletype">http://code.google.com/p/traceur-compiler/</span></a></li>
        <li id="tthFtNtADG"><a href="#tthFrefADG"><sup>36</sup></a><a href="https://code.google.com/p/esprima/"><span class="teletype">https://code.google.com/p/esprima/</span></a></li>
        <li id="tthFtNtADH"><a href="#tthFrefADH"><sup>37</sup></a><a href="http://c2.com/doc/oopsla87.html"><span class="teletype">http://c2.com/doc/oopsla87.html</span></a></li>
        <li id="tthFtNtADI"><a href="#tthFrefADI"><sup>38</sup></a>That being said, I have described how you could implement a function that tests properties in section <a href="#sec:DiscussionSDPandTDD">8.4</a>.</li>
        <li id="tthFtNtADJ"><a href="#tthFrefADJ"><sup>39</sup></a><a href="http://addyosmani.com/resources/essentialjsdesignpatterns/book/#decoratorpatternjavascript"><span class="teletype">http://addyosmani.com/resources/essentialjsdesignpatterns/book/\#decoratorpatternjavascript</span></a></li>
        <li id="tthFtNtAEA"><a href="#tthFrefAEA"><sup>40</sup></a>Inspired by the example given by Mike Pennisi in his blog post at <a href="http://weblog.bocoup.com/the-strategy-pattern-in-javascript/"><span class="teletype">http://weblog.bocoup.com/the-strategy-pattern-in-javascript/</span></a></li>
        <li id="tthFtNtAEB"><a href="#tthFrefAEB"><sup>41</sup></a><a href="https://github.com/busterjs/buster"><span class="teletype">https://github.com/busterjs/buster</span></a></li>
        <li id="tthFtNtAEC"><a href="#tthFrefAEC"><sup>42</sup></a><a href="https://github.com/joyent/node"><span class="teletype">https://github.com/joyent/node</span></a></li>
        <li id="tthFtNtAED"><a href="#tthFrefAED"><sup>43</sup></a><a href="http://www.mozilla.org/rhino/"><span class="teletype">http://www.mozilla.org/rhino/</span></a></li>
        <li id="tthFtNtAEE"><a href="#tthFrefAEE"><sup>44</sup></a>For complete list, see the documentation at <a href="http://git-scm.com/docs"><span class="teletype">http://git-scm.com/docs</span></a></li>
        <li id="tthFtNtAEF"><a href="#tthFrefAEF"><sup>45</sup></a><a href="https://github.com/about/"><span class="teletype">https://github.com/about/</span></a></li>
        <li id="tthFtNtAEG"><a href="#tthFrefAEG"><sup>46</sup></a><a href="http://www.jetbrains.com/webstorm/features/index.html"><span class="teletype">http://www.jetbrains.com/webstorm/features/index.html</span></a></li>
        <li id="tthFtNtAEH"><a href="#tthFrefAEH"><sup>47</sup></a><a href="http://code.google.com/p/rdfquery/"><span class="teletype">http://code.google.com/p/rdfquery/</span></a></li>
        <li id="tthFtNtAEI"><a href="#tthFrefAEI"><sup>48</sup></a><a href="https://github.com/alohaeditor/rdfQuery"><span class="teletype">https://github.com/alohaeditor/rdfQuery</span></a></li>
        <li id="tthFtNtAEJ"><a href="#tthFrefAEJ"><sup>49</sup></a>http://www.w3.org/TR/rdf-interfaces/</li>
        <li id="tthFtNtAFA"><a href="#tthFrefAFA"><sup>50</sup></a><a href="http://www.w3.org/TR/rdf-sparql-protocol/"><span class="teletype">http://www.w3.org/TR/rdf-sparql-protocol/</span></a></li>
        <li id="tthFtNtAFB"><a href="#tthFrefAFB"><sup>51</sup></a><a href="https://github.com/antoniogarrote/rdfstore-js/"><span class="teletype">https://github.com/antoniogarrote/rdfstore-js/</span></a></li>
        <li id="tthFtNtAFC"><a href="#tthFrefAFC"><sup>52</sup></a><a href="https://github.com/cujojs/when"><span class="teletype">https://github.com/cujojs/when</span></a></li>
        <li id="tthFtNtAFD"><a href="#tthFrefAFD"><sup>53</sup></a><a href="http://www.w3.org/TR/curie/"><span class="teletype">http://www.w3.org/TR/curie/</span></a></li>
        <li id="tthFtNtAFE"><a href="#tthFrefAFE"><sup>54</sup></a><a href="http://www.w3.org/2001/sw/DataAccess/rq23/rq24-algebra.html"><span class="teletype">http://www.w3.org/2001/sw/DataAccess/rq23/rq24-algebra.html</span></a></li>
        <li id="tthFtNtAFF"><a href="#tthFrefAFF"><sup>55</sup></a><a href="http://www.w3.org/TR/rdf-interfaces/"><span class="teletype">http://www.w3.org/TR/rdf-interfaces/</span></a></li>
        <li id="tthFtNtAFG"><a href="#tthFrefAFG"><sup>56</sup></a><a href="http://pegjs.majda.cz/"><span class="teletype">http://pegjs.majda.cz/</span></a></li>
        <li id="tthFtNtAFH"><a href="#tthFrefAFH"><sup>57</sup></a><a href="https://github.com/digitalbazaar/jsonld.js"><span class="teletype">https://github.com/digitalbazaar/jsonld.js</span></a></li>
        <li id="tthFtNtAFI"><a href="#tthFrefAFI"><sup>58</sup></a><a href="http://www.w3.org/TR/rdf-testcases/"><span class="teletype">http://www.w3.org/TR/rdf-testcases/</span></a></li>
        <li id="tthFtNtAFJ"><a href="#tthFrefAFJ"><sup>59</sup></a><a href="http://www.w3.org/TeamSubmission/turtle/tests/"><span class="teletype">http://www.w3.org/TeamSubmission/turtle/tests/</span></a></li>
        <li id="tthFtNtAGA"><a href="#tthFrefAGA"><sup>60</sup></a><a href="http://www.gossamer-threads.com/lists/linux/kernel/667935"><span class="teletype">http://www.gossamer-threads.com/lists/linux/kernel/667935</span></a></li>
        <li id="tthFtNtAGB"><a href="#tthFrefAGB"><sup>61</sup></a><a href="https://github.com/megoth/graphitejs/tree/master/demo-music"><span class="teletype">https://github.com/megoth/graphitejs/tree/master/demo-music</span></a></li>
        <li id="tthFtNtAGC"><a href="#tthFrefAGC"><sup>62</sup></a><a href="http://www.w3.org/2001/sw/DataAccess/rq23/rq24-algebra.html"><span class="teletype">http://www.w3.org/2001/sw/DataAccess/rq23/rq24-algebra.html</span></a></li>
        <li id="tthFtNtAGD"><a href="#tthFrefAGD"><sup>63</sup></a><a href="http://requirejs.org/docs/node.html"><span class="teletype">http://requirejs.org/docs/node.html</span></a></li>
        <li id="tthFtNtAGE"><a href="#tthFrefAGE"><sup>64</sup></a>This pattern are also available at other frameworks, such as Backbone (<a href="http://backbonejs.org/"><span class="teletype">http://backbonejs.org/</span></a>)</li>
        <li id="tthFtNtAGF"><a href="#tthFrefAGF"><sup>65</sup></a>A good list is available at <a href="http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx"><span class="teletype">http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx</span></a>.</li>
        <li id="tthFtNtAGG"><a href="#tthFrefAGG"><sup>66</sup></a>Freely available at <a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm"><span class="teletype">http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm</span></a>.</li>
        <li id="tthFtNtAGH"><a href="#tthFrefAGH"><sup>67</sup></a>There are several successful frameworks implementing a RESTful architecture, such as AngularJS (<a href="http://angularjs.org/"><span class="teletype">http://angularjs.org/</span></a>), Ext JS (<a href="http://docs.sencha.com/ext-js/4-1/#!/api/Ext.data.proxy.Rest"><span class="teletype">http://docs.sencha.com/ext-js/4-1/\#!/api/Ext.data.proxy.Rest</span></a>), and qooxdoo (<a href="http://manual.qooxdoo.org/current/pages/communication/rest.html"><span class="teletype">http://manual.qooxdoo.org/current/pages/communication/rest.html</span></a>).</li>
        <li id="tthFtNtAGI"><a href="#tthFrefAGI"><sup>68</sup></a>My own supervisor, Kjetil Kjernsmo, has contributed to this with his paper "The necessity of hypermedia RDF and an approach to achieve it" (available at <a href="http://folk.uio.no/kjekje/2012/hypermedia-rdf.pdf"><span class="teletype">http://folk.uio.no/kjekje/2012/hypermedia-rdf.pdf</span></a>).</li>
        <li id="tthFtNtAGJ"><a href="#tthFrefAGJ"><sup>69</sup></a><a href="http://code.google.com/p/js-test-driver/"><span class="teletype">http://code.google.com/p/js-test-driver/</span></a></li>
        <li id="tthFtNtAHA"><a href="#tthFrefAHA"><sup>70</sup></a><a href="http://pivotal.github.com/jasmine/"><span class="teletype">http://pivotal.github.com/jasmine/</span></a></li>
        <li id="tthFtNtAHB"><a href="#tthFrefAHB"><sup>71</sup></a><a href="http://siliconforks.com/jscoverage/"><span class="teletype">http://siliconforks.com/jscoverage/</span></a></li>
        <li id="tthFtNtAHC"><a href="#tthFrefAHC"><sup>72</sup></a><a href="http://gitorious.org/buster-coverage"><span class="teletype">http://gitorious.org/buster-coverage</span></a></li>
        <li id="tthFtNtAHD"><a href="#tthFrefAHD"><sup>73</sup></a><a href="https://code.google.com/p/ubiquity-rdfa/"><span class="teletype">https://code.google.com/p/ubiquity-rdfa/</span></a></li>
        <li id="tthFtNtAHE"><a href="#tthFrefAHE"><sup>74</sup></a><a href="http://code.google.com/p/backplanejs/wiki/RdfaModule"><span class="teletype">http://code.google.com/p/backplanejs/wiki/RdfaModule</span></a></li>
        <li id="tthFtNtAHF"><a href="#tthFrefAHF"><sup>75</sup></a><a href="http://www.kanzaki.com/works/"><span class="teletype">http://www.kanzaki.com/works/</span></a></li>
        <li id="tthFtNtAHG"><a href="#tthFrefAHG"><sup>76</sup></a><a href="https://github.com/digitalbazaar/jsonld.js"><span class="teletype">https://github.com/digitalbazaar/jsonld.js</span></a></li>
        <li id="tthFtNtAHH"><a href="#tthFrefAHH"><sup>77</sup></a><a href="https://github.com/linkeddata/rdflib.js"><span class="teletype">https://github.com/linkeddata/rdflib.js</span></a></li>
        <li id="tthFtNtAHI"><a href="#tthFrefAHI"><sup>78</sup></a>At the time of this writing, it had been forked 12 times, and had 126 watchers.</li>
        <li id="tthFtNtAHJ"><a href="#tthFrefAHJ"><sup>79</sup></a><a href="http://code.google.com/p/rdfquery/"><span class="teletype">http://code.google.com/p/rdfquery/</span></a></li>
        <li id="tthFtNtAIA"><a href="#tthFrefAIA"><sup>80</sup></a><a href="https://github.com/alohaeditor/rdfQuery"><span class="teletype">https://github.com/alohaeditor/rdfQuery</span></a></li>
        <li id="tthFtNtAIB"><a href="#tthFrefAIB"><sup>81</sup></a>Available at <a href="http://code.google.com/p/sgvizler/"><span class="teletype">http://code.google.com/p/sgvizler/</span></a>.</li>
        <li id="tthFtNtAIC"><a href="#tthFrefAIC"><sup>82</sup></a><a href="http://www.thefigtrees.net/lee/blog/2006/04/sparql_calendar_demo_a_sparql.html"><span class="teletype">http://www.thefigtrees.net/lee/blog/2006/04/sparql_calendar_demo_a_sparql.html</span></a></li>
        <li id="tthFtNtAID"><a href="#tthFrefAID"><sup>83</sup></a><a href="http://www.mkbergman.com/sweet-tools/"><span class="teletype">http://www.mkbergman.com/sweet-tools/</span></a></li>
        <li id="tthFtNtAIE"><a href="#tthFrefAIE"><sup>84</sup></a><a href="http://www.w3.org/2001/sw/wiki/Javascript"><span class="teletype">http://www.w3.org/2001/sw/wiki/Javascript</span></a></li>
    </ul>
</div>
<div id="Footer">
    <small>File translated from
    T<sub>E</sub>X
    by <a href="http://hutchinson.belmont.ma.us/tth/">    T<sub>T</sub>H</a>,
    version 4.01.<br />On  9 Aug 2012, 12:22.</small>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script>
    $(function () {
        $("pre").each(function (index, value) {
            var list = $('<dl></dl>');
            var code = $(value).addClass("code");
            code.text().split("\n").forEach(function (line, index) {
                $('<dt class="ln"></dt>').html(index + 1).appendTo(list);
                $('<dd class="cl"></dd>').html(line.replace("<", "&#60;").replace(">", "&#62;") + "&nbsp;").appendTo(list);
            });
            code.html(list);
        });
    });
</script>
</body>
</html>
